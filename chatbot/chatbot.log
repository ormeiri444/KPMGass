2025-05-30 11:55:40,056 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 11:55:40,057 - __main__ - ERROR - Error in chat endpoint: 500: Azure OpenAI client not initialized
2025-05-30 11:57:09,497 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 11:57:09,498 - __main__ - ERROR - Error in chat endpoint: 500: Azure OpenAI client not initialized
2025-05-30 11:58:32,137 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 11:58:32,137 - __main__ - ERROR - Error in chat endpoint: 500: Azure OpenAI client not initialized
2025-05-30 12:00:23,048 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 12:00:23,048 - __main__ - ERROR - Error in chat endpoint: 500: Azure OpenAI client not initialized
2025-05-30 12:00:26,451 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 12:00:26,451 - __main__ - ERROR - Error in chat endpoint: 500: Azure OpenAI client not initialized
2025-05-30 12:04:14,406 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 12:04:14,406 - __main__ - ERROR - Error in chat endpoint: 500: Azure OpenAI client not initialized
2025-05-30 12:04:50,555 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 12:04:50,555 - __main__ - ERROR - Error in chat endpoint: 500: Azure OpenAI client not initialized
2025-05-30 12:04:50,562 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 12:04:50,562 - __main__ - ERROR - Error in chat endpoint: 500: Azure OpenAI client not initialized
2025-05-30 12:09:27,431 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 12:09:27,431 - __main__ - ERROR - Error in chat endpoint: 500: Azure OpenAI client not initialized
2025-05-30 12:09:34,338 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 12:09:34,338 - __main__ - ERROR - Error in chat endpoint: 500: Azure OpenAI client not initialized
2025-05-30 12:09:34,344 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 12:09:34,344 - __main__ - ERROR - Error in chat endpoint: 500: Azure OpenAI client not initialized
2025-05-30 12:10:37,563 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 12:10:37,563 - __main__ - ERROR - Error in chat endpoint: 500: Azure OpenAI client not initialized
2025-05-30 12:10:42,550 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 12:10:42,550 - __main__ - ERROR - Error in chat endpoint: 500: Azure OpenAI client not initialized
2025-05-30 12:10:42,557 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 12:10:42,557 - __main__ - ERROR - Error in chat endpoint: 500: Azure OpenAI client not initialized
2025-05-30 12:12:15,931 - __main__ - INFO - Azure OpenAI client initialized successfully
2025-05-30 12:13:21,373 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 12:13:21,374 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 12:13:24,345 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 12:13:24,352 - __main__ - INFO - Chat response generated successfully
2025-05-30 12:13:48,805 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 12:13:48,806 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 12:13:50,225 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 12:13:50,227 - __main__ - INFO - Chat response generated successfully
2025-05-30 12:14:01,357 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 12:14:01,357 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 12:14:03,052 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 12:14:03,054 - __main__ - INFO - Chat response generated successfully
2025-05-30 12:14:11,126 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 12:14:11,127 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 12:14:13,117 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 12:14:13,119 - __main__ - INFO - Chat response generated successfully
2025-05-30 12:14:16,098 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 12:14:16,099 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 12:14:16,782 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 12:14:16,784 - __main__ - INFO - Chat response generated successfully
2025-05-30 12:14:26,509 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 12:14:26,510 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 12:14:29,369 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 12:14:29,371 - __main__ - INFO - Chat response generated successfully
2025-05-30 12:14:35,090 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 12:14:35,090 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 12:14:36,525 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 12:14:36,526 - __main__ - INFO - Chat response generated successfully
2025-05-30 12:14:55,038 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 12:14:55,038 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 12:14:56,301 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 12:14:56,303 - __main__ - INFO - Chat response generated successfully
2025-05-30 12:15:05,529 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 12:15:05,529 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 12:15:07,363 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 12:15:07,364 - __main__ - INFO - Chat response generated successfully
2025-05-30 12:15:18,972 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 12:15:18,972 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 12:15:20,367 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 12:15:20,368 - __main__ - INFO - Chat response generated successfully
2025-05-30 12:19:32,094 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 12:19:32,095 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 12:19:34,798 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 12:19:34,800 - __main__ - INFO - Chat response generated successfully
2025-05-30 12:19:42,756 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 12:19:42,756 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 12:19:43,983 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 12:19:43,986 - __main__ - INFO - Chat response generated successfully
2025-05-30 12:19:48,577 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 12:19:48,577 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 12:19:49,206 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 12:19:49,207 - __main__ - INFO - Chat response generated successfully
2025-05-30 12:19:51,606 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 12:19:51,607 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 12:19:52,200 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 12:19:52,201 - __main__ - INFO - Chat response generated successfully
2025-05-30 12:19:54,880 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 12:19:54,880 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 12:19:55,551 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 12:19:55,553 - __main__ - INFO - Chat response generated successfully
2025-05-30 12:19:59,209 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 12:19:59,209 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 12:19:59,975 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 12:19:59,977 - __main__ - INFO - Chat response generated successfully
2025-05-30 12:20:04,365 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 12:20:04,366 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 12:20:05,021 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 12:20:05,023 - __main__ - INFO - Chat response generated successfully
2025-05-30 12:20:07,939 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 12:20:07,940 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 12:20:09,292 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 12:20:09,293 - __main__ - INFO - Chat response generated successfully
2025-05-30 12:21:26,272 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 12:21:26,272 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 12:21:28,909 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 12:21:28,911 - __main__ - INFO - Chat response generated successfully
2025-05-30 12:22:48,411 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 12:22:48,412 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 12:22:51,089 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 12:22:51,092 - __main__ - INFO - Chat response generated successfully
2025-05-30 12:25:44,263 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 12:25:44,264 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 12:25:47,628 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 12:25:47,629 - __main__ - INFO - Chat response generated successfully
2025-05-30 12:25:56,757 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 12:25:56,757 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 12:25:57,893 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 12:25:57,895 - __main__ - INFO - Chat response generated successfully
2025-05-30 12:26:09,295 - __main__ - INFO - Chat request received - Phase: collection, Language: english
2025-05-30 12:26:09,295 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 12:26:11,796 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 12:26:11,798 - __main__ - INFO - Chat response generated successfully
2025-05-30 12:28:02,282 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 12:28:02,282 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 12:28:04,662 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 12:28:04,666 - __main__ - INFO - Chat response generated successfully
2025-05-30 12:28:09,643 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 12:28:09,643 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 12:28:11,833 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 12:28:11,834 - __main__ - INFO - Chat response generated successfully
2025-05-30 12:28:14,988 - __main__ - INFO - Chat request received - Phase: collection, Language: english
2025-05-30 12:28:14,988 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 12:28:16,568 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 12:28:16,570 - __main__ - INFO - Chat response generated successfully
2025-05-30 12:29:16,097 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 12:29:16,098 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 12:29:19,155 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 12:29:19,158 - __main__ - INFO - Chat response generated successfully
2025-05-30 12:29:26,045 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 12:29:26,045 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 12:29:27,414 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 12:29:27,415 - __main__ - INFO - Chat response generated successfully
2025-05-30 12:29:30,882 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 12:29:30,882 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 12:29:31,583 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 12:29:31,585 - __main__ - INFO - Chat response generated successfully
2025-05-30 12:29:33,878 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 12:29:33,879 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 12:29:34,910 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 12:29:34,911 - __main__ - INFO - Chat response generated successfully
2025-05-30 12:29:38,515 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 12:29:38,515 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 12:29:39,137 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 12:29:39,137 - __main__ - INFO - Chat response generated successfully
2025-05-30 12:29:41,874 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 12:29:41,875 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 12:29:42,540 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 12:29:42,542 - __main__ - INFO - Chat response generated successfully
2025-05-30 12:29:47,307 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 12:29:47,307 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 12:29:47,831 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 12:29:47,832 - __main__ - INFO - Chat response generated successfully
2025-05-30 12:29:51,099 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 12:29:51,099 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 12:29:52,780 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 12:29:52,783 - __main__ - INFO - Chat response generated successfully
2025-05-30 12:30:01,507 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 12:30:01,507 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 12:30:02,771 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 12:30:02,773 - __main__ - INFO - Chat response generated successfully
2025-05-30 12:31:19,196 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 12:31:19,197 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 12:31:21,638 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 12:31:21,640 - __main__ - INFO - Chat response generated successfully
2025-05-30 12:39:20,273 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 12:39:20,274 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 12:39:23,609 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 12:39:23,612 - __main__ - INFO - Chat response generated successfully
2025-05-30 12:39:28,572 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 12:39:28,572 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 12:39:29,299 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 12:39:29,300 - __main__ - INFO - Chat response generated successfully
2025-05-30 12:39:35,325 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 12:39:35,326 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 12:39:36,608 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 12:39:36,610 - __main__ - INFO - Chat response generated successfully
2025-05-30 12:39:41,705 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 12:39:41,706 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 12:39:42,993 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 12:39:42,994 - __main__ - INFO - Chat response generated successfully
2025-05-30 12:39:49,699 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 12:39:49,699 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 12:39:50,886 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 12:39:50,888 - __main__ - INFO - Chat response generated successfully
2025-05-30 12:39:56,661 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 12:39:56,662 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 12:39:57,731 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 12:39:57,733 - __main__ - INFO - Chat response generated successfully
2025-05-30 12:40:03,509 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 12:40:03,510 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 12:40:05,471 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 12:40:05,474 - __main__ - INFO - Chat response generated successfully
2025-05-30 12:40:10,778 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 12:40:10,779 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 12:40:12,003 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 12:40:12,006 - __main__ - INFO - Chat response generated successfully
2025-05-30 12:40:15,025 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 12:40:15,025 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 12:40:16,335 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 12:40:16,338 - __main__ - INFO - Chat response generated successfully
2025-05-30 12:40:29,686 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 12:40:29,686 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 12:40:30,670 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 12:40:30,672 - __main__ - INFO - Chat response generated successfully
2025-05-30 12:40:36,297 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 12:40:36,297 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 12:40:38,066 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 12:40:38,068 - __main__ - INFO - Chat response generated successfully
2025-05-30 12:40:45,457 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 12:40:45,459 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 12:40:46,689 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 12:40:46,690 - __main__ - INFO - Chat response generated successfully
2025-05-30 12:41:10,007 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 12:41:10,008 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 12:41:12,596 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 12:41:12,597 - __main__ - INFO - Chat response generated successfully
2025-05-30 12:46:54,882 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 12:46:54,883 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 12:46:57,396 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 12:46:57,400 - __main__ - INFO - Chat response generated successfully
2025-05-30 12:47:00,996 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 12:47:00,996 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 12:47:01,795 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 12:47:01,795 - __main__ - INFO - Chat response generated successfully
2025-05-30 12:47:04,616 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 12:47:04,616 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 12:47:05,379 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 12:47:05,380 - __main__ - INFO - Chat response generated successfully
2025-05-30 12:47:07,472 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 12:47:07,473 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 12:47:08,200 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 12:47:08,202 - __main__ - INFO - Chat response generated successfully
2025-05-30 12:47:10,925 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 12:47:10,925 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 12:47:11,730 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 12:47:11,731 - __main__ - INFO - Chat response generated successfully
2025-05-30 12:47:15,165 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 12:47:15,165 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 12:47:15,995 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 12:47:15,997 - __main__ - INFO - Chat response generated successfully
2025-05-30 12:47:19,653 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 12:47:19,654 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 12:47:20,424 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 12:47:20,426 - __main__ - INFO - Chat response generated successfully
2025-05-30 12:47:22,655 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 12:47:22,656 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 12:47:24,068 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 12:47:24,070 - __main__ - INFO - Chat response generated successfully
2025-05-30 12:47:28,017 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 12:47:28,017 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 12:47:28,823 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 12:47:28,825 - __main__ - INFO - Chat response generated successfully
2025-05-30 12:47:46,055 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 12:47:46,057 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 12:47:49,204 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 12:47:49,206 - __main__ - INFO - Chat response generated successfully
2025-05-30 15:28:39,396 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 15:28:39,398 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 15:28:42,157 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 15:28:42,162 - __main__ - INFO - Chat response generated successfully
2025-05-30 15:28:47,266 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 15:28:47,266 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 15:28:48,403 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 15:28:48,404 - __main__ - INFO - Chat response generated successfully
2025-05-30 15:28:52,485 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 15:28:52,485 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 15:28:53,108 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 15:28:53,110 - __main__ - INFO - Chat response generated successfully
2025-05-30 15:28:56,433 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 15:28:56,433 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 15:28:57,076 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 15:28:57,076 - __main__ - INFO - Chat response generated successfully
2025-05-30 15:28:59,642 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 15:28:59,642 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 15:29:00,302 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 15:29:00,302 - __main__ - INFO - Chat response generated successfully
2025-05-30 15:29:03,904 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 15:29:03,904 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 15:29:04,685 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 15:29:04,687 - __main__ - INFO - Chat response generated successfully
2025-05-30 15:29:09,445 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 15:29:09,446 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 15:29:10,214 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 15:29:10,217 - __main__ - INFO - Chat response generated successfully
2025-05-30 15:29:13,297 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 15:29:13,297 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 15:29:14,720 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 15:29:14,722 - __main__ - INFO - Chat response generated successfully
2025-05-30 15:29:22,481 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 15:29:22,482 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 15:29:23,735 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 15:29:23,736 - __main__ - INFO - Chat response generated successfully
2025-05-30 15:32:55,998 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 15:32:55,998 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 15:32:58,571 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 15:32:58,574 - __main__ - INFO - Chat response generated successfully
2025-05-30 15:33:09,083 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 15:33:09,084 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 15:33:10,434 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 15:33:10,436 - __main__ - INFO - Chat response generated successfully
2025-05-30 15:33:14,897 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 15:33:14,897 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 15:33:15,615 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 15:33:15,617 - __main__ - INFO - Chat response generated successfully
2025-05-30 15:33:18,077 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 15:33:18,077 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 15:33:18,723 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 15:33:18,725 - __main__ - INFO - Chat response generated successfully
2025-05-30 15:33:20,840 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 15:33:20,841 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 15:33:21,461 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 15:33:21,463 - __main__ - INFO - Chat response generated successfully
2025-05-30 15:33:27,077 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 15:33:27,078 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 15:33:28,200 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 15:33:28,202 - __main__ - INFO - Chat response generated successfully
2025-05-30 15:33:32,508 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 15:33:32,508 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 15:33:33,170 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 15:33:33,171 - __main__ - INFO - Chat response generated successfully
2025-05-30 15:33:37,307 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 15:33:37,308 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 15:33:38,788 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 15:33:38,790 - __main__ - INFO - Chat response generated successfully
2025-05-30 15:33:44,085 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 15:33:44,086 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 15:33:45,547 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 15:33:45,549 - __main__ - INFO - Chat response generated successfully
2025-05-30 15:41:43,509 - __main__ - INFO - Azure OpenAI client initialized successfully
2025-05-30 15:42:50,718 - __main__ - INFO - Azure OpenAI client initialized successfully
2025-05-30 15:43:00,120 - __main__ - INFO - Azure OpenAI client initialized successfully
2025-05-30 15:47:06,858 - __main__ - INFO - Azure OpenAI client initialized successfully
2025-05-30 15:47:06,870 - __main__ - INFO - Found 6 HTML files to process
2025-05-30 15:47:06,872 - __main__ - INFO - Loaded service: סדנאות בריאות
2025-05-30 15:47:06,873 - __main__ - INFO - Loaded service: רפואה משלימה (רפואה אלטרנטיבית)
2025-05-30 15:47:06,875 - __main__ - INFO - Loaded service: מרפאות תקשורת
2025-05-30 15:47:06,876 - __main__ - INFO - Loaded service: הריון
2025-05-30 15:47:06,877 - __main__ - INFO - Loaded service: אופטומטריה
2025-05-30 15:47:06,879 - __main__ - INFO - Loaded service: מרפאות שיניים
2025-05-30 15:47:06,879 - __main__ - INFO - Knowledge base loaded with 6 services
2025-05-30 15:49:08,105 - __main__ - INFO - Azure OpenAI client initialized successfully
2025-05-30 15:55:47,353 - __main__ - INFO - Azure OpenAI client initialized successfully
2025-05-30 15:55:50,914 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 15:55:50,914 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 15:55:53,812 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 15:55:53,814 - __main__ - INFO - Chat response generated successfully
2025-05-30 15:56:01,454 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 15:56:01,454 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 15:56:02,610 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 15:56:02,612 - __main__ - INFO - Chat response generated successfully
2025-05-30 15:56:06,320 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 15:56:06,320 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 15:56:07,012 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 15:56:07,014 - __main__ - INFO - Chat response generated successfully
2025-05-30 15:56:09,261 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 15:56:09,261 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 15:56:09,982 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 15:56:09,984 - __main__ - INFO - Chat response generated successfully
2025-05-30 15:56:12,051 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 15:56:12,052 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 15:56:15,205 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 15:56:15,207 - __main__ - INFO - Chat response generated successfully
2025-05-30 15:56:17,771 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 15:56:17,771 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 15:56:18,528 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 15:56:18,530 - __main__ - INFO - Chat response generated successfully
2025-05-30 15:56:23,515 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 15:56:23,516 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 15:56:24,316 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 15:56:24,317 - __main__ - INFO - Chat response generated successfully
2025-05-30 15:56:27,609 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 15:56:27,609 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 15:56:28,824 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 15:56:28,827 - __main__ - INFO - Chat response generated successfully
2025-05-30 15:56:31,895 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 15:56:31,896 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 15:56:32,715 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 15:56:32,717 - __main__ - INFO - Chat response generated successfully
2025-05-30 15:58:53,938 - __main__ - INFO - Azure OpenAI client initialized successfully
2025-05-30 15:58:57,469 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 15:58:57,469 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 15:59:00,378 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 15:59:00,385 - __main__ - INFO - Chat response generated successfully
2025-05-30 15:59:06,142 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 15:59:06,142 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 15:59:07,237 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 15:59:07,239 - __main__ - INFO - Chat response generated successfully
2025-05-30 15:59:11,078 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 15:59:11,078 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 15:59:12,050 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 15:59:12,052 - __main__ - INFO - Chat response generated successfully
2025-05-30 15:59:14,059 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 15:59:14,060 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 15:59:14,675 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 15:59:14,676 - __main__ - INFO - Chat response generated successfully
2025-05-30 15:59:16,718 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 15:59:16,718 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 15:59:17,785 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 15:59:17,787 - __main__ - INFO - Chat response generated successfully
2025-05-30 15:59:19,988 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 15:59:19,988 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 15:59:21,265 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 15:59:21,266 - __main__ - INFO - Chat response generated successfully
2025-05-30 15:59:35,469 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 15:59:35,469 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 15:59:36,730 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 15:59:36,732 - __main__ - INFO - Chat response generated successfully
2025-05-30 15:59:39,174 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 15:59:39,174 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 15:59:40,593 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 15:59:40,595 - __main__ - INFO - Chat response generated successfully
2025-05-30 15:59:49,333 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 15:59:49,333 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 15:59:50,482 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 15:59:50,484 - __main__ - INFO - Chat response generated successfully
2025-05-30 16:01:44,409 - __main__ - INFO - Azure OpenAI client initialized successfully
2025-05-30 16:01:47,963 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 16:01:47,963 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 16:01:50,922 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 16:01:50,923 - __main__ - INFO - Chat response generated successfully
2025-05-30 16:02:03,441 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 16:02:03,442 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 16:02:04,668 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 16:02:04,671 - __main__ - INFO - Chat response generated successfully
2025-05-30 16:02:11,403 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 16:02:11,403 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 16:02:12,584 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 16:02:12,584 - __main__ - INFO - Chat response generated successfully
2025-05-30 16:02:15,171 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 16:02:15,171 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 16:02:15,962 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 16:02:15,962 - __main__ - INFO - Chat response generated successfully
2025-05-30 16:02:23,112 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 16:02:23,112 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 16:02:24,360 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 16:02:24,362 - __main__ - INFO - Chat response generated successfully
2025-05-30 16:02:29,302 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 16:02:29,302 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 16:02:30,113 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 16:02:30,115 - __main__ - INFO - Chat response generated successfully
2025-05-30 16:02:32,465 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 16:02:32,465 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 16:02:33,801 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 16:02:33,803 - __main__ - INFO - Chat response generated successfully
2025-05-30 16:02:39,354 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 16:07:14,970 - __main__ - INFO - Azure OpenAI client initialized successfully
2025-05-30 16:07:18,533 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 16:07:18,534 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 16:07:21,122 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 16:07:21,130 - __main__ - INFO - Chat response generated successfully
2025-05-30 16:07:30,059 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 16:07:30,059 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 16:07:31,256 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 16:07:31,256 - __main__ - INFO - Chat response generated successfully
2025-05-30 16:07:36,596 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 16:07:36,597 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 16:07:37,769 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 16:07:37,770 - __main__ - INFO - Chat response generated successfully
2025-05-30 16:07:39,897 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 16:07:39,897 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 16:07:40,691 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 16:07:40,693 - __main__ - INFO - Chat response generated successfully
2025-05-30 16:07:44,775 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 16:07:44,776 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 16:07:47,744 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 16:07:47,746 - __main__ - INFO - Chat response generated successfully
2025-05-30 16:07:52,888 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 16:07:52,889 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 16:07:56,858 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 16:07:56,861 - __main__ - INFO - Chat response generated successfully
2025-05-30 16:08:03,528 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 16:08:03,529 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 16:08:04,845 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 16:08:04,847 - __main__ - INFO - Chat response generated successfully
2025-05-30 16:08:06,977 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 16:08:06,978 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 16:08:10,171 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 16:08:10,173 - __main__ - INFO - Chat response generated successfully
2025-05-30 16:08:14,045 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 16:08:14,046 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 16:08:14,983 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 16:08:14,985 - __main__ - INFO - Chat response generated successfully
2025-05-30 16:08:34,654 - __main__ - INFO - Azure OpenAI client initialized successfully
2025-05-30 16:08:38,272 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 16:08:38,273 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 16:08:41,505 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 16:08:41,508 - __main__ - INFO - Chat response generated successfully
2025-05-30 16:08:45,529 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 16:08:45,529 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 16:08:46,319 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 16:08:46,321 - __main__ - INFO - Chat response generated successfully
2025-05-30 16:08:53,044 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 16:08:53,044 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 16:08:54,305 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 16:08:54,307 - __main__ - INFO - Chat response generated successfully
2025-05-30 16:08:57,079 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 16:08:57,079 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 16:08:57,754 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 16:08:57,755 - __main__ - INFO - Chat response generated successfully
2025-05-30 16:09:00,275 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 16:09:00,275 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 16:09:00,967 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 16:09:00,969 - __main__ - INFO - Chat response generated successfully
2025-05-30 16:09:03,261 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 16:09:03,261 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 16:09:03,929 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 16:09:03,929 - __main__ - INFO - Chat response generated successfully
2025-05-30 16:09:10,129 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 16:09:10,129 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 16:09:11,201 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 16:09:11,203 - __main__ - INFO - Chat response generated successfully
2025-05-30 16:09:13,175 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 16:09:13,175 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 16:09:14,965 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 16:09:14,967 - __main__ - INFO - Chat response generated successfully
2025-05-30 16:09:17,184 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 16:09:17,184 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 16:09:17,959 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 16:09:17,961 - __main__ - INFO - Chat response generated successfully
2025-05-30 16:41:35,007 - services.html_parser - INFO - Loaded service data for: workshops
2025-05-30 16:41:35,009 - services.html_parser - INFO - Loaded service data for: alternative
2025-05-30 16:41:35,011 - services.html_parser - INFO - Loaded service data for: communication_clinic
2025-05-30 16:41:35,013 - services.html_parser - INFO - Loaded service data for: pragrency
2025-05-30 16:41:35,014 - services.html_parser - INFO - Loaded service data for: optometry
2025-05-30 16:41:35,016 - services.html_parser - INFO - Loaded service data for: dentel
2025-05-30 16:41:35,081 - __main__ - INFO - Azure OpenAI client initialized successfully
2025-05-30 16:41:38,602 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 16:41:38,602 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 16:41:41,989 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 16:41:42,001 - __main__ - INFO - Chat response generated successfully
2025-05-30 16:41:48,511 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 16:41:48,512 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 16:41:49,771 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 16:41:49,773 - __main__ - INFO - Chat response generated successfully
2025-05-30 16:41:54,796 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 16:41:54,796 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 16:41:55,814 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 16:41:55,816 - __main__ - INFO - Chat response generated successfully
2025-05-30 16:41:58,293 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 16:41:58,294 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 16:41:59,074 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 16:41:59,074 - __main__ - INFO - Chat response generated successfully
2025-05-30 16:42:02,375 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 16:42:02,375 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 16:42:03,188 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 16:42:03,190 - __main__ - INFO - Chat response generated successfully
2025-05-30 16:42:07,566 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 16:42:07,566 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 16:42:08,510 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 16:42:08,512 - __main__ - INFO - Chat response generated successfully
2025-05-30 16:42:12,713 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 16:42:12,713 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 16:42:13,522 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 16:42:13,524 - __main__ - INFO - Chat response generated successfully
2025-05-30 16:42:15,561 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 16:42:15,562 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 16:42:17,404 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 16:42:17,406 - __main__ - INFO - Chat response generated successfully
2025-05-30 16:42:21,051 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 16:42:38,721 - __main__ - INFO - Chat request received - Phase: qa, Language: hebrew
2025-05-30 16:43:36,436 - __main__ - INFO - Chat request received - Phase: qa, Language: hebrew
2025-05-30 16:48:16,699 - __main__ - INFO - Chat request received - Phase: qa, Language: hebrew
2025-05-30 16:48:16,700 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 16:48:20,332 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 16:48:20,334 - __main__ - INFO - Chat response generated successfully
2025-05-30 17:08:36,643 - services.html_parser - INFO - Loaded service data for: workshops
2025-05-30 17:08:36,645 - services.html_parser - INFO - Loaded service data for: alternative
2025-05-30 17:08:36,647 - services.html_parser - INFO - Loaded service data for: communication_clinic
2025-05-30 17:08:36,648 - services.html_parser - INFO - Loaded service data for: pragrency
2025-05-30 17:08:36,650 - services.html_parser - INFO - Loaded service data for: optometry
2025-05-30 17:08:36,651 - services.html_parser - INFO - Loaded service data for: dentel
2025-05-30 17:08:36,711 - __main__ - INFO - Azure OpenAI client initialized successfully
2025-05-30 17:08:40,252 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 17:08:40,252 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 17:08:43,028 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 17:08:43,038 - __main__ - INFO - Chat response generated successfully
2025-05-30 17:08:57,407 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 17:08:57,407 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 17:08:58,591 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 17:08:58,591 - __main__ - INFO - Chat response generated successfully
2025-05-30 17:09:04,110 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 17:09:04,111 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 17:09:05,248 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 17:09:05,250 - __main__ - INFO - Chat response generated successfully
2025-05-30 17:09:08,119 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 17:09:08,119 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 17:09:08,730 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 17:09:08,732 - __main__ - INFO - Chat response generated successfully
2025-05-30 17:09:10,833 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 17:09:10,833 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 17:09:11,699 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 17:09:11,700 - __main__ - INFO - Chat response generated successfully
2025-05-30 17:09:17,404 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 17:09:17,405 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 17:09:18,561 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 17:09:18,564 - __main__ - INFO - Chat response generated successfully
2025-05-30 17:09:23,062 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 17:09:23,062 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 17:09:23,686 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 17:09:23,688 - __main__ - INFO - Chat response generated successfully
2025-05-30 17:09:26,870 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 17:09:26,871 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 17:09:28,595 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 17:09:28,597 - __main__ - INFO - Chat response generated successfully
2025-05-30 17:09:32,706 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 17:09:32,706 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 17:09:33,466 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 17:09:33,467 - __main__ - INFO - Chat response generated successfully
2025-05-30 17:09:46,280 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 17:09:46,280 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 17:09:50,299 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 17:09:50,301 - __main__ - INFO - Chat response generated successfully
2025-05-30 17:42:18,451 - services.html_parser - INFO - Found HTML files: ['workshops_services.html', 'alternative_services.html', 'communication_clinic_services.html', 'pragrency_services.html', 'optometry_services.html', 'dentel_services.html']
2025-05-30 17:42:18,452 - services.html_parser - INFO - Processing file: workshops_services.html -> service_type: workshops
2025-05-30 17:42:18,454 - services.html_parser - INFO - Loaded service data for: workshops
2025-05-30 17:42:18,454 - services.html_parser - INFO -   Services in workshops: ['הפסקת עישון', 'תזונה נכונה', 'פעילות גופנית', 'ניהול מתח', 'סוכרת', 'הריון ולידה']
2025-05-30 17:42:18,454 - services.html_parser - INFO - Processing file: alternative_services.html -> service_type: alternative
2025-05-30 17:42:18,456 - services.html_parser - INFO - Loaded service data for: alternative
2025-05-30 17:42:18,456 - services.html_parser - INFO -   Services in alternative: ['דיקור סיני (אקופונקטורה)', 'שיאצו', 'רפלקסולוגיה', 'נטורופתיה', 'הומאופתיה', 'כירופרקטיקה']
2025-05-30 17:42:18,456 - services.html_parser - INFO - Processing file: communication_clinic_services.html -> service_type: communication_clinic
2025-05-30 17:42:18,458 - services.html_parser - INFO - Loaded service data for: communication_clinic
2025-05-30 17:42:18,458 - services.html_parser - INFO -   Services in communication_clinic: ['אבחון הפרעות שפה ודיבור', 'טיפול בגמגום', 'טיפול בהפרעות קול', 'אבחון וטיפול בהפרעות בליעה', 'טיפול בעיכוב התפתחותי', 'שיקום שמיעה']
2025-05-30 17:42:18,458 - services.html_parser - INFO - Processing file: pragrency_services.html -> service_type: pragrency
2025-05-30 17:42:18,460 - services.html_parser - INFO - Loaded service data for: pragrency
2025-05-30 17:42:18,460 - services.html_parser - INFO -   Services in pragrency: ['מעקב הריון', 'בדיקות סקר גנטיות', 'סקירות מערכות', 'קורס הכנה ללידה', 'ייעוץ תזונתי', 'טיפול בסיבוכי הריון']
2025-05-30 17:42:18,460 - services.html_parser - INFO - Processing file: optometry_services.html -> service_type: optometry
2025-05-30 17:42:18,462 - services.html_parser - INFO - Loaded service data for: optometry
2025-05-30 17:42:18,462 - services.html_parser - INFO -   Services in optometry: ['בדיקות ראייה', 'משקפי ראייה', 'עדשות מגע', 'טיפולים לתיקון ראייה', 'אביזרי ראייה מיוחדים', 'טיפול בילדים']
2025-05-30 17:42:18,462 - services.html_parser - INFO - Processing file: dentel_services.html -> service_type: dentel
2025-05-30 17:42:18,463 - services.html_parser - INFO - Loaded service data for: dentel
2025-05-30 17:42:18,463 - services.html_parser - INFO -   Services in dentel: ['בדיקות וניקוי שיניים', 'סתימות', 'טיפולי שורש', 'כתרים ושתלים', 'יישור שיניים', 'טיפולים קוסמטיים']
2025-05-30 17:42:18,534 - __main__ - INFO - Azure OpenAI client initialized successfully
2025-05-30 17:42:21,973 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 17:42:21,974 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 17:42:24,469 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 17:42:24,479 - __main__ - INFO - Chat response generated successfully
2025-05-30 17:42:31,113 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 17:42:31,113 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 17:42:32,240 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 17:42:32,242 - __main__ - INFO - Chat response generated successfully
2025-05-30 17:42:38,316 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 17:42:38,316 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 17:42:39,452 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 17:42:39,452 - __main__ - INFO - Chat response generated successfully
2025-05-30 17:42:40,535 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 17:42:40,536 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 17:42:41,262 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 17:42:41,262 - __main__ - INFO - Chat response generated successfully
2025-05-30 17:42:43,867 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 17:42:43,868 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 17:42:45,266 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 17:42:45,268 - __main__ - INFO - Chat response generated successfully
2025-05-30 17:42:49,404 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 17:42:49,405 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 17:42:49,993 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 17:42:49,995 - __main__ - INFO - Chat response generated successfully
2025-05-30 17:42:53,528 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 17:42:53,528 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 17:42:54,370 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 17:42:54,372 - __main__ - INFO - Chat response generated successfully
2025-05-30 17:42:58,331 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 17:42:58,331 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 17:42:59,489 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 17:42:59,491 - __main__ - INFO - Chat response generated successfully
2025-05-30 17:43:01,466 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 17:43:01,466 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 17:43:03,164 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 17:43:03,165 - __main__ - INFO - Chat response generated successfully
2025-05-30 17:43:06,172 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 17:43:06,172 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 17:43:06,966 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 17:43:06,968 - __main__ - INFO - Chat response generated successfully
2025-05-30 17:43:19,903 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 17:43:19,903 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 17:43:24,885 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 17:43:24,886 - __main__ - INFO - Chat response generated successfully
2025-05-30 17:58:21,212 - __main__ - INFO - Azure OpenAI client initialized successfully
2025-05-30 17:58:21,237 - __main__ - INFO - Loaded dental knowledge base from dentel_services.html
2025-05-30 17:58:21,239 - __main__ - INFO - Loaded optometry knowledge base from optometry_services.html
2025-05-30 17:58:21,240 - __main__ - INFO - Loaded pregnancy knowledge base from pragrency_services.html
2025-05-30 17:58:21,242 - __main__ - INFO - Loaded alternative knowledge base from alternative_services.html
2025-05-30 17:58:21,244 - __main__ - INFO - Loaded communication_clinic knowledge base from communication_clinic_services.html
2025-05-30 17:58:21,245 - __main__ - INFO - Loaded workshops knowledge base from workshops_services.html
2025-05-30 17:58:24,773 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 17:58:24,774 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 17:58:27,156 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 17:58:27,166 - __main__ - INFO - Chat response generated successfully
2025-05-30 17:58:31,987 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 17:58:31,987 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 17:58:32,678 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 17:58:32,679 - __main__ - INFO - Chat response generated successfully
2025-05-30 17:58:35,688 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 17:58:35,688 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 17:58:36,577 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 17:58:36,578 - __main__ - INFO - Chat response generated successfully
2025-05-30 17:58:38,642 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 17:58:38,643 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 17:58:39,188 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 17:58:39,189 - __main__ - INFO - Chat response generated successfully
2025-05-30 17:58:41,868 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 17:58:41,869 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 17:58:42,926 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 17:58:42,928 - __main__ - INFO - Chat response generated successfully
2025-05-30 17:58:46,357 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 17:58:46,357 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 17:58:47,226 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 17:58:47,229 - __main__ - INFO - Chat response generated successfully
2025-05-30 17:58:52,857 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 17:58:52,858 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 17:58:54,104 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 17:58:54,105 - __main__ - INFO - Chat response generated successfully
2025-05-30 17:58:56,883 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 17:58:56,883 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 17:58:58,079 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 17:58:58,079 - __main__ - INFO - Chat response generated successfully
2025-05-30 17:59:06,471 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 17:59:06,472 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 17:59:07,893 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 17:59:07,895 - __main__ - INFO - Chat response generated successfully
2025-05-30 17:59:18,414 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 17:59:18,415 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 17:59:22,555 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 17:59:22,557 - __main__ - INFO - Chat response generated successfully
2025-05-30 18:11:22,066 - __main__ - INFO - Azure OpenAI client initialized successfully
2025-05-30 18:11:22,090 - __main__ - INFO - Loaded dental knowledge base from dentel_services.html
2025-05-30 18:11:22,092 - __main__ - INFO - Loaded optometry knowledge base from optometry_services.html
2025-05-30 18:11:22,094 - __main__ - INFO - Loaded pregnancy knowledge base from pragrency_services.html
2025-05-30 18:11:22,095 - __main__ - INFO - Loaded alternative knowledge base from alternative_services.html
2025-05-30 18:11:22,097 - __main__ - INFO - Loaded communication_clinic knowledge base from communication_clinic_services.html
2025-05-30 18:11:22,099 - __main__ - INFO - Loaded workshops knowledge base from workshops_services.html
2025-05-30 18:11:25,609 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 18:11:25,609 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 18:11:28,163 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 18:11:28,168 - __main__ - INFO - Chat response generated successfully
2025-05-30 18:11:43,789 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 18:11:43,790 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 18:11:45,156 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 18:11:45,158 - __main__ - INFO - Chat response generated successfully
2025-05-30 18:11:49,492 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 18:11:49,492 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 18:11:50,037 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 18:11:50,038 - __main__ - INFO - Chat response generated successfully
2025-05-30 18:11:51,251 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 18:11:51,251 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 18:11:51,920 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 18:11:51,923 - __main__ - INFO - Chat response generated successfully
2025-05-30 18:11:53,538 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 18:11:53,538 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 18:11:54,378 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 18:11:54,381 - __main__ - INFO - Chat response generated successfully
2025-05-30 18:11:58,310 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 18:11:58,310 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 18:11:59,293 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 18:11:59,295 - __main__ - INFO - Chat response generated successfully
2025-05-30 18:12:02,668 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 18:12:02,668 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 18:12:03,491 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 18:12:03,493 - __main__ - INFO - Chat response generated successfully
2025-05-30 18:12:05,756 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 18:12:05,756 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 18:12:07,485 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 18:12:07,487 - __main__ - INFO - Chat response generated successfully
2025-05-30 18:12:13,784 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 18:12:13,784 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 18:12:15,085 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 18:12:15,087 - __main__ - INFO - Chat response generated successfully
2025-05-30 18:12:26,219 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 18:12:26,220 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 18:12:28,171 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 18:12:28,173 - __main__ - INFO - Chat response generated successfully
2025-05-30 18:16:53,731 - __main__ - INFO - Azure OpenAI client initialized successfully
2025-05-30 18:16:53,752 - __main__ - INFO - Loading knowledge base from: /Users/ormeiri/Desktop/KPMGassignment/KPMGasasignment/phase2_data
2025-05-30 18:16:53,752 - __main__ - INFO - Directory exists: True
2025-05-30 18:16:53,754 - __main__ - INFO - ✅ Loaded dental knowledge base from dentel_services.html - 5030 chars
2025-05-30 18:16:53,756 - __main__ - INFO - ✅ Loaded optometry knowledge base from optometry_services.html - 5774 chars
2025-05-30 18:16:53,758 - __main__ - INFO - ✅ Loaded pregnancy knowledge base from pragrency_services.html - 5151 chars
2025-05-30 18:16:53,760 - __main__ - INFO - ✅ Loaded alternative knowledge base from alternative_services.html - 5704 chars
2025-05-30 18:16:53,762 - __main__ - INFO - ✅ Loaded communication_clinic knowledge base from communication_clinic_services.html - 5336 chars
2025-05-30 18:16:53,763 - __main__ - INFO - ✅ Loaded workshops knowledge base from workshops_services.html - 5071 chars
2025-05-30 18:16:53,763 - __main__ - INFO - Knowledge base loaded with 6 services: ['dental', 'optometry', 'pregnancy', 'alternative', 'communication_clinic', 'workshops']
2025-05-30 18:16:57,295 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 18:16:57,296 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 18:17:00,154 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 18:17:00,163 - __main__ - INFO - Chat response generated successfully
2025-05-30 18:17:07,730 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 18:17:07,730 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 18:17:09,059 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 18:17:09,062 - __main__ - INFO - Chat response generated successfully
2025-05-30 18:17:15,457 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 18:17:15,457 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 18:17:16,738 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 18:17:16,739 - __main__ - INFO - Chat response generated successfully
2025-05-30 18:17:22,490 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 18:17:22,490 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 18:17:23,703 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 18:17:23,705 - __main__ - INFO - Chat response generated successfully
2025-05-30 18:17:27,201 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 18:17:27,201 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 18:17:27,902 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 18:17:27,904 - __main__ - INFO - Chat response generated successfully
2025-05-30 18:17:29,636 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 18:17:29,637 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 18:17:30,495 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 18:17:30,498 - __main__ - INFO - Chat response generated successfully
2025-05-30 18:17:34,462 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 18:17:34,463 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 18:17:35,889 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 18:17:35,890 - __main__ - INFO - Chat response generated successfully
2025-05-30 18:17:38,935 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 18:17:38,935 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 18:17:39,781 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 18:17:39,782 - __main__ - INFO - Chat response generated successfully
2025-05-30 18:17:41,871 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 18:17:41,871 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 18:17:43,588 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 18:17:43,589 - __main__ - INFO - Chat response generated successfully
2025-05-30 18:17:45,650 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 18:17:54,581 - __main__ - INFO - Chat request received - Phase: qa, Language: hebrew
2025-05-30 18:17:54,581 - __main__ - INFO - 🔍 Getting knowledge context for message: 'אני רוצה לדעת מה מגיע לי מבחינת הריון'
2025-05-30 18:17:54,581 - __main__ - INFO - 👤 User info: HMO=מכבי, Tier=זהב
2025-05-30 18:17:54,581 - __main__ - INFO - 📋 Identified relevant services: ['pregnancy']
2025-05-30 18:17:54,585 - __main__ - INFO - 💰 Extracted benefits length: 391 chars
2025-05-30 18:17:54,585 - __main__ - INFO - ✅ Returning specific benefits: 425 chars
2025-05-30 18:17:54,586 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 18:17:58,213 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 18:17:58,215 - __main__ - INFO - Chat response generated successfully
2025-05-30 18:18:46,957 - __main__ - INFO - Chat request received - Phase: qa, Language: hebrew
2025-05-30 18:18:46,957 - __main__ - INFO - 🔍 Getting knowledge context for message: 'אם הייתי כסף מה היה מגיע לי?'
2025-05-30 18:18:46,957 - __main__ - INFO - 👤 User info: HMO=מכבי, Tier=זהב
2025-05-30 18:18:46,957 - __main__ - INFO - 📋 Identified relevant services: ['dental', 'optometry', 'pregnancy', 'alternative', 'communication_clinic', 'workshops']
2025-05-30 18:18:46,971 - __main__ - INFO - 💰 Extracted benefits length: 2539 chars
2025-05-30 18:18:46,971 - __main__ - INFO - ✅ Returning specific benefits: 2573 chars
2025-05-30 18:18:46,972 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 18:18:49,003 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 18:18:49,005 - __main__ - INFO - Chat response generated successfully
2025-05-30 18:40:55,691 - __main__ - INFO - Azure OpenAI client initialized successfully
2025-05-30 18:40:55,715 - __main__ - INFO - Loading knowledge base from: /Users/ormeiri/Desktop/KPMGassignment/KPMGasasignment/phase2_data
2025-05-30 18:40:55,715 - __main__ - INFO - Directory exists: True
2025-05-30 18:40:55,717 - __main__ - INFO - ✅ Loaded dental knowledge base from dentel_services.html - 5030 chars
2025-05-30 18:40:55,719 - __main__ - INFO - ✅ Loaded optometry knowledge base from optometry_services.html - 5774 chars
2025-05-30 18:40:55,720 - __main__ - INFO - ✅ Loaded pregnancy knowledge base from pragrency_services.html - 5151 chars
2025-05-30 18:40:55,722 - __main__ - INFO - ✅ Loaded alternative knowledge base from alternative_services.html - 5704 chars
2025-05-30 18:40:55,724 - __main__ - INFO - ✅ Loaded communication_clinic knowledge base from communication_clinic_services.html - 5336 chars
2025-05-30 18:40:55,725 - __main__ - INFO - ✅ Loaded workshops knowledge base from workshops_services.html - 5071 chars
2025-05-30 18:40:55,725 - __main__ - INFO - Knowledge base loaded with 6 services: ['dental', 'optometry', 'pregnancy', 'alternative', 'communication_clinic', 'workshops']
2025-05-30 18:40:59,236 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 18:40:59,236 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 18:41:01,978 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 18:41:01,987 - __main__ - INFO - Chat response generated successfully
2025-05-30 18:41:10,120 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 18:41:10,120 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 18:41:11,386 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 18:41:11,388 - __main__ - INFO - Chat response generated successfully
2025-05-30 18:41:15,276 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 18:41:15,276 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 18:41:16,096 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 18:41:16,097 - __main__ - INFO - Chat response generated successfully
2025-05-30 18:41:18,610 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 18:41:18,610 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 18:41:19,271 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 18:41:19,271 - __main__ - INFO - Chat response generated successfully
2025-05-30 18:41:20,982 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 18:41:20,982 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 18:41:21,570 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 18:41:21,571 - __main__ - INFO - Chat response generated successfully
2025-05-30 18:41:24,174 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 18:41:24,175 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 18:41:25,117 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 18:41:25,119 - __main__ - INFO - Chat response generated successfully
2025-05-30 18:41:28,031 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 18:41:28,032 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 18:41:28,666 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 18:41:28,668 - __main__ - INFO - Chat response generated successfully
2025-05-30 18:41:30,660 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 18:41:30,661 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 18:41:32,174 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 18:41:32,176 - __main__ - INFO - Chat response generated successfully
2025-05-30 18:41:35,442 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 18:41:44,459 - __main__ - INFO - Chat request received - Phase: qa, Language: hebrew
2025-05-30 18:41:44,459 - __main__ - INFO - 🔍 Getting knowledge context for message: 'מה מגיע לי מבחינת הריון?'
2025-05-30 18:41:44,459 - __main__ - INFO - 👤 User info: HMO=כללית, Tier=זהב
2025-05-30 18:41:44,459 - __main__ - ERROR - Error in chat endpoint: name 'identify_relevant_services' is not defined
2025-05-30 18:50:08,043 - __main__ - INFO - Azure OpenAI client initialized successfully
2025-05-30 18:50:08,067 - __main__ - INFO - Loading knowledge base from: /Users/ormeiri/Desktop/KPMGassignment/KPMGasasignment/phase2_data
2025-05-30 18:50:08,067 - __main__ - INFO - Directory exists: True
2025-05-30 18:50:08,069 - __main__ - INFO - ✅ Loaded dental knowledge base from dentel_services.html - 5030 chars
2025-05-30 18:50:08,071 - __main__ - INFO - ✅ Loaded optometry knowledge base from optometry_services.html - 5774 chars
2025-05-30 18:50:08,073 - __main__ - INFO - ✅ Loaded pregnancy knowledge base from pragrency_services.html - 5151 chars
2025-05-30 18:50:08,075 - __main__ - INFO - ✅ Loaded alternative knowledge base from alternative_services.html - 5704 chars
2025-05-30 18:50:08,077 - __main__ - INFO - ✅ Loaded communication_clinic knowledge base from communication_clinic_services.html - 5336 chars
2025-05-30 18:50:08,078 - __main__ - INFO - ✅ Loaded workshops knowledge base from workshops_services.html - 5071 chars
2025-05-30 18:50:08,078 - __main__ - INFO - Knowledge base loaded with 6 services: ['dental', 'optometry', 'pregnancy', 'alternative', 'communication_clinic', 'workshops']
2025-05-30 18:50:11,580 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 18:50:11,581 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 18:50:14,843 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 18:50:14,852 - __main__ - INFO - Chat response generated successfully
2025-05-30 18:50:20,726 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 18:50:20,727 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 18:50:22,827 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 18:50:22,829 - __main__ - INFO - Chat response generated successfully
2025-05-30 18:50:26,456 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 18:50:26,457 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 18:50:27,063 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 18:50:27,065 - __main__ - INFO - Chat response generated successfully
2025-05-30 18:50:28,348 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 18:50:28,349 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 18:50:28,972 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 18:50:28,974 - __main__ - INFO - Chat response generated successfully
2025-05-30 18:50:30,557 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 18:50:30,557 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 18:50:31,224 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 18:50:31,224 - __main__ - INFO - Chat response generated successfully
2025-05-30 18:50:33,690 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 18:50:33,691 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 18:50:34,319 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 18:50:34,320 - __main__ - INFO - Chat response generated successfully
2025-05-30 18:50:40,001 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 18:50:40,002 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 18:50:41,362 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 18:50:41,364 - __main__ - INFO - Chat response generated successfully
2025-05-30 18:50:46,561 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 18:50:46,561 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 18:50:50,918 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 18:50:50,920 - __main__ - INFO - Chat response generated successfully
2025-05-30 18:50:52,473 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 18:50:52,473 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 18:50:53,445 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 18:50:53,447 - __main__ - INFO - Chat response generated successfully
2025-05-30 18:51:13,210 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 18:51:13,210 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 18:51:16,726 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 18:51:16,728 - __main__ - INFO - Chat response generated successfully
2025-05-30 18:59:21,361 - __main__ - INFO - Azure OpenAI client initialized successfully
2025-05-30 18:59:21,385 - __main__ - INFO - Loading knowledge base from: /Users/ormeiri/Desktop/KPMGassignment/KPMGasasignment/phase2_data
2025-05-30 18:59:21,385 - __main__ - INFO - Directory exists: True
2025-05-30 18:59:21,387 - __main__ - INFO - ✅ Loaded dental knowledge base from dentel_services.html - 5030 chars
2025-05-30 18:59:21,389 - __main__ - INFO - ✅ Loaded optometry knowledge base from optometry_services.html - 5774 chars
2025-05-30 18:59:21,390 - __main__ - INFO - ✅ Loaded pregnancy knowledge base from pragrency_services.html - 5151 chars
2025-05-30 18:59:21,392 - __main__ - INFO - ✅ Loaded alternative knowledge base from alternative_services.html - 5704 chars
2025-05-30 18:59:21,393 - __main__ - INFO - ✅ Loaded communication_clinic knowledge base from communication_clinic_services.html - 5336 chars
2025-05-30 18:59:21,395 - __main__ - INFO - ✅ Loaded workshops knowledge base from workshops_services.html - 5071 chars
2025-05-30 18:59:21,395 - __main__ - INFO - Knowledge base loaded with 6 services: ['dental', 'optometry', 'pregnancy', 'alternative', 'communication_clinic', 'workshops']
2025-05-30 18:59:24,894 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 18:59:24,894 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 18:59:27,504 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 18:59:27,511 - __main__ - INFO - Chat response generated successfully
2025-05-30 18:59:35,917 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 18:59:35,918 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 18:59:37,334 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 18:59:37,336 - __main__ - INFO - Chat response generated successfully
2025-05-30 18:59:41,259 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 18:59:41,260 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 18:59:42,045 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 18:59:42,047 - __main__ - INFO - Chat response generated successfully
2025-05-30 18:59:46,118 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 18:59:46,118 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 18:59:46,755 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 18:59:46,757 - __main__ - INFO - Chat response generated successfully
2025-05-30 18:59:48,160 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 18:59:48,161 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 18:59:48,769 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 18:59:48,771 - __main__ - INFO - Chat response generated successfully
2025-05-30 18:59:50,975 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 18:59:50,975 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 18:59:51,704 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 18:59:51,706 - __main__ - INFO - Chat response generated successfully
2025-05-30 18:59:54,505 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 18:59:54,506 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 18:59:55,118 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 18:59:55,118 - __main__ - INFO - Chat response generated successfully
2025-05-30 18:59:56,969 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 18:59:56,969 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 18:59:58,516 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 18:59:58,517 - __main__ - INFO - Chat response generated successfully
2025-05-30 19:00:00,376 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 19:00:07,589 - __main__ - INFO - Chat request received - Phase: qa, Language: hebrew
2025-05-30 19:00:07,590 - __main__ - INFO - 🔍 Getting knowledge context for message: 'מה מגיע לי בהריון'
2025-05-30 19:00:07,591 - __main__ - INFO - 👤 User info: HMO=כללית, Tier=זהב
2025-05-30 19:00:07,591 - __main__ - ERROR - Error in chat endpoint: name 'identify_relevant_services' is not defined
2025-05-30 19:08:27,513 - __main__ - INFO - Azure OpenAI client initialized successfully
2025-05-30 19:08:27,536 - __main__ - INFO - Loading knowledge base from: /Users/ormeiri/Desktop/KPMGassignment/KPMGasasignment/phase2_data
2025-05-30 19:08:27,536 - __main__ - INFO - Directory exists: True
2025-05-30 19:08:27,538 - __main__ - INFO - ✅ Loaded dental knowledge base from dentel_services.html - 5030 chars
2025-05-30 19:08:27,540 - __main__ - INFO - ✅ Loaded optometry knowledge base from optometry_services.html - 5774 chars
2025-05-30 19:08:27,542 - __main__ - INFO - ✅ Loaded pregnancy knowledge base from pragrency_services.html - 5151 chars
2025-05-30 19:08:27,543 - __main__ - INFO - ✅ Loaded alternative knowledge base from alternative_services.html - 5704 chars
2025-05-30 19:08:27,545 - __main__ - INFO - ✅ Loaded communication_clinic knowledge base from communication_clinic_services.html - 5336 chars
2025-05-30 19:08:27,547 - __main__ - INFO - ✅ Loaded workshops knowledge base from workshops_services.html - 5071 chars
2025-05-30 19:08:27,547 - __main__ - INFO - Knowledge base loaded with 6 services: ['dental', 'optometry', 'pregnancy', 'alternative', 'communication_clinic', 'workshops']
2025-05-30 19:08:31,038 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 19:08:31,038 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 19:08:33,476 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 19:08:33,487 - __main__ - INFO - Chat response generated successfully
2025-05-30 19:13:20,891 - __main__ - INFO - Azure OpenAI client initialized successfully
2025-05-30 19:13:20,913 - __main__ - INFO - Loading knowledge base from: /Users/ormeiri/Desktop/KPMGassignment/KPMGasasignment/phase2_data
2025-05-30 19:13:20,913 - __main__ - INFO - Directory exists: True
2025-05-30 19:13:20,915 - __main__ - INFO - ✅ Loaded dental knowledge base from dentel_services.html - 5030 chars
2025-05-30 19:13:20,917 - __main__ - INFO - ✅ Loaded optometry knowledge base from optometry_services.html - 5774 chars
2025-05-30 19:13:20,918 - __main__ - INFO - ✅ Loaded pregnancy knowledge base from pragrency_services.html - 5151 chars
2025-05-30 19:13:20,920 - __main__ - INFO - ✅ Loaded alternative knowledge base from alternative_services.html - 5704 chars
2025-05-30 19:13:20,922 - __main__ - INFO - ✅ Loaded communication_clinic knowledge base from communication_clinic_services.html - 5336 chars
2025-05-30 19:13:20,923 - __main__ - INFO - ✅ Loaded workshops knowledge base from workshops_services.html - 5071 chars
2025-05-30 19:13:20,923 - __main__ - INFO - Knowledge base loaded with 6 services: ['dental', 'optometry', 'pregnancy', 'alternative', 'communication_clinic', 'workshops']
2025-05-30 19:13:24,465 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 19:13:24,466 - __main__ - INFO - 
2025-05-30 19:13:24,466 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 19:13:26,404 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 19:13:26,414 - __main__ - INFO - Chat response generated successfully
2025-05-30 19:13:31,893 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 19:13:31,894 - __main__ - INFO - 
2025-05-30 19:13:31,894 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 19:13:33,347 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 19:13:33,347 - __main__ - INFO - Chat response generated successfully
2025-05-30 19:13:36,558 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 19:13:36,559 - __main__ - INFO - 
2025-05-30 19:13:36,559 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 19:13:37,064 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 19:13:37,065 - __main__ - INFO - Chat response generated successfully
2025-05-30 19:13:39,036 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 19:13:39,036 - __main__ - INFO - 
2025-05-30 19:13:39,036 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 19:13:39,783 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 19:13:39,784 - __main__ - INFO - Chat response generated successfully
2025-05-30 19:13:41,173 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 19:13:41,173 - __main__ - INFO - 
2025-05-30 19:13:41,174 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 19:13:41,849 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 19:13:41,851 - __main__ - INFO - Chat response generated successfully
2025-05-30 19:13:44,180 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 19:13:44,181 - __main__ - INFO - 
2025-05-30 19:13:44,181 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 19:13:44,828 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 19:13:44,830 - __main__ - INFO - Chat response generated successfully
2025-05-30 19:13:47,646 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 19:13:47,646 - __main__ - INFO - 
2025-05-30 19:13:47,647 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 19:13:48,402 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 19:13:48,404 - __main__ - INFO - Chat response generated successfully
2025-05-30 19:13:50,691 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 19:13:50,691 - __main__ - INFO - 
2025-05-30 19:13:50,691 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 19:13:52,395 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 19:13:52,398 - __main__ - INFO - Chat response generated successfully
2025-05-30 19:13:55,027 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 19:13:55,027 - __main__ - INFO - 
2025-05-30 19:13:55,027 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 19:13:55,774 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 19:13:55,774 - __main__ - INFO - Chat response generated successfully
2025-05-30 19:14:03,266 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 19:14:03,266 - __main__ - INFO - 
2025-05-30 19:14:03,266 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 19:14:07,039 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 19:14:07,041 - __main__ - INFO - Chat response generated successfully
2025-05-30 19:24:26,354 - __main__ - INFO - Azure OpenAI client initialized successfully
2025-05-30 19:24:26,378 - __main__ - INFO - Loading knowledge base from: /Users/ormeiri/Desktop/KPMGassignment/KPMGasasignment/phase2_data
2025-05-30 19:24:26,378 - __main__ - INFO - Directory exists: True
2025-05-30 19:24:26,381 - __main__ - INFO - ✅ Loaded dental knowledge base from dentel_services.html - 5030 chars
2025-05-30 19:24:26,382 - __main__ - INFO - ✅ Loaded optometry knowledge base from optometry_services.html - 5774 chars
2025-05-30 19:24:26,384 - __main__ - INFO - ✅ Loaded pregnancy knowledge base from pragrency_services.html - 5151 chars
2025-05-30 19:24:26,386 - __main__ - INFO - ✅ Loaded alternative knowledge base from alternative_services.html - 5704 chars
2025-05-30 19:24:26,388 - __main__ - INFO - ✅ Loaded communication_clinic knowledge base from communication_clinic_services.html - 5336 chars
2025-05-30 19:24:26,389 - __main__ - INFO - ✅ Loaded workshops knowledge base from workshops_services.html - 5071 chars
2025-05-30 19:24:26,389 - __main__ - INFO - Knowledge base loaded with 6 services: ['dental', 'optometry', 'pregnancy', 'alternative', 'communication_clinic', 'workshops']
2025-05-30 19:24:29,912 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 19:24:29,912 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 19:24:32,776 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 19:24:32,785 - __main__ - INFO - Chat response generated successfully
2025-05-30 19:24:40,215 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 19:24:40,216 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 19:24:41,499 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 19:24:41,502 - __main__ - INFO - Chat response generated successfully
2025-05-30 19:24:45,473 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 19:24:45,473 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 19:24:46,527 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 19:24:46,529 - __main__ - INFO - Chat response generated successfully
2025-05-30 19:24:48,813 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 19:24:48,814 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 19:24:49,793 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 19:24:49,795 - __main__ - INFO - Chat response generated successfully
2025-05-30 19:24:51,896 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 19:24:51,896 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 19:24:52,763 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 19:24:52,763 - __main__ - INFO - Chat response generated successfully
2025-05-30 19:24:55,671 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 19:24:55,671 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 19:24:56,515 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 19:24:56,515 - __main__ - INFO - Chat response generated successfully
2025-05-30 19:25:00,352 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 19:25:00,353 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 19:25:01,160 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 19:25:01,161 - __main__ - INFO - Chat response generated successfully
2025-05-30 19:25:04,250 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 19:25:04,250 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 19:25:05,872 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 19:25:05,874 - __main__ - INFO - Chat response generated successfully
2025-05-30 19:25:07,195 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 19:25:07,195 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 19:25:08,124 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 19:25:08,126 - __main__ - INFO - Chat response generated successfully
2025-05-30 19:25:14,964 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 19:25:14,964 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 19:25:17,523 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 19:25:17,524 - __main__ - INFO - Chat response generated successfully
2025-05-30 19:26:52,522 - __main__ - INFO - Azure OpenAI client initialized successfully
2025-05-30 19:26:52,546 - __main__ - INFO - Loading knowledge base from: /Users/ormeiri/Desktop/KPMGassignment/KPMGasasignment/phase2_data
2025-05-30 19:26:52,546 - __main__ - INFO - Directory exists: True
2025-05-30 19:26:52,548 - __main__ - INFO - ✅ Loaded dental knowledge base from dentel_services.html - 5030 chars
2025-05-30 19:26:52,550 - __main__ - INFO - ✅ Loaded optometry knowledge base from optometry_services.html - 5774 chars
2025-05-30 19:26:52,552 - __main__ - INFO - ✅ Loaded pregnancy knowledge base from pragrency_services.html - 5151 chars
2025-05-30 19:26:52,553 - __main__ - INFO - ✅ Loaded alternative knowledge base from alternative_services.html - 5704 chars
2025-05-30 19:26:52,555 - __main__ - INFO - ✅ Loaded communication_clinic knowledge base from communication_clinic_services.html - 5336 chars
2025-05-30 19:26:52,557 - __main__ - INFO - ✅ Loaded workshops knowledge base from workshops_services.html - 5071 chars
2025-05-30 19:26:52,557 - __main__ - INFO - Knowledge base loaded with 6 services: ['dental', 'optometry', 'pregnancy', 'alternative', 'communication_clinic', 'workshops']
2025-05-30 19:27:38,032 - __main__ - INFO - Azure OpenAI client initialized successfully
2025-05-30 19:27:38,052 - __main__ - INFO - Loading knowledge base from: /Users/ormeiri/Desktop/KPMGassignment/KPMGasasignment/phase2_data
2025-05-30 19:27:38,052 - __main__ - INFO - Directory exists: True
2025-05-30 19:27:38,054 - __main__ - INFO - ✅ Loaded dental knowledge base from dentel_services.html - 5030 chars
2025-05-30 19:27:38,055 - __main__ - INFO - ✅ Loaded optometry knowledge base from optometry_services.html - 5774 chars
2025-05-30 19:27:38,057 - __main__ - INFO - ✅ Loaded pregnancy knowledge base from pragrency_services.html - 5151 chars
2025-05-30 19:27:38,059 - __main__ - INFO - ✅ Loaded alternative knowledge base from alternative_services.html - 5704 chars
2025-05-30 19:27:38,060 - __main__ - INFO - ✅ Loaded communication_clinic knowledge base from communication_clinic_services.html - 5336 chars
2025-05-30 19:27:38,062 - __main__ - INFO - ✅ Loaded workshops knowledge base from workshops_services.html - 5071 chars
2025-05-30 19:27:38,062 - __main__ - INFO - Knowledge base loaded with 6 services: ['dental', 'optometry', 'pregnancy', 'alternative', 'communication_clinic', 'workshops']
2025-05-30 19:28:01,915 - __main__ - INFO - Azure OpenAI client initialized successfully
2025-05-30 19:28:01,935 - __main__ - INFO - Loading knowledge base from: /Users/ormeiri/Desktop/KPMGassignment/KPMGasasignment/phase2_data
2025-05-30 19:28:01,936 - __main__ - INFO - Directory exists: True
2025-05-30 19:28:01,937 - __main__ - INFO - ✅ Loaded dental knowledge base from dentel_services.html - 5030 chars
2025-05-30 19:28:01,939 - __main__ - INFO - ✅ Loaded optometry knowledge base from optometry_services.html - 5774 chars
2025-05-30 19:28:01,942 - __main__ - INFO - ✅ Loaded pregnancy knowledge base from pragrency_services.html - 5151 chars
2025-05-30 19:28:01,943 - __main__ - INFO - ✅ Loaded alternative knowledge base from alternative_services.html - 5704 chars
2025-05-30 19:28:01,945 - __main__ - INFO - ✅ Loaded communication_clinic knowledge base from communication_clinic_services.html - 5336 chars
2025-05-30 19:28:01,947 - __main__ - INFO - ✅ Loaded workshops knowledge base from workshops_services.html - 5071 chars
2025-05-30 19:28:01,947 - __main__ - INFO - Knowledge base loaded with 6 services: ['dental', 'optometry', 'pregnancy', 'alternative', 'communication_clinic', 'workshops']
2025-05-30 19:28:12,760 - __main__ - INFO - Azure OpenAI client initialized successfully
2025-05-30 19:28:12,780 - __main__ - INFO - Loading knowledge base from: /Users/ormeiri/Desktop/KPMGassignment/KPMGasasignment/phase2_data
2025-05-30 19:28:12,780 - __main__ - INFO - Directory exists: True
2025-05-30 19:28:12,782 - __main__ - INFO - ✅ Loaded dental knowledge base from dentel_services.html - 5030 chars
2025-05-30 19:28:12,784 - __main__ - INFO - ✅ Loaded optometry knowledge base from optometry_services.html - 5774 chars
2025-05-30 19:28:12,785 - __main__ - INFO - ✅ Loaded pregnancy knowledge base from pragrency_services.html - 5151 chars
2025-05-30 19:28:12,787 - __main__ - INFO - ✅ Loaded alternative knowledge base from alternative_services.html - 5704 chars
2025-05-30 19:28:12,789 - __main__ - INFO - ✅ Loaded communication_clinic knowledge base from communication_clinic_services.html - 5336 chars
2025-05-30 19:28:12,790 - __main__ - INFO - ✅ Loaded workshops knowledge base from workshops_services.html - 5071 chars
2025-05-30 19:28:12,790 - __main__ - INFO - Knowledge base loaded with 6 services: ['dental', 'optometry', 'pregnancy', 'alternative', 'communication_clinic', 'workshops']
2025-05-30 19:32:44,345 - __main__ - INFO - Azure OpenAI client initialized successfully
2025-05-30 19:32:44,369 - __main__ - INFO - Loading knowledge base from: /Users/ormeiri/Desktop/KPMGassignment/KPMGasasignment/phase2_data
2025-05-30 19:32:44,369 - __main__ - INFO - Directory exists: True
2025-05-30 19:32:44,371 - __main__ - INFO - ✅ Loaded dental knowledge base from dentel_services.html - 5030 chars
2025-05-30 19:32:44,373 - __main__ - INFO - ✅ Loaded optometry knowledge base from optometry_services.html - 5774 chars
2025-05-30 19:32:44,374 - __main__ - INFO - ✅ Loaded pregnancy knowledge base from pragrency_services.html - 5151 chars
2025-05-30 19:32:44,376 - __main__ - INFO - ✅ Loaded alternative knowledge base from alternative_services.html - 5704 chars
2025-05-30 19:32:44,377 - __main__ - INFO - ✅ Loaded communication_clinic knowledge base from communication_clinic_services.html - 5336 chars
2025-05-30 19:32:44,379 - __main__ - INFO - ✅ Loaded workshops knowledge base from workshops_services.html - 5071 chars
2025-05-30 19:32:44,379 - __main__ - INFO - Knowledge base loaded with 6 services: ['dental', 'optometry', 'pregnancy', 'alternative', 'communication_clinic', 'workshops']
2025-05-30 19:32:44,379 - __main__ - INFO - sucseed load knolage base
2025-05-30 19:40:41,453 - __main__ - INFO - Azure OpenAI client initialized successfully
2025-05-30 19:44:55,155 - __main__ - INFO - Azure OpenAI client initialized successfully
2025-05-30 19:44:55,182 - __main__ - INFO - Loading knowledge base from: /Users/ormeiri/Desktop/KPMGassignment/KPMGasasignment/phase2_data
2025-05-30 19:44:55,182 - __main__ - INFO - Directory exists: True
2025-05-30 19:44:55,184 - __main__ - INFO - ✅ Loaded dental knowledge base from dentel_services.html - 5030 chars
2025-05-30 19:44:55,186 - __main__ - INFO - ✅ Loaded optometry knowledge base from optometry_services.html - 5774 chars
2025-05-30 19:44:55,187 - __main__ - INFO - ✅ Loaded pregnancy knowledge base from pragrency_services.html - 5151 chars
2025-05-30 19:44:55,189 - __main__ - INFO - ✅ Loaded alternative knowledge base from alternative_services.html - 5704 chars
2025-05-30 19:44:55,191 - __main__ - INFO - ✅ Loaded communication_clinic knowledge base from communication_clinic_services.html - 5336 chars
2025-05-30 19:44:55,192 - __main__ - INFO - ✅ Loaded workshops knowledge base from workshops_services.html - 5071 chars
2025-05-30 19:44:55,192 - __main__ - INFO - Knowledge base loaded with 6 services: ['dental', 'optometry', 'pregnancy', 'alternative', 'communication_clinic', 'workshops']
2025-05-30 19:47:34,697 - __main__ - INFO - Azure OpenAI client initialized successfully
2025-05-30 19:47:34,720 - __main__ - INFO - Loading knowledge base from: /Users/ormeiri/Desktop/KPMGassignment/KPMGasasignment/phase2_data
2025-05-30 19:47:34,720 - __main__ - INFO - Directory exists: True
2025-05-30 19:47:34,722 - __main__ - INFO - ✅ Loaded dental knowledge base from dentel_services.html - 5030 chars
2025-05-30 19:47:34,724 - __main__ - INFO - ✅ Loaded optometry knowledge base from optometry_services.html - 5774 chars
2025-05-30 19:47:34,726 - __main__ - INFO - ✅ Loaded pregnancy knowledge base from pragrency_services.html - 5151 chars
2025-05-30 19:47:34,727 - __main__ - INFO - ✅ Loaded alternative knowledge base from alternative_services.html - 5704 chars
2025-05-30 19:47:34,729 - __main__ - INFO - ✅ Loaded communication_clinic knowledge base from communication_clinic_services.html - 5336 chars
2025-05-30 19:47:34,731 - __main__ - INFO - ✅ Loaded workshops knowledge base from workshops_services.html - 5071 chars
2025-05-30 19:47:34,731 - __main__ - INFO - Knowledge base loaded with 6 services: ['dental', 'optometry', 'pregnancy', 'alternative', 'communication_clinic', 'workshops']
2025-05-30 19:47:36,188 - __main__ - INFO - health check
2025-05-30 19:47:37,232 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 19:47:37,233 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 19:47:39,621 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 19:47:39,632 - __main__ - INFO - Chat response generated successfully
2025-05-30 19:48:06,828 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 19:48:06,829 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 19:48:08,600 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 19:48:08,602 - __main__ - INFO - Chat response generated successfully
2025-05-30 19:48:14,073 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 19:48:14,073 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 19:48:15,040 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 19:48:15,043 - __main__ - INFO - Chat response generated successfully
2025-05-30 19:48:24,606 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 19:48:24,607 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 19:48:25,791 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 19:48:25,792 - __main__ - INFO - Chat response generated successfully
2025-05-30 19:48:29,012 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 19:48:29,013 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 19:48:29,582 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 19:48:29,583 - __main__ - INFO - Chat response generated successfully
2025-05-30 19:48:33,502 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 19:48:33,503 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 19:48:34,107 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 19:48:34,109 - __main__ - INFO - Chat response generated successfully
2025-05-30 19:48:39,694 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 19:48:39,694 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 19:48:41,243 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 19:48:41,245 - __main__ - INFO - Chat response generated successfully
2025-05-30 19:48:45,266 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 19:48:45,267 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 19:48:46,014 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 19:48:46,016 - __main__ - INFO - Chat response generated successfully
2025-05-30 19:48:48,262 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 19:48:48,262 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 19:48:49,662 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 19:48:49,664 - __main__ - INFO - Chat response generated successfully
2025-05-30 19:48:51,985 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 19:48:51,986 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 19:48:52,905 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 19:48:52,906 - __main__ - INFO - Chat response generated successfully
2025-05-30 19:48:59,291 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 19:48:59,291 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 19:49:03,633 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 19:49:03,636 - __main__ - INFO - Chat response generated successfully
2025-05-30 20:38:27,058 - __main__ - INFO - Azure OpenAI client initialized successfully
2025-05-30 20:38:27,085 - __main__ - INFO - Loading knowledge base from: /Users/ormeiri/Desktop/KPMGassignment/KPMGasasignment/phase2_data
2025-05-30 20:38:27,085 - __main__ - INFO - Directory exists: True
2025-05-30 20:38:27,087 - __main__ - INFO - ✅ Loaded dental knowledge base from dentel_services.html - 5030 chars
2025-05-30 20:38:27,089 - __main__ - INFO - ✅ Loaded optometry knowledge base from optometry_services.html - 5774 chars
2025-05-30 20:38:27,091 - __main__ - INFO - ✅ Loaded pregnancy knowledge base from pragrency_services.html - 5151 chars
2025-05-30 20:38:27,092 - __main__ - INFO - ✅ Loaded alternative knowledge base from alternative_services.html - 5704 chars
2025-05-30 20:38:27,094 - __main__ - INFO - ✅ Loaded communication_clinic knowledge base from communication_clinic_services.html - 5336 chars
2025-05-30 20:38:27,096 - __main__ - INFO - ✅ Loaded workshops knowledge base from workshops_services.html - 5071 chars
2025-05-30 20:38:27,096 - __main__ - INFO - Knowledge base loaded with 6 services: ['dental', 'optometry', 'pregnancy', 'alternative', 'communication_clinic', 'workshops']
2025-05-30 20:38:28,532 - __main__ - INFO - health check
2025-05-30 20:38:29,551 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 20:38:29,551 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 20:38:31,803 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 20:38:31,811 - __main__ - INFO - Chat response generated successfully
2025-05-30 20:38:44,391 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 20:38:44,392 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 20:38:46,791 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 20:38:46,793 - __main__ - INFO - Chat response generated successfully
2025-05-30 20:38:52,197 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 20:38:52,197 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 20:38:53,138 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 20:38:53,138 - __main__ - INFO - Chat response generated successfully
2025-05-30 20:38:54,506 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 20:38:54,506 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 20:38:55,185 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 20:38:55,186 - __main__ - INFO - Chat response generated successfully
2025-05-30 20:38:56,683 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 20:38:56,683 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 20:38:57,351 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 20:38:57,352 - __main__ - INFO - Chat response generated successfully
2025-05-30 20:39:00,067 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 20:39:00,068 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 20:39:00,733 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 20:39:00,735 - __main__ - INFO - Chat response generated successfully
2025-05-30 20:39:02,724 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 20:39:02,724 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 20:39:03,451 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 20:39:03,453 - __main__ - INFO - Chat response generated successfully
2025-05-30 20:39:06,556 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 20:39:06,556 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 20:39:08,294 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 20:39:08,296 - __main__ - INFO - Chat response generated successfully
2025-05-30 20:39:11,950 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 20:39:11,950 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 20:39:12,703 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 20:39:12,704 - __main__ - INFO - Chat response generated successfully
2025-05-30 20:39:26,806 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 20:39:26,806 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 20:39:29,738 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 20:39:29,740 - __main__ - INFO - Chat response generated successfully
2025-05-30 20:47:30,807 - __main__ - INFO - Azure OpenAI client initialized successfully
2025-05-30 20:47:30,831 - __main__ - INFO - Loading knowledge base from: /Users/ormeiri/Desktop/KPMGassignment/KPMGasasignment/phase2_data
2025-05-30 20:47:30,831 - __main__ - INFO - Directory exists: True
2025-05-30 20:47:30,834 - __main__ - INFO - ✅ Loaded dental knowledge base from dentel_services.html - 5030 chars
2025-05-30 20:47:30,838 - __main__ - INFO - ✅ Loaded optometry knowledge base from optometry_services.html - 5774 chars
2025-05-30 20:47:30,841 - __main__ - INFO - ✅ Loaded pregnancy knowledge base from pragrency_services.html - 5151 chars
2025-05-30 20:47:30,844 - __main__ - INFO - ✅ Loaded alternative knowledge base from alternative_services.html - 5704 chars
2025-05-30 20:47:30,847 - __main__ - INFO - ✅ Loaded communication_clinic knowledge base from communication_clinic_services.html - 5336 chars
2025-05-30 20:47:30,850 - __main__ - INFO - ✅ Loaded workshops knowledge base from workshops_services.html - 5071 chars
2025-05-30 20:47:30,850 - __main__ - INFO - Knowledge base loaded with 6 services: ['dental', 'optometry', 'pregnancy', 'alternative', 'communication_clinic', 'workshops']
2025-05-30 20:47:32,302 - __main__ - INFO - health check
2025-05-30 20:47:33,350 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 20:47:33,350 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 20:47:33,350 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 20:47:36,201 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 20:47:36,202 - __main__ - INFO - Chat response generated successfully - Length: 425 chars
2025-05-30 20:47:41,375 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 20:47:41,376 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 20:47:41,376 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 20:47:42,449 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 20:47:42,451 - __main__ - INFO - Chat response generated successfully - Length: 107 chars
2025-05-30 20:47:45,399 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 20:47:45,400 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 20:47:45,400 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 20:47:46,098 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 20:47:46,100 - __main__ - INFO - Chat response generated successfully - Length: 108 chars
2025-05-30 20:47:48,750 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 20:47:48,750 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 20:47:48,751 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 20:47:49,414 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 20:47:49,414 - __main__ - INFO - Chat response generated successfully - Length: 84 chars
2025-05-30 20:47:50,992 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 20:47:50,992 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 20:47:50,992 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 20:47:51,721 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 20:47:51,721 - __main__ - INFO - Chat response generated successfully - Length: 105 chars
2025-05-30 20:47:54,126 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 20:47:54,127 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 20:47:54,127 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 20:47:55,042 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 20:47:55,042 - __main__ - INFO - Chat response generated successfully - Length: 137 chars
2025-05-30 20:47:55,921 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 20:47:55,921 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 20:47:55,921 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 20:47:56,784 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 20:47:56,786 - __main__ - INFO - Chat response generated successfully - Length: 124 chars
2025-05-30 20:47:59,261 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 20:47:59,261 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 20:47:59,261 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 20:48:00,759 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 20:48:00,762 - __main__ - INFO - Chat response generated successfully - Length: 289 chars
2025-05-30 20:48:02,955 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 20:48:02,955 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 20:48:02,955 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 20:48:03,747 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 20:48:03,749 - __main__ - INFO - Chat response generated successfully - Length: 137 chars
2025-05-30 20:48:11,078 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 20:48:11,079 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 20:48:11,079 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 20:48:14,091 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 20:48:14,093 - __main__ - INFO - Chat response generated successfully - Length: 695 chars
2025-05-30 20:51:07,548 - __main__ - INFO - Azure OpenAI client initialized successfully
2025-05-30 20:51:07,575 - __main__ - INFO - Loading knowledge base from: /Users/ormeiri/Desktop/KPMGassignment/KPMGasasignment/phase2_data
2025-05-30 20:51:07,575 - __main__ - INFO - Directory exists: True
2025-05-30 20:51:07,579 - __main__ - INFO - ✅ Loaded dental knowledge base from dentel_services.html - 5030 chars
2025-05-30 20:51:07,583 - __main__ - INFO - ✅ Loaded optometry knowledge base from optometry_services.html - 5774 chars
2025-05-30 20:51:07,586 - __main__ - INFO - ✅ Loaded pregnancy knowledge base from pragrency_services.html - 5151 chars
2025-05-30 20:51:07,591 - __main__ - INFO - ✅ Loaded alternative knowledge base from alternative_services.html - 5704 chars
2025-05-30 20:51:07,594 - __main__ - INFO - ✅ Loaded communication_clinic knowledge base from communication_clinic_services.html - 5336 chars
2025-05-30 20:51:07,597 - __main__ - INFO - ✅ Loaded workshops knowledge base from workshops_services.html - 5071 chars
2025-05-30 20:51:07,597 - __main__ - INFO - Knowledge base loaded with 6 services: ['dental', 'optometry', 'pregnancy', 'alternative', 'communication_clinic', 'workshops']
2025-05-30 20:51:09,027 - __main__ - INFO - health check
2025-05-30 20:51:10,046 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 20:51:10,046 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 20:51:10,046 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 20:51:15,426 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 20:51:15,433 - __main__ - INFO - Chat response generated successfully - Length: 387 chars
2025-05-30 20:51:24,241 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 20:51:24,241 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 20:51:24,241 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 20:51:25,665 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 20:51:25,668 - __main__ - INFO - Chat response generated successfully - Length: 113 chars
2025-05-30 20:51:28,876 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 20:51:28,877 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 20:51:28,877 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 20:51:29,820 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 20:51:29,822 - __main__ - INFO - Chat response generated successfully - Length: 121 chars
2025-05-30 20:51:32,672 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 20:51:32,672 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 20:51:32,672 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 20:51:35,290 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 20:51:35,290 - __main__ - INFO - Chat response generated successfully - Length: 95 chars
2025-05-30 20:51:37,202 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 20:51:37,202 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 20:51:37,202 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 20:51:38,116 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 20:51:38,116 - __main__ - INFO - Chat response generated successfully - Length: 111 chars
2025-05-30 20:51:41,117 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 20:51:41,118 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 20:51:41,118 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 20:51:42,460 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 20:51:42,462 - __main__ - INFO - Chat response generated successfully - Length: 143 chars
2025-05-30 20:51:43,578 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 20:51:43,579 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 20:51:43,579 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 20:51:44,405 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 20:51:44,407 - __main__ - INFO - Chat response generated successfully - Length: 133 chars
2025-05-30 20:51:46,882 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 20:51:46,883 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 20:51:46,883 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 20:51:49,526 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 20:51:49,528 - __main__ - INFO - Chat response generated successfully - Length: 295 chars
2025-05-30 20:51:51,037 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 20:51:51,038 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 20:51:51,038 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 20:51:52,700 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 20:51:52,702 - __main__ - INFO - Chat response generated successfully - Length: 141 chars
2025-05-30 20:51:59,088 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 20:51:59,089 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 20:51:59,089 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 20:52:05,394 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 20:52:05,395 - __main__ - INFO - Chat response generated successfully - Length: 814 chars
2025-05-30 20:55:31,744 - __main__ - INFO - Azure OpenAI client initialized successfully
2025-05-30 20:55:31,766 - __main__ - INFO - Loading knowledge base from: /Users/ormeiri/Desktop/KPMGassignment/KPMGasasignment/phase2_data
2025-05-30 20:55:31,766 - __main__ - INFO - Directory exists: True
2025-05-30 20:55:31,770 - __main__ - INFO - ✅ Loaded dental knowledge base from dentel_services.html - 5030 chars
2025-05-30 20:55:31,773 - __main__ - INFO - ✅ Loaded optometry knowledge base from optometry_services.html - 5774 chars
2025-05-30 20:55:31,776 - __main__ - INFO - ✅ Loaded pregnancy knowledge base from pragrency_services.html - 5151 chars
2025-05-30 20:55:31,780 - __main__ - INFO - ✅ Loaded alternative knowledge base from alternative_services.html - 5704 chars
2025-05-30 20:55:31,783 - __main__ - INFO - ✅ Loaded communication_clinic knowledge base from communication_clinic_services.html - 5336 chars
2025-05-30 20:55:31,786 - __main__ - INFO - ✅ Loaded workshops knowledge base from workshops_services.html - 5071 chars
2025-05-30 20:55:31,786 - __main__ - INFO - Knowledge base loaded with 6 services: ['dental', 'optometry', 'pregnancy', 'alternative', 'communication_clinic', 'workshops']
2025-05-30 20:55:33,261 - __main__ - INFO - health check
2025-05-30 20:55:34,305 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 20:55:34,305 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 20:55:34,305 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 20:55:37,198 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 20:55:37,203 - __main__ - INFO - Chat response generated successfully - Length: 423 chars
2025-05-30 20:57:37,187 - __main__ - INFO - Azure OpenAI client initialized successfully
2025-05-30 20:57:38,684 - __main__ - INFO - health check
2025-05-30 20:57:39,705 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 20:57:39,706 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 20:57:39,706 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 20:57:42,805 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 20:57:42,806 - __main__ - INFO - Chat response generated successfully - Length: 457 chars
2025-05-30 20:58:22,637 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 20:58:22,638 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 20:58:22,638 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 20:58:24,002 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 20:58:24,004 - __main__ - INFO - Chat response generated successfully - Length: 140 chars
2025-05-30 20:58:30,087 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 20:58:30,091 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 20:58:30,091 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 20:58:31,140 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 20:58:31,142 - __main__ - INFO - Chat response generated successfully - Length: 64 chars
2025-05-30 20:58:33,193 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 20:58:33,193 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 20:58:33,193 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 20:58:33,808 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 20:58:33,810 - __main__ - INFO - Chat response generated successfully - Length: 71 chars
2025-05-30 20:58:35,022 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 20:58:35,022 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 20:58:35,022 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 20:58:35,747 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 20:58:35,749 - __main__ - INFO - Chat response generated successfully - Length: 83 chars
2025-05-30 20:58:38,295 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 20:58:38,295 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 20:58:38,295 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 20:58:39,332 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 20:58:39,334 - __main__ - INFO - Chat response generated successfully - Length: 96 chars
2025-05-30 20:58:42,076 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 20:58:42,076 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 20:58:42,077 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 20:58:42,731 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 20:58:42,733 - __main__ - INFO - Chat response generated successfully - Length: 77 chars
2025-05-30 20:58:44,653 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 20:58:44,654 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 20:58:44,654 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 20:58:46,295 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 20:58:46,297 - __main__ - INFO - Chat response generated successfully - Length: 276 chars
2025-05-30 20:58:47,583 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 20:58:47,583 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 20:58:47,584 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 20:58:48,318 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 20:58:48,320 - __main__ - INFO - Chat response generated successfully - Length: 127 chars
2025-05-30 20:58:53,297 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 20:58:53,297 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 20:58:53,297 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 20:58:57,023 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 20:58:57,025 - __main__ - INFO - Chat response generated successfully - Length: 980 chars
2025-05-30 21:01:45,926 - __main__ - INFO - Azure OpenAI client initialized successfully
2025-05-30 21:01:47,429 - __main__ - INFO - health check
2025-05-30 21:01:48,477 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 21:01:48,478 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 21:01:48,478 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 21:01:52,228 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 21:01:52,229 - __main__ - INFO - Chat response generated successfully - Length: 457 chars
2025-05-30 21:01:55,826 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 21:01:55,826 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 21:01:55,826 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 21:01:56,553 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 21:01:56,553 - __main__ - INFO - Chat response generated successfully - Length: 114 chars
2025-05-30 21:02:00,488 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 21:02:00,489 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 21:02:00,489 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 21:02:01,032 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 21:02:01,034 - __main__ - INFO - Chat response generated successfully - Length: 76 chars
2025-05-30 21:02:03,056 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 21:02:03,056 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 21:02:03,056 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 21:02:03,662 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 21:02:03,664 - __main__ - INFO - Chat response generated successfully - Length: 78 chars
2025-05-30 21:02:05,053 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 21:02:05,053 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 21:02:05,053 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 21:02:05,873 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 21:02:05,875 - __main__ - INFO - Chat response generated successfully - Length: 91 chars
2025-05-30 21:02:08,273 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 21:02:08,274 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 21:02:08,274 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 21:02:09,061 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 21:02:09,063 - __main__ - INFO - Chat response generated successfully - Length: 118 chars
2025-05-30 21:02:10,976 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 21:02:10,976 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 21:02:10,976 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 21:02:12,107 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 21:02:12,109 - __main__ - INFO - Chat response generated successfully - Length: 82 chars
2025-05-30 21:02:14,443 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 21:02:14,444 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 21:02:14,444 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 21:02:16,010 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 21:02:16,012 - __main__ - INFO - Chat response generated successfully - Length: 272 chars
2025-05-30 21:02:17,759 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 21:02:17,760 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 21:02:17,760 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 21:02:18,548 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 21:02:18,548 - __main__ - INFO - Chat response generated successfully - Length: 137 chars
2025-05-30 21:02:26,595 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 21:02:26,596 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 21:02:26,596 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 21:02:30,244 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 21:02:30,245 - __main__ - INFO - Chat response generated successfully - Length: 842 chars
2025-05-30 21:05:33,077 - __main__ - INFO - Azure OpenAI client initialized successfully
2025-05-30 21:05:34,573 - __main__ - INFO - health check
2025-05-30 21:05:35,598 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 21:05:35,598 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 21:05:35,598 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 21:05:38,066 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 21:05:38,068 - __main__ - INFO - Chat response generated successfully - Length: 357 chars
2025-05-30 21:05:41,324 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 21:05:41,324 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 21:05:41,324 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 21:05:42,038 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 21:05:42,040 - __main__ - INFO - Chat response generated successfully - Length: 114 chars
2025-05-30 21:05:45,187 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 21:05:45,187 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 21:05:45,187 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 21:05:45,961 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 21:05:45,963 - __main__ - INFO - Chat response generated successfully - Length: 86 chars
2025-05-30 21:05:47,872 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 21:05:47,873 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 21:05:47,873 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 21:05:49,463 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 21:05:49,465 - __main__ - INFO - Chat response generated successfully - Length: 78 chars
2025-05-30 21:05:50,640 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 21:05:50,640 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 21:05:50,640 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 21:05:51,289 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 21:05:51,291 - __main__ - INFO - Chat response generated successfully - Length: 86 chars
2025-05-30 21:05:53,253 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 21:05:53,253 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 21:05:53,253 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 21:05:54,303 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 21:05:54,305 - __main__ - INFO - Chat response generated successfully - Length: 117 chars
2025-05-30 21:05:55,768 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 21:05:55,768 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 21:05:55,768 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 21:05:56,614 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 21:05:56,615 - __main__ - INFO - Chat response generated successfully - Length: 86 chars
2025-05-30 21:05:58,503 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 21:05:58,503 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 21:05:58,503 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 21:06:00,503 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 21:06:00,505 - __main__ - INFO - Chat response generated successfully - Length: 332 chars
2025-05-30 21:06:03,743 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 21:06:03,743 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 21:06:03,743 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 21:06:04,508 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 21:06:04,508 - __main__ - INFO - Chat response generated successfully - Length: 122 chars
2025-05-30 21:06:09,476 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 21:06:09,476 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 21:06:09,477 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 21:06:12,801 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 21:06:12,803 - __main__ - INFO - Chat response generated successfully - Length: 780 chars
2025-05-30 21:06:51,500 - __main__ - INFO - Azure OpenAI client initialized successfully
2025-05-30 21:06:52,994 - __main__ - INFO - health check
2025-05-30 21:06:54,036 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 21:06:54,036 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 21:06:54,036 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 21:06:56,731 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 21:06:56,732 - __main__ - INFO - Chat response generated successfully - Length: 360 chars
2025-05-30 21:07:03,501 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 21:07:03,502 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 21:07:03,502 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 21:07:04,655 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 21:07:04,658 - __main__ - INFO - Chat response generated successfully - Length: 115 chars
2025-05-30 21:07:08,559 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 21:07:08,559 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 21:07:08,559 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 21:07:09,200 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 21:07:09,201 - __main__ - INFO - Chat response generated successfully - Length: 79 chars
2025-05-30 21:07:11,023 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 21:07:11,023 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 21:07:11,023 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 21:07:11,785 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 21:07:11,787 - __main__ - INFO - Chat response generated successfully - Length: 76 chars
2025-05-30 21:07:13,210 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 21:07:13,210 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 21:07:13,210 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 21:07:13,883 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 21:07:13,885 - __main__ - INFO - Chat response generated successfully - Length: 88 chars
2025-05-30 21:07:17,807 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 21:07:17,808 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 21:07:17,808 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 21:07:18,467 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 21:07:18,468 - __main__ - INFO - Chat response generated successfully - Length: 106 chars
2025-05-30 21:07:20,112 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 21:07:20,112 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 21:07:20,112 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 21:07:20,840 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 21:07:20,842 - __main__ - INFO - Chat response generated successfully - Length: 85 chars
2025-05-30 21:07:22,500 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 21:07:22,500 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 21:07:22,500 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 21:07:23,862 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 21:07:23,862 - __main__ - INFO - Chat response generated successfully - Length: 273 chars
2025-05-30 21:07:26,236 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 21:07:26,236 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 21:07:26,237 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 21:07:27,030 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 21:07:27,030 - __main__ - INFO - Chat response generated successfully - Length: 137 chars
2025-05-30 21:07:32,673 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 21:07:32,673 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 21:07:32,673 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 21:07:36,874 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 21:07:36,876 - __main__ - INFO - Chat response generated successfully - Length: 763 chars
2025-05-30 21:10:18,990 - __main__ - INFO - Azure OpenAI client initialized successfully
2025-05-30 21:10:20,495 - __main__ - INFO - health check
2025-05-30 21:10:21,534 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 21:10:21,535 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 21:10:21,535 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 21:10:24,633 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 21:10:24,639 - __main__ - INFO - Chat response generated successfully - Length: 429 chars
2025-05-30 21:10:24,639 - __main__ - INFO - Chat response generated: שלום! אני כאן כדי לעזור לך באיסוף המידע הנדרש לפני מתן שירותי יעוץ רפואי. הנה רשימת המידע שאני צריך:

1. שם פרטי ושם משפחה
2. מספר תעודת זהות (9 ספרות)
3. מין (זכר/נקבה/אחר)
4. גיל (בין 0 ל-120)
5. שם קופת החולים (מכבי/מאוחדת/כללית)
6. מספר כרטיס קופת חולים (9 ספרות)
7. דרגת ביטוח (זהב/כסף/ארד)

המידע הזה יעזור לנו להבטיח שהשירותים הרפואיים מותאמים לצרכים האישיים שלך.

בואו נתחיל עם השם הפרטי ושם המשפחה שלך. אנא הזן אותם כאן.
2025-05-30 21:10:29,891 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 21:10:29,892 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 21:10:29,892 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 21:10:31,161 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 21:10:31,163 - __main__ - INFO - Chat response generated successfully - Length: 107 chars
2025-05-30 21:10:31,163 - __main__ - INFO - Chat response generated: תודה, אור מאירי. עכשיו נעבור לשלב הבא. אנא הזן את מספר תעודת הזהות שלך, שהוא בן 9 ספרות. לדוגמה: 123456789.
2025-05-30 21:10:37,106 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 21:10:37,106 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 21:10:37,107 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 21:10:38,231 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 21:10:38,233 - __main__ - INFO - Chat response generated successfully - Length: 76 chars
2025-05-30 21:10:38,233 - __main__ - INFO - Chat response generated: תודה על המידע. עכשיו נעבור לשלב הבא. אנא ציין את המין שלך: זכר, נקבה או אחר.
2025-05-30 21:10:41,186 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 21:10:41,186 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 21:10:41,186 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 21:10:41,707 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 21:10:41,707 - __main__ - INFO - Chat response generated successfully - Length: 67 chars
2025-05-30 21:10:41,707 - __main__ - INFO - Chat response generated: תודה על האישור. עכשיו נעבור לשלב הבא. אנא הזן את גילך, בין 0 ל-120.
2025-05-30 21:10:43,329 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 21:10:43,329 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 21:10:43,329 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 21:10:44,164 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 21:10:44,165 - __main__ - INFO - Chat response generated successfully - Length: 91 chars
2025-05-30 21:10:44,165 - __main__ - INFO - Chat response generated: תודה על המידע. עכשיו נעבור לשלב הבא. אנא ציין את שם קופת החולים שלך: מכבי, מאוחדת או כללית.
2025-05-30 21:10:47,010 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 21:10:47,010 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 21:10:47,010 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 21:10:47,852 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 21:10:47,853 - __main__ - INFO - Chat response generated successfully - Length: 107 chars
2025-05-30 21:10:47,854 - __main__ - INFO - Chat response generated: תודה על האישור. עכשיו נעבור לשלב הבא. אנא הזן את מספר כרטיס קופת החולים שלך, בן 9 ספרות. לדוגמה: 123456789.
2025-05-30 21:10:50,564 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 21:10:50,565 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 21:10:50,565 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 21:10:51,436 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 21:10:51,438 - __main__ - INFO - Chat response generated successfully - Length: 85 chars
2025-05-30 21:10:51,438 - __main__ - INFO - Chat response generated: תודה על המידע. עכשיו נעבור לשלב האחרון. אנא ציין את דרגת הביטוח שלך: זהב, כסף או ארד.
2025-05-30 21:10:57,631 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 21:10:57,632 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 21:10:57,632 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 21:10:59,937 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 21:10:59,939 - __main__ - INFO - Chat response generated successfully - Length: 274 chars
2025-05-30 21:10:59,939 - __main__ - INFO - Chat response generated: תודה רבה על המידע. הנה סיכום הפרטים שאספנו:

1. שם פרטי ושם משפחה: בואו נתחיל באיסוף המידע
2. מספר תעודת זהות: 123456789
3. מין: זכר
4. גיל: 2
5. שם קופת החולים: כללית
6. מספר כרטיס קופת חולים: 123456789
7. דרגת ביטוח: זהב

האם כל המידע נכון? אם יש צורך בתיקון, אנא הודע לי.
2025-05-30 21:11:02,088 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 21:11:02,088 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 21:11:02,088 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 21:11:03,109 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 21:11:03,111 - __main__ - INFO - Chat response generated successfully - Length: 137 chars
2025-05-30 21:11:03,111 - __main__ - INFO - Chat response generated: תודה על האישור. כל המידע נקלט בהצלחה. אם יש לך שאלות נוספות או שאתה זקוק לעזרה נוספת, אל תהסס לפנות אליי. שיהיה לך יום נהדר ובריאות טובה!
2025-05-30 21:11:08,705 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 21:11:08,705 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 21:11:08,706 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 21:11:12,422 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 21:11:12,424 - __main__ - INFO - Chat response generated successfully - Length: 873 chars
2025-05-30 21:11:12,424 - __main__ - INFO - Chat response generated: אני כאן כדי לעזור לך עם מידע כללי על הריון. הנה כמה נקודות חשובות:

1. **שלבי ההריון**: הריון נמשך בדרך כלל כ-40 שבועות ומחולק לשלושה טרימסטרים. כל טרימסטר מאופיין בשינויים פיזיים והתפתחותיים שונים אצל האם והעובר.

2. **תזונה**: חשוב לשמור על תזונה מאוזנת ועשירה בויטמינים ומינרלים, כולל חומצה פולית, ברזל וסידן. מומלץ להימנע מאלכוהול, קפאין בכמות גבוהה ומזונות לא מבושלים היטב.

3. **פעילות גופנית**: פעילות גופנית מתונה כמו הליכה או יוגה יכולה להיות מועילה במהלך ההריון, אך חשוב להתייעץ עם רופא לפני התחלת כל פעילות חדשה.

4. **בדיקות רפואיות**: במהלך ההריון ישנן בדיקות שגרתיות כמו אולטרסאונד ובדיקות דם שמטרתן לעקוב אחר בריאות האם והעובר.

5. **תסמינים נפוצים**: בחילות, עייפות ושינויים במצב הרוח הם תסמינים נפוצים בהריון. אם יש תסמינים חריגים או מטרידים, חשוב לפנות לרופא.

אם יש לך שאלות ספציפיות או שאתה זקוק למידע נוסף, אני ממליץ לפנות לרופא או מומחה בתחום הבריאות.
2025-05-30 21:14:39,415 - __main__ - INFO - Azure OpenAI client initialized successfully
2025-05-30 21:14:40,907 - __main__ - INFO - health check
2025-05-30 21:14:41,926 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 21:14:41,926 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 21:14:41,926 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 21:14:46,038 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 21:14:46,044 - __main__ - INFO - Chat response generated successfully - Length: 359 chars
2025-05-30 21:14:51,809 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 21:14:51,809 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 21:14:51,809 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 21:14:53,303 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 21:14:53,305 - __main__ - INFO - Chat response generated successfully - Length: 141 chars
2025-05-30 21:14:57,925 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 21:14:57,925 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 21:14:57,925 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 21:14:58,599 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 21:14:58,602 - __main__ - INFO - Chat response generated successfully - Length: 76 chars
2025-05-30 21:15:00,649 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 21:15:00,649 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 21:15:00,649 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 21:15:01,499 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 21:15:01,501 - __main__ - INFO - Chat response generated successfully - Length: 51 chars
2025-05-30 21:15:02,839 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 21:15:02,839 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 21:15:02,839 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 21:15:03,754 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 21:15:03,757 - __main__ - INFO - Chat response generated successfully - Length: 74 chars
2025-05-30 21:15:05,987 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 21:15:05,988 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 21:15:05,988 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 21:15:06,825 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 21:15:06,825 - __main__ - INFO - Chat response generated successfully - Length: 87 chars
2025-05-30 21:15:08,449 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 21:15:08,449 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 21:15:08,449 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 21:15:20,492 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 21:15:20,494 - __main__ - INFO - Chat response generated successfully - Length: 65 chars
2025-05-30 21:15:22,911 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 21:15:22,912 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 21:15:22,912 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 21:15:25,052 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 21:15:25,055 - __main__ - INFO - Chat response generated successfully - Length: 274 chars
2025-05-30 21:15:28,719 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 21:15:28,719 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 21:15:28,719 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 21:15:29,862 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 21:15:29,864 - __main__ - INFO - Chat response generated successfully - Length: 135 chars
2025-05-30 21:15:43,385 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 21:15:43,386 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 21:15:43,386 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 21:15:50,860 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 21:15:50,862 - __main__ - INFO - Chat response generated successfully - Length: 943 chars
2025-05-30 21:19:30,537 - __main__ - INFO - Azure OpenAI client initialized successfully
2025-05-30 21:19:31,988 - __main__ - INFO - health check
2025-05-30 21:19:33,039 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 21:19:33,039 - __main__ - INFO - Current phase: collection Before QA
2025-05-30 21:19:33,039 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 21:19:33,039 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 21:19:35,581 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 21:19:35,587 - __main__ - INFO - Chat response generated successfully - Length: 359 chars
2025-05-30 21:19:43,613 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 21:19:43,613 - __main__ - INFO - Current phase: collection Before QA
2025-05-30 21:19:43,613 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 21:19:43,613 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 21:19:44,727 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 21:19:44,728 - __main__ - INFO - Chat response generated successfully - Length: 141 chars
2025-05-30 21:19:48,395 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 21:19:48,396 - __main__ - INFO - Current phase: collection Before QA
2025-05-30 21:19:48,396 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 21:19:48,396 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 21:19:48,968 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 21:19:48,968 - __main__ - INFO - Chat response generated successfully - Length: 76 chars
2025-05-30 21:19:52,073 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 21:19:52,073 - __main__ - INFO - Current phase: collection Before QA
2025-05-30 21:19:52,073 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 21:19:52,073 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 21:19:52,803 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 21:19:52,804 - __main__ - INFO - Chat response generated successfully - Length: 74 chars
2025-05-30 21:19:54,427 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 21:19:54,428 - __main__ - INFO - Current phase: collection Before QA
2025-05-30 21:19:54,428 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 21:19:54,428 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 21:19:55,084 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 21:19:55,086 - __main__ - INFO - Chat response generated successfully - Length: 91 chars
2025-05-30 21:19:57,158 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 21:19:57,158 - __main__ - INFO - Current phase: collection Before QA
2025-05-30 21:19:57,158 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 21:19:57,158 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 21:19:58,054 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 21:19:58,056 - __main__ - INFO - Chat response generated successfully - Length: 106 chars
2025-05-30 21:19:59,875 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 21:19:59,876 - __main__ - INFO - Current phase: collection Before QA
2025-05-30 21:19:59,876 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 21:19:59,876 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 21:20:00,562 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 21:20:00,563 - __main__ - INFO - Chat response generated successfully - Length: 82 chars
2025-05-30 21:20:02,286 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 21:20:02,287 - __main__ - INFO - Current phase: collection Before QA
2025-05-30 21:20:02,287 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 21:20:02,287 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 21:20:04,096 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 21:20:04,098 - __main__ - INFO - Chat response generated successfully - Length: 274 chars
2025-05-30 21:20:07,677 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 21:20:07,677 - __main__ - INFO - Current phase: collection Before QA
2025-05-30 21:20:07,677 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 21:20:07,678 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 21:20:08,544 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 21:20:08,546 - __main__ - INFO - Chat response generated successfully - Length: 122 chars
2025-05-30 21:20:17,291 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 21:20:17,291 - __main__ - INFO - Current phase: collection Before QA
2025-05-30 21:20:17,291 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 21:20:17,291 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 21:20:18,632 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 21:20:18,633 - __main__ - INFO - Chat response generated successfully - Length: 147 chars
2025-05-30 21:22:11,265 - __main__ - INFO - Azure OpenAI client initialized successfully
2025-05-30 21:22:12,787 - __main__ - INFO - health check
2025-05-30 21:22:13,830 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 21:22:13,831 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 21:22:13,831 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 21:22:16,298 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 21:22:16,304 - __main__ - INFO - Chat response generated successfully - Length: 414 chars
2025-05-30 21:22:21,335 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 21:22:21,335 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 21:22:21,335 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 21:22:23,664 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 21:22:23,666 - __main__ - INFO - Chat response generated successfully - Length: 115 chars
2025-05-30 21:22:26,210 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 21:22:26,211 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 21:22:26,211 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 21:22:26,834 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 21:22:26,836 - __main__ - INFO - Chat response generated successfully - Length: 70 chars
2025-05-30 21:22:29,596 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 21:22:29,596 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 21:22:29,596 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 21:22:30,133 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 21:22:30,135 - __main__ - INFO - Chat response generated successfully - Length: 72 chars
2025-05-30 21:22:31,875 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 21:22:31,875 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 21:22:31,875 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 21:22:32,617 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 21:22:32,618 - __main__ - INFO - Chat response generated successfully - Length: 80 chars
2025-05-30 21:22:35,150 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 21:22:35,150 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 21:22:35,150 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 21:22:36,059 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 21:22:36,060 - __main__ - INFO - Chat response generated successfully - Length: 112 chars
2025-05-30 21:22:37,784 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 21:22:37,785 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 21:22:37,785 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 21:22:38,416 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 21:22:38,419 - __main__ - INFO - Chat response generated successfully - Length: 71 chars
2025-05-30 21:22:40,253 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 21:22:40,253 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 21:22:40,253 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 21:22:41,793 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 21:22:41,795 - __main__ - INFO - Chat response generated successfully - Length: 280 chars
2025-05-30 21:22:44,814 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 21:22:44,815 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 21:22:44,815 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 21:22:45,692 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 21:22:45,693 - __main__ - INFO - Chat response generated successfully - Length: 120 chars
2025-05-30 21:22:53,276 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 21:22:53,276 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 21:22:53,276 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 21:22:56,787 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 21:22:56,789 - __main__ - INFO - Chat response generated successfully - Length: 349 chars
2025-05-30 21:23:10,213 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 21:23:10,213 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 21:23:10,213 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 21:23:13,590 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 21:23:13,593 - __main__ - INFO - Chat response generated successfully - Length: 671 chars
2025-05-30 21:26:40,501 - __main__ - INFO - Azure OpenAI client initialized successfully
2025-05-30 21:26:42,076 - __main__ - INFO - health check
2025-05-30 21:26:43,126 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 21:26:43,126 - __main__ - INFO - 🎯 DEBUG: Final phase: collection
2025-05-30 21:26:43,126 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 21:26:43,126 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 21:26:46,309 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 21:26:46,315 - __main__ - INFO - Chat response generated successfully - Length: 443 chars
2025-05-30 21:26:52,379 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 21:26:52,380 - __main__ - INFO - 🎯 DEBUG: Final phase: collection
2025-05-30 21:26:52,380 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 21:26:52,380 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 21:26:53,601 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 21:26:53,604 - __main__ - INFO - Chat response generated successfully - Length: 111 chars
2025-05-30 21:26:57,039 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 21:26:57,039 - __main__ - INFO - 🎯 DEBUG: Final phase: collection
2025-05-30 21:26:57,039 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 21:26:57,040 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 21:26:57,644 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 21:26:57,644 - __main__ - INFO - Chat response generated successfully - Length: 74 chars
2025-05-30 21:26:59,620 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 21:26:59,620 - __main__ - INFO - 🎯 DEBUG: Final phase: collection
2025-05-30 21:26:59,620 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 21:26:59,620 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 21:27:00,204 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 21:27:00,205 - __main__ - INFO - Chat response generated successfully - Length: 73 chars
2025-05-30 21:27:01,582 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 21:27:01,582 - __main__ - INFO - 🎯 DEBUG: Final phase: collection
2025-05-30 21:27:01,583 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 21:27:01,583 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 21:27:02,258 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 21:27:02,259 - __main__ - INFO - Chat response generated successfully - Length: 94 chars
2025-05-30 21:27:05,409 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 21:27:05,409 - __main__ - INFO - 🎯 DEBUG: Final phase: collection
2025-05-30 21:27:05,410 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 21:27:05,410 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 21:27:06,211 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 21:27:06,212 - __main__ - INFO - Chat response generated successfully - Length: 104 chars
2025-05-30 21:27:07,783 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 21:27:07,783 - __main__ - INFO - 🎯 DEBUG: Final phase: collection
2025-05-30 21:27:07,783 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 21:27:07,783 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 21:27:08,447 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 21:27:08,450 - __main__ - INFO - Chat response generated successfully - Length: 92 chars
2025-05-30 21:27:10,468 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 21:27:10,469 - __main__ - INFO - 🎯 DEBUG: Final phase: collection
2025-05-30 21:27:10,469 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 21:27:10,469 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 21:27:12,160 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 21:27:12,161 - __main__ - INFO - Chat response generated successfully - Length: 274 chars
2025-05-30 21:27:16,065 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 21:27:16,066 - __main__ - INFO - 🎯 DEBUG: Final phase: collection
2025-05-30 21:27:16,066 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 21:27:16,066 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 21:27:16,856 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 21:27:16,857 - __main__ - INFO - Chat response generated successfully - Length: 139 chars
2025-05-30 21:30:43,648 - __main__ - INFO - Azure OpenAI client initialized successfully
2025-05-30 21:30:45,147 - __main__ - INFO - health check
2025-05-30 21:30:46,194 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 21:30:46,194 - __main__ - INFO - 📝 DEBUG: User message: 'בואו נתחיל באיסוף המידע'
2025-05-30 21:30:46,194 - __main__ - INFO - Messege from user: בואו נתחיל באיסוף המידע
2025-05-30 21:30:46,194 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 21:30:46,194 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 21:30:46,194 - __main__ - INFO - 🎯 DEBUG: Final phase: collection
2025-05-30 21:30:46,194 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 21:30:46,194 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 21:30:49,530 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 21:30:49,531 - __main__ - INFO - Chat response generated successfully - Length: 424 chars
2025-05-30 21:30:55,303 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 21:30:55,303 - __main__ - INFO - 📝 DEBUG: User message: 'אור מאירי'
2025-05-30 21:30:55,304 - __main__ - INFO - Messege from user: אור מאירי
2025-05-30 21:30:55,304 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 21:30:55,304 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 21:30:55,304 - __main__ - INFO - 🎯 DEBUG: Final phase: collection
2025-05-30 21:30:55,304 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 21:30:55,305 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 21:30:56,802 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 21:30:56,804 - __main__ - INFO - Chat response generated successfully - Length: 107 chars
2025-05-30 21:31:00,425 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 21:31:00,425 - __main__ - INFO - 📝 DEBUG: User message: '123456789'
2025-05-30 21:31:00,425 - __main__ - INFO - Messege from user: 123456789
2025-05-30 21:31:00,425 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 21:31:00,425 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 21:31:00,425 - __main__ - INFO - 🎯 DEBUG: Final phase: collection
2025-05-30 21:31:00,425 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 21:31:00,425 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 21:31:02,740 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 21:31:02,741 - __main__ - INFO - Chat response generated successfully - Length: 108 chars
2025-05-30 21:31:05,335 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 21:31:05,335 - __main__ - INFO - 📝 DEBUG: User message: 'זכר'
2025-05-30 21:31:05,335 - __main__ - INFO - Messege from user: זכר
2025-05-30 21:31:05,335 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 21:31:05,335 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 21:31:05,335 - __main__ - INFO - 🎯 DEBUG: Final phase: collection
2025-05-30 21:31:05,335 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 21:31:05,335 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 21:31:06,530 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 21:31:06,532 - __main__ - INFO - Chat response generated successfully - Length: 79 chars
2025-05-30 21:31:09,941 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 21:31:09,941 - __main__ - INFO - 📝 DEBUG: User message: '2'
2025-05-30 21:31:09,941 - __main__ - INFO - Messege from user: 2
2025-05-30 21:31:09,941 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 21:31:09,941 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 21:31:09,941 - __main__ - INFO - 🎯 DEBUG: Final phase: collection
2025-05-30 21:31:09,942 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 21:31:09,942 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 21:31:10,734 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 21:31:10,736 - __main__ - INFO - Chat response generated successfully - Length: 102 chars
2025-05-30 21:31:14,085 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 21:31:14,085 - __main__ - INFO - 📝 DEBUG: User message: 'כללית'
2025-05-30 21:31:14,085 - __main__ - INFO - Messege from user: כללית
2025-05-30 21:31:14,085 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 21:31:14,085 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 21:31:14,085 - __main__ - INFO - 🎯 DEBUG: Final phase: collection
2025-05-30 21:31:14,085 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 21:31:14,085 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 21:31:15,203 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 21:31:15,203 - __main__ - INFO - Chat response generated successfully - Length: 130 chars
2025-05-30 21:31:18,356 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 21:31:18,356 - __main__ - INFO - 📝 DEBUG: User message: '123456789'
2025-05-30 21:31:18,356 - __main__ - INFO - Messege from user: 123456789
2025-05-30 21:31:18,356 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 21:31:18,356 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 21:31:18,356 - __main__ - INFO - 🎯 DEBUG: Final phase: collection
2025-05-30 21:31:18,357 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 21:31:18,357 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 21:31:19,608 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 21:31:19,609 - __main__ - INFO - Chat response generated successfully - Length: 119 chars
2025-05-30 21:31:21,463 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 21:31:21,463 - __main__ - INFO - 📝 DEBUG: User message: 'זהב'
2025-05-30 21:31:21,464 - __main__ - INFO - Messege from user: זהב
2025-05-30 21:31:21,464 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 21:31:21,464 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 21:31:21,464 - __main__ - INFO - 🎯 DEBUG: Final phase: collection
2025-05-30 21:31:21,464 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 21:31:21,464 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 21:31:23,529 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 21:31:23,531 - __main__ - INFO - Chat response generated successfully - Length: 298 chars
2025-05-30 21:31:26,508 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 21:31:26,508 - __main__ - INFO - 📝 DEBUG: User message: 'נכון'
2025-05-30 21:31:26,508 - __main__ - INFO - Messege from user: נכון
2025-05-30 21:31:26,508 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: True
2025-05-30 21:31:26,508 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 21:32:30,700 - __main__ - INFO - Chat request received - Phase: qa, Language: hebrew
2025-05-30 21:32:30,701 - __main__ - INFO - 🎯 DEBUG: Final phase: qa
2025-05-30 21:32:30,701 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 21:32:30,701 - __main__ - INFO - Knowledge context length: 2092 chars
2025-05-30 21:32:34,801 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 21:32:34,805 - __main__ - INFO - Chat response generated successfully - Length: 450 chars
2025-05-30 21:35:28,971 - __main__ - INFO - Azure OpenAI client initialized successfully
2025-05-30 21:35:30,452 - __main__ - INFO - health check
2025-05-30 21:35:31,471 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 21:35:31,471 - __main__ - INFO - 📝 DEBUG: User message: 'בואו נתחיל באיסוף המידע'
2025-05-30 21:35:31,472 - __main__ - INFO - Messege from user: בואו נתחיל באיסוף המידע
2025-05-30 21:35:31,472 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 21:35:31,472 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 21:35:31,472 - __main__ - INFO - 🎯 DEBUG: Final phase: collection
2025-05-30 21:35:31,472 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 21:35:31,472 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 21:35:33,776 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 21:35:33,782 - __main__ - INFO - Chat response generated successfully - Length: 357 chars
2025-05-30 21:35:38,913 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 21:35:38,914 - __main__ - INFO - 📝 DEBUG: User message: 'אור מאירי'
2025-05-30 21:35:38,914 - __main__ - INFO - Messege from user: אור מאירי
2025-05-30 21:35:38,914 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 21:35:38,914 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 21:35:38,914 - __main__ - INFO - 🎯 DEBUG: Final phase: collection
2025-05-30 21:35:38,914 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 21:35:38,914 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 21:35:40,249 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 21:35:40,251 - __main__ - INFO - Chat response generated successfully - Length: 115 chars
2025-05-30 21:35:43,231 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 21:35:43,231 - __main__ - INFO - 📝 DEBUG: User message: '123456789'
2025-05-30 21:35:43,231 - __main__ - INFO - Messege from user: 123456789
2025-05-30 21:35:43,231 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 21:35:43,231 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 21:35:43,231 - __main__ - INFO - 🎯 DEBUG: Final phase: collection
2025-05-30 21:35:43,231 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 21:35:43,231 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 21:35:43,856 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 21:35:43,857 - __main__ - INFO - Chat response generated successfully - Length: 64 chars
2025-05-30 21:35:46,756 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 21:35:46,756 - __main__ - INFO - 📝 DEBUG: User message: 'זכר'
2025-05-30 21:35:46,757 - __main__ - INFO - Messege from user: זכר
2025-05-30 21:35:46,757 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 21:35:46,757 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 21:35:46,757 - __main__ - INFO - 🎯 DEBUG: Final phase: collection
2025-05-30 21:35:46,757 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 21:35:46,757 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 21:35:47,380 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 21:35:47,383 - __main__ - INFO - Chat response generated successfully - Length: 75 chars
2025-05-30 21:35:48,871 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 21:35:48,871 - __main__ - INFO - 📝 DEBUG: User message: '2'
2025-05-30 21:35:48,872 - __main__ - INFO - Messege from user: 2
2025-05-30 21:35:48,872 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 21:35:48,872 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 21:35:48,872 - __main__ - INFO - 🎯 DEBUG: Final phase: collection
2025-05-30 21:35:48,872 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 21:35:48,872 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 21:35:49,567 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 21:35:49,569 - __main__ - INFO - Chat response generated successfully - Length: 79 chars
2025-05-30 21:35:51,798 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 21:35:51,798 - __main__ - INFO - 📝 DEBUG: User message: 'כללית'
2025-05-30 21:35:51,798 - __main__ - INFO - Messege from user: כללית
2025-05-30 21:35:51,798 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 21:35:51,798 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 21:35:51,798 - __main__ - INFO - 🎯 DEBUG: Final phase: collection
2025-05-30 21:35:51,798 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 21:35:51,798 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 21:35:52,489 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 21:35:52,491 - __main__ - INFO - Chat response generated successfully - Length: 110 chars
2025-05-30 21:35:56,841 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 21:35:56,841 - __main__ - INFO - 📝 DEBUG: User message: '123456789'
2025-05-30 21:35:56,841 - __main__ - INFO - Messege from user: 123456789
2025-05-30 21:35:56,841 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 21:35:56,841 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 21:35:56,841 - __main__ - INFO - 🎯 DEBUG: Final phase: collection
2025-05-30 21:35:56,841 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 21:35:56,841 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 21:35:57,433 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 21:35:57,433 - __main__ - INFO - Chat response generated successfully - Length: 70 chars
2025-05-30 21:35:59,198 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 21:35:59,199 - __main__ - INFO - 📝 DEBUG: User message: 'זהב'
2025-05-30 21:35:59,199 - __main__ - INFO - Messege from user: זהב
2025-05-30 21:35:59,199 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 21:35:59,199 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 21:35:59,199 - __main__ - INFO - 🎯 DEBUG: Final phase: collection
2025-05-30 21:35:59,199 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 21:35:59,199 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 21:36:00,861 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 21:36:00,863 - __main__ - INFO - Chat response generated successfully - Length: 269 chars
2025-05-30 21:36:09,732 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 21:36:09,732 - __main__ - INFO - 📝 DEBUG: User message: 'הקופת חולים היא מכבי'
2025-05-30 21:36:09,732 - __main__ - INFO - Messege from user: הקופת חולים היא מכבי
2025-05-30 21:36:09,732 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 21:36:09,732 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 21:36:09,732 - __main__ - INFO - 🎯 DEBUG: Final phase: collection
2025-05-30 21:36:09,732 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 21:36:09,732 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 21:36:11,592 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 21:36:11,594 - __main__ - INFO - Chat response generated successfully - Length: 246 chars
2025-05-30 21:36:18,586 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 21:36:18,587 - __main__ - INFO - 📝 DEBUG: User message: 'כן'
2025-05-30 21:36:18,587 - __main__ - INFO - Messege from user: כן
2025-05-30 21:36:18,587 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: True
2025-05-30 21:36:18,587 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 21:36:26,229 - __main__ - INFO - Chat request received - Phase: qa, Language: hebrew
2025-05-30 21:36:26,230 - __main__ - INFO - 🎯 DEBUG: Final phase: qa
2025-05-30 21:36:26,230 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 21:36:26,230 - __main__ - INFO - Knowledge context length: 2092 chars
2025-05-30 21:36:29,309 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 21:36:29,311 - __main__ - INFO - Chat response generated successfully - Length: 492 chars
2025-05-30 21:46:08,290 - __main__ - INFO - Azure OpenAI client initialized successfully
2025-05-30 21:46:09,783 - __main__ - INFO - health check
2025-05-30 21:46:10,803 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 21:46:10,803 - __main__ - INFO - Updated user info: first_name='בואו' last_name='נתחיל באיסוף המידע' id_number=None gender=None age=None hmo_name=None hmo_card_number=None insurance_tier=None
2025-05-30 21:46:10,803 - __main__ - INFO - 📝 DEBUG: User message: 'בואו נתחיל באיסוף המידע'
2025-05-30 21:46:10,803 - __main__ - INFO - Messege from user: בואו נתחיל באיסוף המידע
2025-05-30 21:46:10,803 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 21:46:10,803 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 21:46:10,803 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 21:46:10,803 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 21:46:13,305 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 21:46:13,306 - __main__ - INFO - Chat response generated successfully - Length: 413 chars
2025-05-30 21:46:18,562 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 21:46:18,562 - __main__ - INFO - Updated user info: first_name='בואו' last_name='נתחיל באיסוף המידע' id_number=None gender=None age=None hmo_name=None hmo_card_number=None insurance_tier=None
2025-05-30 21:46:18,562 - __main__ - INFO - 📝 DEBUG: User message: 'אור מאירי'
2025-05-30 21:46:18,563 - __main__ - INFO - Messege from user: אור מאירי
2025-05-30 21:46:18,563 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 21:46:18,563 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 21:46:18,563 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 21:46:18,563 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 21:46:19,860 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 21:46:19,862 - __main__ - INFO - Chat response generated successfully - Length: 115 chars
2025-05-30 21:46:23,066 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 21:46:23,066 - __main__ - INFO - Updated user info: first_name='בואו' last_name='נתחיל באיסוף המידע' id_number='123456789' gender=None age=None hmo_name=None hmo_card_number=None insurance_tier=None
2025-05-30 21:46:23,066 - __main__ - INFO - 📝 DEBUG: User message: '123456789'
2025-05-30 21:46:23,066 - __main__ - INFO - Messege from user: 123456789
2025-05-30 21:46:23,066 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 21:46:23,066 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 21:46:23,066 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 21:46:23,066 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 21:46:23,674 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 21:46:23,675 - __main__ - INFO - Chat response generated successfully - Length: 65 chars
2025-05-30 21:46:25,522 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 21:46:25,522 - __main__ - INFO - Updated user info: first_name='בואו' last_name='נתחיל באיסוף המידע' id_number='123456789' gender='זכר' age=None hmo_name=None hmo_card_number=None insurance_tier=None
2025-05-30 21:46:25,522 - __main__ - INFO - 📝 DEBUG: User message: 'זכר'
2025-05-30 21:46:25,523 - __main__ - INFO - Messege from user: זכר
2025-05-30 21:46:25,523 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 21:46:25,523 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 21:46:25,523 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 21:46:25,523 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 21:46:26,208 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 21:46:26,210 - __main__ - INFO - Chat response generated successfully - Length: 72 chars
2025-05-30 21:46:27,812 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 21:46:27,812 - __main__ - INFO - Updated user info: first_name='בואו' last_name='נתחיל באיסוף המידע' id_number='123456789' gender='זכר' age=2 hmo_name=None hmo_card_number=None insurance_tier=None
2025-05-30 21:46:27,813 - __main__ - INFO - 📝 DEBUG: User message: '2'
2025-05-30 21:46:27,813 - __main__ - INFO - Messege from user: 2
2025-05-30 21:46:27,813 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 21:46:27,813 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 21:46:27,813 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 21:46:27,813 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 21:46:28,666 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 21:46:28,668 - __main__ - INFO - Chat response generated successfully - Length: 77 chars
2025-05-30 21:46:30,832 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 21:46:30,833 - __main__ - INFO - Updated user info: first_name='בואו' last_name='נתחיל באיסוף המידע' id_number='123456789' gender='זכר' age=2 hmo_name='כללית' hmo_card_number=None insurance_tier=None
2025-05-30 21:46:30,833 - __main__ - INFO - 📝 DEBUG: User message: 'כללית'
2025-05-30 21:46:30,833 - __main__ - INFO - Messege from user: כללית
2025-05-30 21:46:30,833 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 21:46:30,833 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 21:46:30,833 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 21:46:30,833 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 21:46:31,739 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 21:46:31,741 - __main__ - INFO - Chat response generated successfully - Length: 112 chars
2025-05-30 21:46:32,542 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 21:46:32,543 - __main__ - INFO - Updated user info: first_name='בואו' last_name='נתחיל באיסוף המידע' id_number='123456789' gender='זכר' age=2 hmo_name='כללית' hmo_card_number=None insurance_tier=None
2025-05-30 21:46:32,543 - __main__ - INFO - 📝 DEBUG: User message: '123456789'
2025-05-30 21:46:32,543 - __main__ - INFO - Messege from user: 123456789
2025-05-30 21:46:32,543 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 21:46:32,543 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 21:46:32,543 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 21:46:32,543 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 21:46:33,172 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 21:46:33,175 - __main__ - INFO - Chat response generated successfully - Length: 71 chars
2025-05-30 21:46:34,958 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 21:46:34,958 - __main__ - INFO - Updated user info: first_name='בואו' last_name='נתחיל באיסוף המידע' id_number='123456789' gender='זכר' age=2 hmo_name='כללית' hmo_card_number=None insurance_tier='זהב'
2025-05-30 21:46:34,959 - __main__ - INFO - 📝 DEBUG: User message: 'זהב'
2025-05-30 21:46:34,959 - __main__ - INFO - Messege from user: זהב
2025-05-30 21:46:34,959 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 21:46:34,959 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 21:46:34,959 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 21:46:34,959 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 21:46:36,550 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 21:46:36,551 - __main__ - INFO - Chat response generated successfully - Length: 274 chars
2025-05-30 21:46:40,345 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 21:46:40,346 - __main__ - INFO - Updated user info: first_name='בואו' last_name='נתחיל באיסוף המידע' id_number='123456789' gender='זכר' age=2 hmo_name='כללית' hmo_card_number=None insurance_tier='זהב'
2025-05-30 21:46:40,346 - __main__ - INFO - 📝 DEBUG: User message: 'נכון'
2025-05-30 21:46:40,346 - __main__ - INFO - Messege from user: נכון
2025-05-30 21:46:40,346 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: True
2025-05-30 21:46:40,346 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 21:46:51,955 - __main__ - INFO - Chat request received - Phase: qa, Language: hebrew
2025-05-30 21:46:51,955 - __main__ - INFO - Updated user info: first_name='בואו' last_name='נתחיל באיסוף המידע' id_number='123456789' gender='זכר' age=2 hmo_name='כללית' hmo_card_number=None insurance_tier='זהב'
2025-05-30 21:46:51,955 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 21:46:51,955 - __main__ - INFO - Knowledge context length: 685 chars
2025-05-30 21:46:55,533 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 21:46:55,534 - __main__ - INFO - Chat response generated successfully - Length: 492 chars
2025-05-30 21:47:08,988 - __main__ - INFO - Chat request received - Phase: qa, Language: hebrew
2025-05-30 21:47:08,988 - __main__ - INFO - Updated user info: first_name='בואו' last_name='נתחיל באיסוף המידע' id_number='123456789' gender='זכר' age=2 hmo_name='כללית' hmo_card_number=None insurance_tier='זהב'
2025-05-30 21:47:08,988 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 21:47:08,988 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 21:47:09,907 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 21:47:09,909 - __main__ - INFO - Chat response generated successfully - Length: 31 chars
2025-05-30 21:50:34,354 - __main__ - INFO - Azure OpenAI client initialized successfully
2025-05-30 21:50:35,850 - __main__ - INFO - health check
2025-05-30 21:50:36,897 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 21:50:36,897 - __main__ - INFO - message_lower: בואו נתחיל באיסוף המידע
2025-05-30 21:50:36,897 - __main__ - INFO - Updated user info: first_name='בואו' last_name='נתחיל באיסוף המידע' id_number=None gender=None age=None hmo_name=None hmo_card_number=None insurance_tier=None
2025-05-30 21:50:36,897 - __main__ - INFO - 📝 DEBUG: User message: 'בואו נתחיל באיסוף המידע'
2025-05-30 21:50:36,897 - __main__ - INFO - Messege from user: בואו נתחיל באיסוף המידע
2025-05-30 21:50:36,897 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 21:50:36,897 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 21:50:36,897 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 21:50:36,898 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 21:50:39,417 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 21:50:39,423 - __main__ - INFO - Chat response generated successfully - Length: 422 chars
2025-05-30 21:50:43,674 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 21:50:43,674 - __main__ - INFO - message_lower: אור מאירי
2025-05-30 21:50:43,674 - __main__ - INFO - Updated user info: first_name='בואו' last_name='נתחיל באיסוף המידע' id_number=None gender=None age=None hmo_name=None hmo_card_number=None insurance_tier=None
2025-05-30 21:50:43,674 - __main__ - INFO - 📝 DEBUG: User message: 'אור מאירי'
2025-05-30 21:50:43,674 - __main__ - INFO - Messege from user: אור מאירי
2025-05-30 21:50:43,674 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 21:50:43,675 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 21:50:43,675 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 21:50:43,675 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 21:50:44,569 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 21:50:44,572 - __main__ - INFO - Chat response generated successfully - Length: 142 chars
2025-05-30 21:50:48,328 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 21:50:48,328 - __main__ - INFO - message_lower: 123456789
2025-05-30 21:50:48,329 - __main__ - INFO - Updated user info: first_name='בואו' last_name='נתחיל באיסוף המידע' id_number='123456789' gender=None age=None hmo_name=None hmo_card_number=None insurance_tier=None
2025-05-30 21:50:48,329 - __main__ - INFO - 📝 DEBUG: User message: '123456789'
2025-05-30 21:50:48,329 - __main__ - INFO - Messege from user: 123456789
2025-05-30 21:50:48,329 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 21:50:48,329 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 21:50:48,329 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 21:50:48,329 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 21:50:48,910 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 21:50:48,912 - __main__ - INFO - Chat response generated successfully - Length: 74 chars
2025-05-30 21:50:50,941 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 21:50:50,941 - __main__ - INFO - message_lower: זכר
2025-05-30 21:50:50,941 - __main__ - INFO - Updated user info: first_name='בואו' last_name='נתחיל באיסוף המידע' id_number='123456789' gender='זכר' age=None hmo_name=None hmo_card_number=None insurance_tier=None
2025-05-30 21:50:50,941 - __main__ - INFO - 📝 DEBUG: User message: 'זכר'
2025-05-30 21:50:50,941 - __main__ - INFO - Messege from user: זכר
2025-05-30 21:50:50,941 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 21:50:50,941 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 21:50:50,941 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 21:50:50,941 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 21:50:51,508 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 21:50:51,508 - __main__ - INFO - Chat response generated successfully - Length: 67 chars
2025-05-30 21:50:52,745 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 21:50:52,745 - __main__ - INFO - message_lower: 2
2025-05-30 21:50:52,745 - __main__ - INFO - Updated user info: first_name='בואו' last_name='נתחיל באיסוף המידע' id_number='123456789' gender='זכר' age=2 hmo_name=None hmo_card_number=None insurance_tier=None
2025-05-30 21:50:52,745 - __main__ - INFO - 📝 DEBUG: User message: '2'
2025-05-30 21:50:52,745 - __main__ - INFO - Messege from user: 2
2025-05-30 21:50:52,745 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 21:50:52,745 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 21:50:52,745 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 21:50:52,745 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 21:50:53,587 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 21:50:53,587 - __main__ - INFO - Chat response generated successfully - Length: 132 chars
2025-05-30 21:50:56,966 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 21:50:56,966 - __main__ - INFO - message_lower: כללית
2025-05-30 21:50:56,966 - __main__ - INFO - Updated user info: first_name='בואו' last_name='נתחיל באיסוף המידע' id_number='123456789' gender='זכר' age=2 hmo_name='כללית' hmo_card_number=None insurance_tier=None
2025-05-30 21:50:56,966 - __main__ - INFO - 📝 DEBUG: User message: 'כללית'
2025-05-30 21:50:56,967 - __main__ - INFO - Messege from user: כללית
2025-05-30 21:50:56,967 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 21:50:56,967 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 21:50:56,967 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 21:50:56,967 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 21:50:57,707 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 21:50:57,710 - __main__ - INFO - Chat response generated successfully - Length: 104 chars
2025-05-30 21:50:59,960 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 21:50:59,960 - __main__ - INFO - message_lower: 123456789
2025-05-30 21:50:59,960 - __main__ - INFO - Updated user info: first_name='בואו' last_name='נתחיל באיסוף המידע' id_number='123456789' gender='זכר' age=2 hmo_name='כללית' hmo_card_number=None insurance_tier=None
2025-05-30 21:50:59,960 - __main__ - INFO - 📝 DEBUG: User message: '123456789'
2025-05-30 21:50:59,960 - __main__ - INFO - Messege from user: 123456789
2025-05-30 21:50:59,960 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 21:50:59,960 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 21:50:59,961 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 21:50:59,961 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 21:51:00,684 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 21:51:00,684 - __main__ - INFO - Chat response generated successfully - Length: 133 chars
2025-05-30 21:51:03,959 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 21:51:03,959 - __main__ - INFO - message_lower: כסף
2025-05-30 21:51:03,959 - __main__ - INFO - Updated user info: first_name='בואו' last_name='נתחיל באיסוף המידע' id_number='123456789' gender='זכר' age=2 hmo_name='כללית' hmo_card_number=None insurance_tier='כסף'
2025-05-30 21:51:03,959 - __main__ - INFO - 📝 DEBUG: User message: 'כסף'
2025-05-30 21:51:03,959 - __main__ - INFO - Messege from user: כסף
2025-05-30 21:51:03,959 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 21:51:03,959 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 21:51:03,959 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 21:51:03,960 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 21:51:05,498 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 21:51:05,500 - __main__ - INFO - Chat response generated successfully - Length: 279 chars
2025-05-30 21:51:07,151 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 21:51:07,152 - __main__ - INFO - message_lower: נכון
2025-05-30 21:51:07,152 - __main__ - INFO - Updated user info: first_name='בואו' last_name='נתחיל באיסוף המידע' id_number='123456789' gender='זכר' age=2 hmo_name='כללית' hmo_card_number=None insurance_tier='כסף'
2025-05-30 21:51:07,152 - __main__ - INFO - 📝 DEBUG: User message: 'נכון'
2025-05-30 21:51:07,152 - __main__ - INFO - Messege from user: נכון
2025-05-30 21:51:07,152 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: True
2025-05-30 21:51:07,152 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 21:51:12,701 - __main__ - INFO - Chat request received - Phase: qa, Language: hebrew
2025-05-30 21:51:12,702 - __main__ - INFO - Updated user info: first_name='בואו' last_name='נתחיל באיסוף המידע' id_number='123456789' gender='זכר' age=2 hmo_name='כללית' hmo_card_number=None insurance_tier='כסף'
2025-05-30 21:51:12,702 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 21:51:12,702 - __main__ - INFO - Knowledge context length: 573 chars
2025-05-30 21:51:14,910 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 21:51:14,911 - __main__ - INFO - Chat response generated successfully - Length: 331 chars
2025-05-30 21:59:25,523 - __main__ - INFO - Azure OpenAI client initialized successfully
2025-05-30 21:59:27,020 - __main__ - INFO - health check
2025-05-30 21:59:28,068 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 21:59:28,068 - __main__ - INFO - message_lower: בואו נתחיל באיסוף המידע
2025-05-30 21:59:28,068 - __main__ - INFO - Skipping extraction - message appears to be from assistant: בואו נתחיל באיסוף המידע
2025-05-30 21:59:28,068 - __main__ - INFO - Updated user info: first_name=None last_name=None id_number=None gender=None age=None hmo_name=None hmo_card_number=None insurance_tier=None
2025-05-30 21:59:28,068 - __main__ - INFO - 📝 DEBUG: User message: 'בואו נתחיל באיסוף המידע'
2025-05-30 21:59:28,068 - __main__ - INFO - Messege from user: בואו נתחיל באיסוף המידע
2025-05-30 21:59:28,068 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 21:59:28,068 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 21:59:28,069 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 21:59:28,069 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 21:59:31,330 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 21:59:31,335 - __main__ - INFO - Chat response generated successfully - Length: 438 chars
2025-05-30 21:59:35,260 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 21:59:35,260 - __main__ - INFO - message_lower: אור מאירי
2025-05-30 21:59:35,260 - __main__ - INFO - Extracted full name: אור מאירי
2025-05-30 21:59:35,260 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number=None gender=None age=None hmo_name=None hmo_card_number=None insurance_tier=None
2025-05-30 21:59:35,260 - __main__ - INFO - 📝 DEBUG: User message: 'אור מאירי'
2025-05-30 21:59:35,260 - __main__ - INFO - Messege from user: אור מאירי
2025-05-30 21:59:35,260 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 21:59:35,260 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 21:59:35,260 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 21:59:35,260 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 21:59:36,275 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 21:59:36,275 - __main__ - INFO - Chat response generated successfully - Length: 114 chars
2025-05-30 21:59:39,970 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 21:59:39,970 - __main__ - INFO - message_lower: 123456789
2025-05-30 21:59:39,971 - __main__ - INFO - Extracted ID number: 123456789
2025-05-30 21:59:39,971 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number='123456789' gender=None age=None hmo_name=None hmo_card_number=None insurance_tier=None
2025-05-30 21:59:39,971 - __main__ - INFO - 📝 DEBUG: User message: '123456789'
2025-05-30 21:59:39,971 - __main__ - INFO - Messege from user: 123456789
2025-05-30 21:59:39,971 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 21:59:39,971 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 21:59:39,971 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 21:59:39,971 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 21:59:40,884 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 21:59:40,884 - __main__ - INFO - Chat response generated successfully - Length: 92 chars
2025-05-30 21:59:42,582 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 21:59:42,582 - __main__ - INFO - message_lower: זכר
2025-05-30 21:59:42,582 - __main__ - INFO - Extracted gender: זכר
2025-05-30 21:59:42,582 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number='123456789' gender='זכר' age=None hmo_name=None hmo_card_number=None insurance_tier=None
2025-05-30 21:59:42,582 - __main__ - INFO - 📝 DEBUG: User message: 'זכר'
2025-05-30 21:59:42,582 - __main__ - INFO - Messege from user: זכר
2025-05-30 21:59:42,582 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 21:59:42,582 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 21:59:42,582 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 21:59:42,582 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 21:59:43,443 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 21:59:43,444 - __main__ - INFO - Chat response generated successfully - Length: 83 chars
2025-05-30 21:59:44,698 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 21:59:44,698 - __main__ - INFO - message_lower: 2
2025-05-30 21:59:44,698 - __main__ - INFO - Extracted age: 2
2025-05-30 21:59:44,698 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number='123456789' gender='זכר' age=2 hmo_name=None hmo_card_number=None insurance_tier=None
2025-05-30 21:59:44,698 - __main__ - INFO - 📝 DEBUG: User message: '2'
2025-05-30 21:59:44,698 - __main__ - INFO - Messege from user: 2
2025-05-30 21:59:44,698 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 21:59:44,698 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 21:59:44,698 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 21:59:44,698 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 21:59:45,797 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 21:59:45,798 - __main__ - INFO - Chat response generated successfully - Length: 87 chars
2025-05-30 21:59:48,598 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 21:59:48,598 - __main__ - INFO - message_lower: כללית
2025-05-30 21:59:48,598 - __main__ - INFO - Extracted HMO: כללית
2025-05-30 21:59:48,598 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number='123456789' gender='זכר' age=2 hmo_name='כללית' hmo_card_number=None insurance_tier=None
2025-05-30 21:59:48,598 - __main__ - INFO - 📝 DEBUG: User message: 'כללית'
2025-05-30 21:59:48,598 - __main__ - INFO - Messege from user: כללית
2025-05-30 21:59:48,599 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 21:59:48,599 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 21:59:48,599 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 21:59:48,599 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 21:59:49,863 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 21:59:49,865 - __main__ - INFO - Chat response generated successfully - Length: 128 chars
2025-05-30 21:59:50,939 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 21:59:50,939 - __main__ - INFO - message_lower: 123456789
2025-05-30 21:59:50,939 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number='123456789' gender='זכר' age=2 hmo_name='כללית' hmo_card_number=None insurance_tier=None
2025-05-30 21:59:50,939 - __main__ - INFO - 📝 DEBUG: User message: '123456789'
2025-05-30 21:59:50,939 - __main__ - INFO - Messege from user: 123456789
2025-05-30 21:59:50,939 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 21:59:50,939 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 21:59:50,939 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 21:59:50,939 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 21:59:51,808 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 21:59:51,810 - __main__ - INFO - Chat response generated successfully - Length: 108 chars
2025-05-30 21:59:53,925 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 21:59:53,925 - __main__ - INFO - message_lower: כסף
2025-05-30 21:59:53,925 - __main__ - INFO - Extracted insurance tier: כסף
2025-05-30 21:59:53,925 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number='123456789' gender='זכר' age=2 hmo_name='כללית' hmo_card_number=None insurance_tier='כסף'
2025-05-30 21:59:53,925 - __main__ - INFO - 📝 DEBUG: User message: 'כסף'
2025-05-30 21:59:53,925 - __main__ - INFO - Messege from user: כסף
2025-05-30 21:59:53,925 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 21:59:53,925 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 21:59:53,925 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 21:59:53,925 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 21:59:56,347 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 21:59:56,349 - __main__ - INFO - Chat response generated successfully - Length: 296 chars
2025-05-30 21:59:57,796 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 21:59:57,797 - __main__ - INFO - message_lower: נכון
2025-05-30 21:59:57,797 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number='123456789' gender='זכר' age=2 hmo_name='כללית' hmo_card_number=None insurance_tier='כסף'
2025-05-30 21:59:57,797 - __main__ - INFO - 📝 DEBUG: User message: 'נכון'
2025-05-30 21:59:57,797 - __main__ - INFO - Messege from user: נכון
2025-05-30 21:59:57,797 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: True
2025-05-30 21:59:57,797 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 22:00:02,775 - __main__ - INFO - Chat request received - Phase: qa, Language: hebrew
2025-05-30 22:00:02,775 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number='123456789' gender='זכר' age=2 hmo_name='כללית' hmo_card_number=None insurance_tier='כסף'
2025-05-30 22:00:02,775 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 22:00:02,775 - __main__ - INFO - Knowledge context length: 573 chars
2025-05-30 22:00:06,179 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 22:00:06,181 - __main__ - INFO - Chat response generated successfully - Length: 335 chars
2025-05-30 22:00:51,226 - __main__ - INFO - Chat request received - Phase: qa, Language: hebrew
2025-05-30 22:00:51,226 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number='123456789' gender='זכר' age=2 hmo_name='כללית' hmo_card_number=None insurance_tier='כסף'
2025-05-30 22:00:51,226 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 22:00:51,226 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 22:00:52,464 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 22:00:52,467 - __main__ - INFO - Chat response generated successfully - Length: 31 chars
2025-05-30 22:07:58,480 - __main__ - INFO - Azure OpenAI client initialized successfully
2025-05-30 22:07:59,997 - __main__ - INFO - health check
2025-05-30 22:08:01,048 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 22:08:01,049 - __main__ - INFO - message_lower: בואו נתחיל באיסוף המידע
2025-05-30 22:08:01,049 - __main__ - INFO - Skipping extraction - message appears to be from assistant: בואו נתחיל באיסוף המידע
2025-05-30 22:08:01,049 - __main__ - INFO - Updated user info: first_name=None last_name=None id_number=None gender=None age=None hmo_name=None hmo_card_number=None insurance_tier=None
2025-05-30 22:08:01,049 - __main__ - INFO - 📝 DEBUG: User message: 'בואו נתחיל באיסוף המידע'
2025-05-30 22:08:01,049 - __main__ - INFO - Messege from user: בואו נתחיל באיסוף המידע
2025-05-30 22:08:01,049 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 22:08:01,049 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 22:08:01,049 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 22:08:01,049 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 22:08:03,888 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 22:08:03,894 - __main__ - INFO - Chat response generated successfully - Length: 446 chars
2025-05-30 22:08:09,995 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 22:08:09,995 - __main__ - INFO - message_lower: אור מאירי
2025-05-30 22:08:09,995 - __main__ - INFO - Extracted full name: אור מאירי
2025-05-30 22:08:09,995 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number=None gender=None age=None hmo_name=None hmo_card_number=None insurance_tier=None
2025-05-30 22:08:09,995 - __main__ - INFO - 📝 DEBUG: User message: 'אור מאירי'
2025-05-30 22:08:09,995 - __main__ - INFO - Messege from user: אור מאירי
2025-05-30 22:08:09,995 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 22:08:09,995 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 22:08:09,995 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 22:08:09,995 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 22:08:11,359 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 22:08:11,361 - __main__ - INFO - Chat response generated successfully - Length: 105 chars
2025-05-30 22:08:14,252 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 22:08:14,253 - __main__ - INFO - message_lower: 123456789
2025-05-30 22:08:14,253 - __main__ - INFO - Extracted ID number: 123456789
2025-05-30 22:08:14,253 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number='123456789' gender=None age=None hmo_name=None hmo_card_number=None insurance_tier=None
2025-05-30 22:08:14,253 - __main__ - INFO - 📝 DEBUG: User message: '123456789'
2025-05-30 22:08:14,253 - __main__ - INFO - Messege from user: 123456789
2025-05-30 22:08:14,253 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 22:08:14,253 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 22:08:14,253 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 22:08:14,253 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 22:08:15,218 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 22:08:15,220 - __main__ - INFO - Chat response generated successfully - Length: 93 chars
2025-05-30 22:08:16,757 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 22:08:16,757 - __main__ - INFO - message_lower: זכר
2025-05-30 22:08:16,757 - __main__ - INFO - Extracted gender: זכר
2025-05-30 22:08:16,757 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number='123456789' gender='זכר' age=None hmo_name=None hmo_card_number=None insurance_tier=None
2025-05-30 22:08:16,758 - __main__ - INFO - 📝 DEBUG: User message: 'זכר'
2025-05-30 22:08:16,758 - __main__ - INFO - Messege from user: זכר
2025-05-30 22:08:16,758 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 22:08:16,758 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 22:08:16,758 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 22:08:16,758 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 22:08:17,606 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 22:08:17,607 - __main__ - INFO - Chat response generated successfully - Length: 80 chars
2025-05-30 22:08:19,934 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 22:08:19,934 - __main__ - INFO - message_lower: 2
2025-05-30 22:08:19,934 - __main__ - INFO - Extracted age: 2
2025-05-30 22:08:19,934 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number='123456789' gender='זכר' age=2 hmo_name=None hmo_card_number=None insurance_tier=None
2025-05-30 22:08:19,934 - __main__ - INFO - 📝 DEBUG: User message: '2'
2025-05-30 22:08:19,934 - __main__ - INFO - Messege from user: 2
2025-05-30 22:08:19,934 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 22:08:19,934 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 22:08:19,934 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 22:08:19,934 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 22:08:22,789 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 22:08:22,791 - __main__ - INFO - Chat response generated successfully - Length: 84 chars
2025-05-30 22:08:25,669 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 22:08:25,669 - __main__ - INFO - message_lower: כללית
2025-05-30 22:08:25,669 - __main__ - INFO - Extracted HMO: כללית
2025-05-30 22:08:25,670 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number='123456789' gender='זכר' age=2 hmo_name='כללית' hmo_card_number=None insurance_tier=None
2025-05-30 22:08:25,670 - __main__ - INFO - 📝 DEBUG: User message: 'כללית'
2025-05-30 22:08:25,670 - __main__ - INFO - Messege from user: כללית
2025-05-30 22:08:25,670 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 22:08:25,670 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 22:08:25,670 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 22:08:25,670 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 22:08:26,370 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 22:08:26,372 - __main__ - INFO - Chat response generated successfully - Length: 129 chars
2025-05-30 22:08:28,323 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 22:08:28,324 - __main__ - INFO - message_lower: 123456789
2025-05-30 22:08:28,324 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number='123456789' gender='זכר' age=2 hmo_name='כללית' hmo_card_number=None insurance_tier=None
2025-05-30 22:08:28,324 - __main__ - INFO - 📝 DEBUG: User message: '123456789'
2025-05-30 22:08:28,324 - __main__ - INFO - Messege from user: 123456789
2025-05-30 22:08:28,324 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 22:08:28,324 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 22:08:28,324 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 22:08:28,325 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 22:08:29,263 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 22:08:29,265 - __main__ - INFO - Chat response generated successfully - Length: 105 chars
2025-05-30 22:08:31,342 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 22:08:31,342 - __main__ - INFO - message_lower: זהב
2025-05-30 22:08:31,342 - __main__ - INFO - Extracted insurance tier: זהב
2025-05-30 22:08:31,342 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number='123456789' gender='זכר' age=2 hmo_name='כללית' hmo_card_number=None insurance_tier='זהב'
2025-05-30 22:08:31,342 - __main__ - INFO - 📝 DEBUG: User message: 'זהב'
2025-05-30 22:08:31,342 - __main__ - INFO - Messege from user: זהב
2025-05-30 22:08:31,342 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 22:08:31,342 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 22:08:31,342 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 22:08:31,342 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 22:08:32,788 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 22:08:32,788 - __main__ - INFO - Chat response generated successfully - Length: 283 chars
2025-05-30 22:08:36,572 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 22:08:36,573 - __main__ - INFO - message_lower: נכון
2025-05-30 22:08:36,573 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number='123456789' gender='זכר' age=2 hmo_name='כללית' hmo_card_number=None insurance_tier='זהב'
2025-05-30 22:08:36,573 - __main__ - INFO - 📝 DEBUG: User message: 'נכון'
2025-05-30 22:08:36,573 - __main__ - INFO - Messege from user: נכון
2025-05-30 22:08:36,573 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: True
2025-05-30 22:08:36,573 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 22:08:45,396 - __main__ - INFO - Chat request received - Phase: qa, Language: hebrew
2025-05-30 22:08:45,397 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number='123456789' gender='זכר' age=2 hmo_name='כללית' hmo_card_number=None insurance_tier='זהב'
2025-05-30 22:08:45,397 - __main__ - ERROR - Error in chat endpoint: name 'identify_relevant_services' is not defined
2025-05-30 22:11:15,488 - __main__ - INFO - Azure OpenAI client initialized successfully
2025-05-30 22:11:17,007 - __main__ - INFO - health check
2025-05-30 22:11:18,057 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 22:11:18,057 - __main__ - INFO - message_lower: בואו נתחיל באיסוף המידע
2025-05-30 22:11:18,058 - __main__ - INFO - Skipping extraction - message appears to be from assistant: בואו נתחיל באיסוף המידע
2025-05-30 22:11:18,058 - __main__ - INFO - Updated user info: first_name=None last_name=None id_number=None gender=None age=None hmo_name=None hmo_card_number=None insurance_tier=None
2025-05-30 22:11:18,058 - __main__ - INFO - 📝 DEBUG: User message: 'בואו נתחיל באיסוף המידע'
2025-05-30 22:11:18,058 - __main__ - INFO - Messege from user: בואו נתחיל באיסוף המידע
2025-05-30 22:11:18,058 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 22:11:18,058 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 22:11:18,058 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 22:11:18,058 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 22:11:20,675 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 22:11:20,681 - __main__ - INFO - Chat response generated successfully - Length: 355 chars
2025-05-30 22:11:30,167 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 22:11:30,167 - __main__ - INFO - message_lower: ahr
2025-05-30 22:11:30,167 - __main__ - INFO - Extracted first name: ahr
2025-05-30 22:11:30,168 - __main__ - INFO - Updated user info: first_name='ahr' last_name=None id_number=None gender=None age=None hmo_name=None hmo_card_number=None insurance_tier=None
2025-05-30 22:11:30,168 - __main__ - INFO - 📝 DEBUG: User message: 'ahr'
2025-05-30 22:11:30,168 - __main__ - INFO - Messege from user: ahr
2025-05-30 22:11:30,168 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 22:11:30,168 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 22:11:30,168 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 22:11:30,168 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 22:11:31,384 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 22:11:31,386 - __main__ - INFO - Chat response generated successfully - Length: 92 chars
2025-05-30 22:11:37,985 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 22:11:37,986 - __main__ - INFO - message_lower: בואו נתחיל באיסוף המידע
2025-05-30 22:11:37,986 - __main__ - INFO - Skipping extraction - message appears to be from assistant: בואו נתחיל באיסוף המידע
2025-05-30 22:11:37,986 - __main__ - INFO - Updated user info: first_name=None last_name=None id_number=None gender=None age=None hmo_name=None hmo_card_number=None insurance_tier=None
2025-05-30 22:11:37,986 - __main__ - INFO - 📝 DEBUG: User message: 'בואו נתחיל באיסוף המידע'
2025-05-30 22:11:37,986 - __main__ - INFO - Messege from user: בואו נתחיל באיסוף המידע
2025-05-30 22:11:37,986 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 22:11:37,986 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 22:11:37,986 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 22:11:37,986 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 22:11:40,237 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 22:11:40,240 - __main__ - INFO - Chat response generated successfully - Length: 407 chars
2025-05-30 22:11:43,491 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 22:11:43,492 - __main__ - INFO - message_lower: שיר
2025-05-30 22:11:43,492 - __main__ - INFO - Extracted first name: שיר
2025-05-30 22:11:43,492 - __main__ - INFO - Updated user info: first_name='שיר' last_name=None id_number=None gender=None age=None hmo_name=None hmo_card_number=None insurance_tier=None
2025-05-30 22:11:43,492 - __main__ - INFO - 📝 DEBUG: User message: 'שיר'
2025-05-30 22:11:43,492 - __main__ - INFO - Messege from user: שיר
2025-05-30 22:11:43,492 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 22:11:43,492 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 22:11:43,492 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 22:11:43,492 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 22:11:44,043 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 22:11:44,044 - __main__ - INFO - Chat response generated successfully - Length: 62 chars
2025-05-30 22:11:46,142 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 22:11:46,143 - __main__ - INFO - message_lower: משיח
2025-05-30 22:11:46,143 - __main__ - INFO - Extracted last name: משיח
2025-05-30 22:11:46,143 - __main__ - INFO - Updated user info: first_name='שיר' last_name='משיח' id_number=None gender=None age=None hmo_name=None hmo_card_number=None insurance_tier=None
2025-05-30 22:11:46,143 - __main__ - INFO - 📝 DEBUG: User message: 'משיח'
2025-05-30 22:11:46,144 - __main__ - INFO - Messege from user: משיח
2025-05-30 22:11:46,144 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 22:11:46,144 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 22:11:46,144 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 22:11:46,144 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 22:11:46,956 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 22:11:46,958 - __main__ - INFO - Chat response generated successfully - Length: 129 chars
2025-05-30 22:11:50,840 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 22:11:50,840 - __main__ - INFO - message_lower: 123456789
2025-05-30 22:11:50,840 - __main__ - INFO - Extracted ID number: 123456789
2025-05-30 22:11:50,840 - __main__ - INFO - Updated user info: first_name='שיר' last_name='משיח' id_number='123456789' gender=None age=None hmo_name=None hmo_card_number=None insurance_tier=None
2025-05-30 22:11:50,840 - __main__ - INFO - 📝 DEBUG: User message: '123456789'
2025-05-30 22:11:50,840 - __main__ - INFO - Messege from user: 123456789
2025-05-30 22:11:50,840 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 22:11:50,840 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 22:11:50,840 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 22:11:50,840 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 22:11:51,429 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 22:11:51,429 - __main__ - INFO - Chat response generated successfully - Length: 66 chars
2025-05-30 22:11:54,952 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 22:11:54,952 - __main__ - INFO - message_lower: נקבה
2025-05-30 22:11:54,952 - __main__ - INFO - Extracted gender: נקבה
2025-05-30 22:11:54,952 - __main__ - INFO - Updated user info: first_name='שיר' last_name='משיח' id_number='123456789' gender='נקבה' age=None hmo_name=None hmo_card_number=None insurance_tier=None
2025-05-30 22:11:54,952 - __main__ - INFO - 📝 DEBUG: User message: 'נקבה'
2025-05-30 22:11:54,952 - __main__ - INFO - Messege from user: נקבה
2025-05-30 22:11:54,952 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 22:11:54,952 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 22:11:54,952 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 22:11:54,952 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 22:11:55,616 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 22:11:55,618 - __main__ - INFO - Chat response generated successfully - Length: 72 chars
2025-05-30 22:11:57,953 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 22:11:57,953 - __main__ - INFO - message_lower: 50
2025-05-30 22:11:57,953 - __main__ - INFO - Extracted age: 50
2025-05-30 22:11:57,953 - __main__ - INFO - Updated user info: first_name='שיר' last_name='משיח' id_number='123456789' gender='נקבה' age=50 hmo_name=None hmo_card_number=None insurance_tier=None
2025-05-30 22:11:57,953 - __main__ - INFO - 📝 DEBUG: User message: '50'
2025-05-30 22:11:57,953 - __main__ - INFO - Messege from user: 50
2025-05-30 22:11:57,954 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 22:11:57,954 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 22:11:57,954 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 22:11:57,954 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 22:11:58,923 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 22:11:58,926 - __main__ - INFO - Chat response generated successfully - Length: 81 chars
2025-05-30 22:12:01,508 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 22:12:01,509 - __main__ - INFO - message_lower: מכבי
2025-05-30 22:12:01,509 - __main__ - INFO - Extracted HMO: מכבי
2025-05-30 22:12:01,509 - __main__ - INFO - Updated user info: first_name='שיר' last_name='משיח' id_number='123456789' gender='נקבה' age=50 hmo_name='מכבי' hmo_card_number=None insurance_tier=None
2025-05-30 22:12:01,509 - __main__ - INFO - 📝 DEBUG: User message: 'מכבי'
2025-05-30 22:12:01,510 - __main__ - INFO - Messege from user: מכבי
2025-05-30 22:12:01,510 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 22:12:01,510 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 22:12:01,510 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 22:12:01,510 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 22:12:02,431 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 22:12:02,432 - __main__ - INFO - Chat response generated successfully - Length: 112 chars
2025-05-30 22:12:08,169 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 22:12:08,170 - __main__ - INFO - message_lower: 123456789
2025-05-30 22:12:08,170 - __main__ - INFO - Updated user info: first_name='שיר' last_name='משיח' id_number='123456789' gender='נקבה' age=50 hmo_name='מכבי' hmo_card_number=None insurance_tier=None
2025-05-30 22:12:08,170 - __main__ - INFO - 📝 DEBUG: User message: '123456789'
2025-05-30 22:12:08,170 - __main__ - INFO - Messege from user: 123456789
2025-05-30 22:12:08,170 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 22:12:08,170 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 22:12:08,171 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 22:12:08,171 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 22:12:09,342 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 22:12:09,343 - __main__ - INFO - Chat response generated successfully - Length: 72 chars
2025-05-30 22:12:11,663 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 22:12:11,663 - __main__ - INFO - message_lower: זהב
2025-05-30 22:12:11,663 - __main__ - INFO - Extracted insurance tier: זהב
2025-05-30 22:12:11,663 - __main__ - INFO - Updated user info: first_name='שיר' last_name='משיח' id_number='123456789' gender='נקבה' age=50 hmo_name='מכבי' hmo_card_number=None insurance_tier='זהב'
2025-05-30 22:12:11,663 - __main__ - INFO - 📝 DEBUG: User message: 'זהב'
2025-05-30 22:12:11,663 - __main__ - INFO - Messege from user: זהב
2025-05-30 22:12:11,663 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 22:12:11,663 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 22:12:11,664 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 22:12:11,664 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 22:12:12,920 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 22:12:12,922 - __main__ - INFO - Chat response generated successfully - Length: 260 chars
2025-05-30 22:12:15,070 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 22:12:15,070 - __main__ - INFO - message_lower: נכון
2025-05-30 22:12:15,070 - __main__ - INFO - Updated user info: first_name='שיר' last_name='משיח' id_number='123456789' gender='נקבה' age=50 hmo_name='מכבי' hmo_card_number=None insurance_tier='זהב'
2025-05-30 22:12:15,070 - __main__ - INFO - 📝 DEBUG: User message: 'נכון'
2025-05-30 22:12:15,070 - __main__ - INFO - Messege from user: נכון
2025-05-30 22:12:15,070 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: True
2025-05-30 22:12:15,070 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 22:12:22,375 - __main__ - INFO - Chat request received - Phase: qa, Language: hebrew
2025-05-30 22:12:22,375 - __main__ - INFO - Updated user info: first_name='שיר' last_name='משיח' id_number='123456789' gender='נקבה' age=50 hmo_name='מכבי' hmo_card_number=None insurance_tier='זהב'
2025-05-30 22:12:22,376 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 22:12:22,376 - __main__ - INFO - Knowledge context length: 674 chars
2025-05-30 22:12:27,128 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 22:12:27,131 - __main__ - INFO - Chat response generated successfully - Length: 432 chars
2025-05-30 22:12:36,538 - __main__ - INFO - Chat request received - Phase: qa, Language: hebrew
2025-05-30 22:12:36,538 - __main__ - INFO - Updated user info: first_name='שיר' last_name='משיח' id_number='123456789' gender='נקבה' age=50 hmo_name='מכבי' hmo_card_number=None insurance_tier='זהב'
2025-05-30 22:12:36,538 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 22:12:36,538 - __main__ - INFO - Knowledge context length: 6658 chars
2025-05-30 22:12:39,039 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 22:12:39,041 - __main__ - INFO - Chat response generated successfully - Length: 343 chars
2025-05-30 22:13:32,025 - __main__ - INFO - Chat request received - Phase: qa, Language: hebrew
2025-05-30 22:13:32,031 - __main__ - INFO - Updated user info: first_name='שיר' last_name='משיח' id_number='123456789' gender='נקבה' age=50 hmo_name='מכבי' hmo_card_number=None insurance_tier='זהב'
2025-05-30 22:13:32,032 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 22:13:32,032 - __main__ - INFO - Knowledge context length: 962 chars
2025-05-30 22:13:36,713 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 22:13:36,716 - __main__ - INFO - Chat response generated successfully - Length: 428 chars
2025-05-30 22:14:37,475 - __main__ - INFO - Chat request received - Phase: qa, Language: hebrew
2025-05-30 22:14:37,476 - __main__ - INFO - Updated user info: first_name='שיר' last_name='משיח' id_number='123456789' gender='נקבה' age=50 hmo_name='מכבי' hmo_card_number=None insurance_tier='זהב'
2025-05-30 22:14:37,476 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 22:14:37,476 - __main__ - INFO - Knowledge context length: 3904 chars
2025-05-30 22:14:39,771 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 22:14:39,772 - __main__ - INFO - Chat response generated successfully - Length: 342 chars
2025-05-30 22:15:30,360 - __main__ - INFO - Chat request received - Phase: qa, Language: hebrew
2025-05-30 22:15:30,361 - __main__ - INFO - Updated user info: first_name='שיר' last_name='משיח' id_number='123456789' gender='נקבה' age=50 hmo_name='מכבי' hmo_card_number=None insurance_tier='זהב'
2025-05-30 22:15:30,361 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 22:15:30,361 - __main__ - INFO - Knowledge context length: 13999 chars
2025-05-30 22:15:38,345 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 22:15:38,348 - __main__ - INFO - Chat response generated successfully - Length: 1145 chars
2025-05-30 22:15:54,257 - __main__ - INFO - Chat request received - Phase: qa, Language: hebrew
2025-05-30 22:15:54,257 - __main__ - INFO - Updated user info: first_name='שיר' last_name='משיח' id_number='123456789' gender='נקבה' age=50 hmo_name='מכבי' hmo_card_number=None insurance_tier='זהב'
2025-05-30 22:15:54,258 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 22:15:54,258 - __main__ - INFO - Knowledge context length: 3837 chars
2025-05-30 22:15:55,272 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 22:15:55,274 - __main__ - INFO - Chat response generated successfully - Length: 31 chars
2025-05-30 22:16:25,458 - __main__ - INFO - Chat request received - Phase: qa, Language: hebrew
2025-05-30 22:16:25,459 - __main__ - INFO - Updated user info: first_name='שיר' last_name='משיח' id_number='123456789' gender='נקבה' age=50 hmo_name='מכבי' hmo_card_number=None insurance_tier='זהב'
2025-05-30 22:16:25,460 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 22:16:25,460 - __main__ - INFO - Knowledge context length: 724 chars
2025-05-30 22:16:28,888 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 22:16:28,890 - __main__ - INFO - Chat response generated successfully - Length: 433 chars
2025-05-30 22:17:36,609 - __main__ - INFO - Chat request received - Phase: qa, Language: hebrew
2025-05-30 22:17:36,610 - __main__ - INFO - Updated user info: first_name='שיר' last_name='משיח' id_number='123456789' gender='נקבה' age=50 hmo_name='מכבי' hmo_card_number=None insurance_tier='זהב'
2025-05-30 22:17:36,610 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 22:17:36,610 - __main__ - INFO - Knowledge context length: 684 chars
2025-05-30 22:17:38,054 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 22:17:38,056 - __main__ - INFO - Chat response generated successfully - Length: 179 chars
2025-05-30 22:19:02,084 - __main__ - INFO - Chat request received - Phase: qa, Language: hebrew
2025-05-30 22:19:02,085 - __main__ - INFO - Updated user info: first_name='שיר' last_name='משיח' id_number='123456789' gender='נקבה' age=50 hmo_name='מכבי' hmo_card_number=None insurance_tier='זהב'
2025-05-30 22:19:02,085 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 22:19:02,085 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 22:19:03,151 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 22:19:03,154 - __main__ - INFO - Chat response generated successfully - Length: 31 chars
2025-05-30 22:23:29,795 - __main__ - INFO - Azure OpenAI client initialized successfully
2025-05-30 22:23:51,388 - __main__ - INFO - Azure OpenAI client initialized successfully
2025-05-30 22:23:52,946 - __main__ - INFO - health check
2025-05-30 22:23:53,965 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 22:23:53,965 - __main__ - INFO - message_lower: בואו נתחיל באיסוף המידע
2025-05-30 22:23:53,965 - __main__ - INFO - Skipping extraction - message appears to be from assistant: בואו נתחיל באיסוף המידע
2025-05-30 22:23:53,965 - __main__ - INFO - Updated user info: first_name=None last_name=None id_number=None gender=None age=None hmo_name=None hmo_card_number=None insurance_tier=None
2025-05-30 22:23:53,965 - __main__ - INFO - 📝 DEBUG: User message: 'בואו נתחיל באיסוף המידע'
2025-05-30 22:23:53,965 - __main__ - INFO - Messege from user: בואו נתחיל באיסוף המידע
2025-05-30 22:23:53,965 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 22:23:53,965 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 22:23:53,965 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 22:23:53,965 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 22:23:56,763 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 22:23:56,768 - __main__ - INFO - Chat response generated successfully - Length: 435 chars
2025-05-30 22:24:09,347 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 22:24:09,347 - __main__ - INFO - message_lower: אור מאירי 
2025-05-30 22:24:09,348 - __main__ - INFO - Extracted full name: אור מאירי
2025-05-30 22:24:09,348 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number=None gender=None age=None hmo_name=None hmo_card_number=None insurance_tier=None
2025-05-30 22:24:09,348 - __main__ - INFO - 📝 DEBUG: User message: 'אור מאירי '
2025-05-30 22:24:09,348 - __main__ - INFO - Messege from user: אור מאירי 
2025-05-30 22:24:09,348 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 22:24:09,348 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 22:24:09,348 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 22:24:09,349 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 22:24:10,481 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 22:24:10,483 - __main__ - INFO - Chat response generated successfully - Length: 127 chars
2025-05-30 22:24:14,317 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 22:24:14,318 - __main__ - INFO - message_lower: 123456789
2025-05-30 22:24:14,318 - __main__ - INFO - Extracted ID number: 123456789
2025-05-30 22:24:14,318 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number='123456789' gender=None age=None hmo_name=None hmo_card_number=None insurance_tier=None
2025-05-30 22:24:14,318 - __main__ - INFO - 📝 DEBUG: User message: '123456789'
2025-05-30 22:24:14,318 - __main__ - INFO - Messege from user: 123456789
2025-05-30 22:24:14,318 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 22:24:14,319 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 22:24:14,319 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 22:24:14,319 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 22:24:15,057 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 22:24:15,057 - __main__ - INFO - Chat response generated successfully - Length: 91 chars
2025-05-30 22:24:19,429 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 22:24:19,429 - __main__ - INFO - message_lower: זכר
2025-05-30 22:24:19,429 - __main__ - INFO - Extracted gender: זכר
2025-05-30 22:24:19,430 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number='123456789' gender='זכר' age=None hmo_name=None hmo_card_number=None insurance_tier=None
2025-05-30 22:24:19,430 - __main__ - INFO - 📝 DEBUG: User message: 'זכר'
2025-05-30 22:24:19,430 - __main__ - INFO - Messege from user: זכר
2025-05-30 22:24:19,430 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 22:24:19,430 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 22:24:19,430 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 22:24:19,430 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 22:24:19,976 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 22:24:19,977 - __main__ - INFO - Chat response generated successfully - Length: 71 chars
2025-05-30 22:24:23,228 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 22:24:23,229 - __main__ - INFO - message_lower: 30
2025-05-30 22:24:23,229 - __main__ - INFO - Extracted age: 30
2025-05-30 22:24:23,229 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number='123456789' gender='זכר' age=30 hmo_name=None hmo_card_number=None insurance_tier=None
2025-05-30 22:24:23,229 - __main__ - INFO - 📝 DEBUG: User message: '30'
2025-05-30 22:24:23,229 - __main__ - INFO - Messege from user: 30
2025-05-30 22:24:23,229 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 22:24:23,229 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 22:24:23,229 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 22:24:23,229 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 22:24:23,990 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 22:24:23,991 - __main__ - INFO - Chat response generated successfully - Length: 111 chars
2025-05-30 22:24:26,136 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 22:24:26,136 - __main__ - INFO - message_lower: כללית
2025-05-30 22:24:26,136 - __main__ - INFO - Extracted HMO: כללית
2025-05-30 22:24:26,136 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number='123456789' gender='זכר' age=30 hmo_name='כללית' hmo_card_number=None insurance_tier=None
2025-05-30 22:24:26,136 - __main__ - INFO - 📝 DEBUG: User message: 'כללית'
2025-05-30 22:24:26,136 - __main__ - INFO - Messege from user: כללית
2025-05-30 22:24:26,137 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 22:24:26,137 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 22:24:26,137 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 22:24:26,137 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 22:24:26,865 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 22:24:26,866 - __main__ - INFO - Chat response generated successfully - Length: 112 chars
2025-05-30 22:24:28,642 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 22:24:28,642 - __main__ - INFO - message_lower: 123456789
2025-05-30 22:24:28,643 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number='123456789' gender='זכר' age=30 hmo_name='כללית' hmo_card_number=None insurance_tier=None
2025-05-30 22:24:28,643 - __main__ - INFO - 📝 DEBUG: User message: '123456789'
2025-05-30 22:24:28,643 - __main__ - INFO - Messege from user: 123456789
2025-05-30 22:24:28,643 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 22:24:28,643 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 22:24:28,643 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 22:24:28,644 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 22:24:29,324 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 22:24:29,326 - __main__ - INFO - Chat response generated successfully - Length: 104 chars
2025-05-30 22:24:31,493 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 22:24:31,494 - __main__ - INFO - message_lower: ארד
2025-05-30 22:24:31,494 - __main__ - INFO - Extracted insurance tier: ארד
2025-05-30 22:24:31,494 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number='123456789' gender='זכר' age=30 hmo_name='כללית' hmo_card_number=None insurance_tier='ארד'
2025-05-30 22:24:31,494 - __main__ - INFO - 📝 DEBUG: User message: 'ארד'
2025-05-30 22:24:31,494 - __main__ - INFO - Messege from user: ארד
2025-05-30 22:24:31,494 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 22:24:31,494 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 22:24:31,494 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 22:24:31,494 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 22:24:32,908 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 22:24:32,910 - __main__ - INFO - Chat response generated successfully - Length: 260 chars
2025-05-30 22:24:34,181 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 22:24:34,181 - __main__ - INFO - message_lower: נכון
2025-05-30 22:24:34,181 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number='123456789' gender='זכר' age=30 hmo_name='כללית' hmo_card_number=None insurance_tier='ארד'
2025-05-30 22:24:34,181 - __main__ - INFO - 📝 DEBUG: User message: 'נכון'
2025-05-30 22:24:34,181 - __main__ - INFO - Messege from user: נכון
2025-05-30 22:24:34,181 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: True
2025-05-30 22:24:34,181 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 22:24:41,788 - __main__ - INFO - Chat request received - Phase: qa, Language: hebrew
2025-05-30 22:24:41,788 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number='123456789' gender='זכר' age=30 hmo_name='כללית' hmo_card_number=None insurance_tier='ארד'
2025-05-30 22:24:41,788 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 22:24:41,788 - __main__ - INFO - Knowledge context length: 54 chars
2025-05-30 22:24:43,146 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 22:24:43,146 - __main__ - INFO - Chat response generated successfully - Length: 31 chars
2025-05-30 22:24:58,111 - __main__ - INFO - Chat request received - Phase: qa, Language: hebrew
2025-05-30 22:24:58,111 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number='123456789' gender='זכר' age=30 hmo_name='כללית' hmo_card_number=None insurance_tier='ארד'
2025-05-30 22:24:58,111 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 22:24:58,111 - __main__ - INFO - Knowledge context length: 54 chars
2025-05-30 22:24:59,001 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 22:24:59,003 - __main__ - INFO - Chat response generated successfully - Length: 31 chars
2025-05-30 22:25:14,164 - __main__ - INFO - Chat request received - Phase: qa, Language: hebrew
2025-05-30 22:25:14,164 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number='123456789' gender='זכר' age=30 hmo_name='כללית' hmo_card_number=None insurance_tier='ארד'
2025-05-30 22:25:14,164 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 22:25:14,164 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 22:25:17,306 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 22:25:17,309 - __main__ - INFO - Chat response generated successfully - Length: 627 chars
2025-05-30 22:25:24,242 - __main__ - INFO - Chat request received - Phase: qa, Language: hebrew
2025-05-30 22:25:24,242 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number='123456789' gender='זכר' age=30 hmo_name='כללית' hmo_card_number=None insurance_tier='ארד'
2025-05-30 22:25:24,243 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 22:25:24,243 - __main__ - INFO - Knowledge context length: 54 chars
2025-05-30 22:25:25,248 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 22:25:25,250 - __main__ - INFO - Chat response generated successfully - Length: 31 chars
2025-05-30 22:25:39,936 - __main__ - INFO - Chat request received - Phase: qa, Language: hebrew
2025-05-30 22:25:39,937 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number='123456789' gender='זכר' age=30 hmo_name='כללית' hmo_card_number=None insurance_tier='ארד'
2025-05-30 22:25:39,937 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 22:25:39,937 - __main__ - INFO - Knowledge context length: 54 chars
2025-05-30 22:25:41,255 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 22:25:41,257 - __main__ - INFO - Chat response generated successfully - Length: 31 chars
2025-05-30 22:26:55,432 - __main__ - INFO - Azure OpenAI client initialized successfully
2025-05-30 22:26:56,958 - __main__ - INFO - health check
2025-05-30 22:26:58,006 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 22:26:58,006 - __main__ - INFO - message_lower: בואו נתחיל באיסוף המידע
2025-05-30 22:26:58,006 - __main__ - INFO - Skipping extraction - message appears to be from assistant: בואו נתחיל באיסוף המידע
2025-05-30 22:26:58,006 - __main__ - INFO - Updated user info: first_name=None last_name=None id_number=None gender=None age=None hmo_name=None hmo_card_number=None insurance_tier=None
2025-05-30 22:26:58,007 - __main__ - INFO - 📝 DEBUG: User message: 'בואו נתחיל באיסוף המידע'
2025-05-30 22:26:58,007 - __main__ - INFO - Messege from user: בואו נתחיל באיסוף המידע
2025-05-30 22:26:58,007 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 22:26:58,007 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 22:26:58,007 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 22:26:58,007 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 22:27:01,006 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 22:27:01,012 - __main__ - INFO - Chat response generated successfully - Length: 464 chars
2025-05-30 22:27:10,280 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 22:27:10,280 - __main__ - INFO - message_lower: אור מאירי
2025-05-30 22:27:10,280 - __main__ - INFO - Extracted full name: אור מאירי
2025-05-30 22:27:10,281 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number=None gender=None age=None hmo_name=None hmo_card_number=None insurance_tier=None
2025-05-30 22:27:10,281 - __main__ - INFO - 📝 DEBUG: User message: 'אור מאירי'
2025-05-30 22:27:10,281 - __main__ - INFO - Messege from user: אור מאירי
2025-05-30 22:27:10,281 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 22:27:10,281 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 22:27:10,281 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 22:27:10,281 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 22:27:11,485 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 22:27:11,487 - __main__ - INFO - Chat response generated successfully - Length: 110 chars
2025-05-30 22:27:15,759 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 22:27:15,759 - __main__ - INFO - message_lower: 123456789
2025-05-30 22:27:15,759 - __main__ - INFO - Extracted ID number: 123456789
2025-05-30 22:27:15,759 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number='123456789' gender=None age=None hmo_name=None hmo_card_number=None insurance_tier=None
2025-05-30 22:27:15,759 - __main__ - INFO - 📝 DEBUG: User message: '123456789'
2025-05-30 22:27:15,759 - __main__ - INFO - Messege from user: 123456789
2025-05-30 22:27:15,759 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 22:27:15,759 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 22:27:15,759 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 22:27:15,759 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 22:27:16,752 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 22:27:16,752 - __main__ - INFO - Chat response generated successfully - Length: 102 chars
2025-05-30 22:27:18,429 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 22:27:18,429 - __main__ - INFO - message_lower: זכר
2025-05-30 22:27:18,429 - __main__ - INFO - Extracted gender: זכר
2025-05-30 22:27:18,429 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number='123456789' gender='זכר' age=None hmo_name=None hmo_card_number=None insurance_tier=None
2025-05-30 22:27:18,429 - __main__ - INFO - 📝 DEBUG: User message: 'זכר'
2025-05-30 22:27:18,429 - __main__ - INFO - Messege from user: זכר
2025-05-30 22:27:18,429 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 22:27:18,429 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 22:27:18,429 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 22:27:18,429 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 22:27:19,109 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 22:27:19,110 - __main__ - INFO - Chat response generated successfully - Length: 86 chars
2025-05-30 22:27:20,604 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 22:27:20,604 - __main__ - INFO - message_lower: 2
2025-05-30 22:27:20,604 - __main__ - INFO - Extracted age: 2
2025-05-30 22:27:20,604 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number='123456789' gender='זכר' age=2 hmo_name=None hmo_card_number=None insurance_tier=None
2025-05-30 22:27:20,604 - __main__ - INFO - 📝 DEBUG: User message: '2'
2025-05-30 22:27:20,604 - __main__ - INFO - Messege from user: 2
2025-05-30 22:27:20,604 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 22:27:20,604 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 22:27:20,604 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 22:27:20,604 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 22:27:21,425 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 22:27:21,427 - __main__ - INFO - Chat response generated successfully - Length: 117 chars
2025-05-30 22:27:24,250 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 22:27:24,251 - __main__ - INFO - message_lower: מכבי
2025-05-30 22:27:24,251 - __main__ - INFO - Extracted HMO: מכבי
2025-05-30 22:27:24,251 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number='123456789' gender='זכר' age=2 hmo_name='מכבי' hmo_card_number=None insurance_tier=None
2025-05-30 22:27:24,251 - __main__ - INFO - 📝 DEBUG: User message: 'מכבי'
2025-05-30 22:27:24,251 - __main__ - INFO - Messege from user: מכבי
2025-05-30 22:27:24,251 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 22:27:24,251 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 22:27:24,251 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 22:27:24,251 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 22:27:25,149 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 22:27:25,151 - __main__ - INFO - Chat response generated successfully - Length: 129 chars
2025-05-30 22:27:26,918 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 22:27:26,918 - __main__ - INFO - message_lower: 123456789
2025-05-30 22:27:26,918 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number='123456789' gender='זכר' age=2 hmo_name='מכבי' hmo_card_number=None insurance_tier=None
2025-05-30 22:27:26,918 - __main__ - INFO - 📝 DEBUG: User message: '123456789'
2025-05-30 22:27:26,919 - __main__ - INFO - Messege from user: 123456789
2025-05-30 22:27:26,919 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 22:27:26,919 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 22:27:26,919 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 22:27:26,919 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 22:27:27,704 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 22:27:27,707 - __main__ - INFO - Chat response generated successfully - Length: 141 chars
2025-05-30 22:27:30,129 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 22:27:30,129 - __main__ - INFO - message_lower: זהב
2025-05-30 22:27:30,129 - __main__ - INFO - Extracted insurance tier: זהב
2025-05-30 22:27:30,129 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number='123456789' gender='זכר' age=2 hmo_name='מכבי' hmo_card_number=None insurance_tier='זהב'
2025-05-30 22:27:30,129 - __main__ - INFO - 📝 DEBUG: User message: 'זהב'
2025-05-30 22:27:30,129 - __main__ - INFO - Messege from user: זהב
2025-05-30 22:27:30,129 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 22:27:30,129 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 22:27:30,130 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 22:27:30,130 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 22:27:31,745 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 22:27:31,748 - __main__ - INFO - Chat response generated successfully - Length: 306 chars
2025-05-30 22:27:34,078 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 22:27:34,078 - __main__ - INFO - message_lower: מכון
2025-05-30 22:27:34,079 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number='123456789' gender='זכר' age=2 hmo_name='מכבי' hmo_card_number=None insurance_tier='זהב'
2025-05-30 22:27:34,079 - __main__ - INFO - 📝 DEBUG: User message: 'מכון'
2025-05-30 22:27:34,079 - __main__ - INFO - Messege from user: מכון
2025-05-30 22:27:34,079 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 22:27:34,079 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 22:27:34,079 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 22:27:34,079 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 22:27:34,976 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 22:27:34,978 - __main__ - INFO - Chat response generated successfully - Length: 135 chars
2025-05-30 22:27:43,019 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 22:27:43,019 - __main__ - INFO - message_lower: נכון
2025-05-30 22:27:43,020 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number='123456789' gender='זכר' age=2 hmo_name='מכבי' hmo_card_number=None insurance_tier='זהב'
2025-05-30 22:27:43,020 - __main__ - INFO - 📝 DEBUG: User message: 'נכון'
2025-05-30 22:27:43,020 - __main__ - INFO - Messege from user: נכון
2025-05-30 22:27:43,020 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: True
2025-05-30 22:27:43,020 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 22:27:53,819 - __main__ - INFO - Chat request received - Phase: qa, Language: hebrew
2025-05-30 22:27:53,820 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number='123456789' gender='זכר' age=2 hmo_name='מכבי' hmo_card_number=None insurance_tier='זהב'
2025-05-30 22:27:53,820 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 22:27:53,820 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 22:27:55,933 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 22:27:55,936 - __main__ - INFO - Chat response generated successfully - Length: 278 chars
2025-05-30 22:28:05,326 - __main__ - INFO - Chat request received - Phase: qa, Language: hebrew
2025-05-30 22:28:05,326 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number='123456789' gender='זכר' age=2 hmo_name='מכבי' hmo_card_number=None insurance_tier='זהב'
2025-05-30 22:28:05,326 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 22:28:05,326 - __main__ - INFO - Knowledge context length: 674 chars
2025-05-30 22:28:08,225 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 22:28:08,226 - __main__ - INFO - Chat response generated successfully - Length: 493 chars
2025-05-30 22:28:14,734 - __main__ - INFO - Chat request received - Phase: qa, Language: hebrew
2025-05-30 22:28:14,735 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number='123456789' gender='זכר' age=2 hmo_name='מכבי' hmo_card_number=None insurance_tier='זהב'
2025-05-30 22:28:14,735 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 22:28:14,735 - __main__ - INFO - Knowledge context length: 55 chars
2025-05-30 22:28:16,189 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 22:28:16,191 - __main__ - INFO - Chat response generated successfully - Length: 31 chars
2025-05-30 22:28:36,688 - __main__ - INFO - Chat request received - Phase: qa, Language: hebrew
2025-05-30 22:28:36,688 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number='123456789' gender='זכר' age=2 hmo_name='מכבי' hmo_card_number=None insurance_tier='זהב'
2025-05-30 22:28:36,688 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 22:28:36,689 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 22:28:37,752 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 22:28:37,754 - __main__ - INFO - Chat response generated successfully - Length: 31 chars
2025-05-30 22:29:52,971 - __main__ - INFO - Chat request received - Phase: qa, Language: hebrew
2025-05-30 22:29:52,972 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number='123456789' gender='זכר' age=2 hmo_name='מכבי' hmo_card_number=None insurance_tier='זהב'
2025-05-30 22:29:52,972 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 22:29:52,972 - __main__ - INFO - Knowledge context length: 2092 chars
2025-05-30 22:29:55,682 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 22:29:55,685 - __main__ - INFO - Chat response generated successfully - Length: 442 chars
2025-05-30 22:30:09,972 - __main__ - INFO - Chat request received - Phase: qa, Language: hebrew
2025-05-30 22:30:09,973 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number='123456789' gender='זכר' age=2 hmo_name='מכבי' hmo_card_number=None insurance_tier='זהב'
2025-05-30 22:30:09,973 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 22:30:09,973 - __main__ - INFO - Knowledge context length: 54 chars
2025-05-30 22:30:10,865 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 22:30:10,865 - __main__ - INFO - Chat response generated successfully - Length: 31 chars
2025-05-30 22:35:30,349 - __main__ - INFO - Azure OpenAI client initialized successfully
2025-05-30 22:35:31,907 - __main__ - INFO - health check
2025-05-30 22:35:32,954 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 22:35:32,954 - __main__ - INFO - message_lower: בואו נתחיל באיסוף המידע
2025-05-30 22:35:32,954 - __main__ - INFO - Skipping extraction - message appears to be from assistant: בואו נתחיל באיסוף המידע
2025-05-30 22:35:32,955 - __main__ - INFO - Updated user info: first_name=None last_name=None id_number=None gender=None age=None hmo_name=None hmo_card_number=None insurance_tier=None
2025-05-30 22:35:32,955 - __main__ - INFO - 🔄 DEBUG: Collection complete, checking for confirmation...
2025-05-30 22:35:32,955 - __main__ - INFO - 📝 DEBUG: User message: 'בואו נתחיל באיסוף המידע'
2025-05-30 22:35:32,955 - __main__ - INFO - Messege from user: בואו נתחיל באיסוף המידע
2025-05-30 22:35:32,955 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 22:35:32,955 - __main__ - INFO - 🔍 DEBUG: Confirmation words found: []
2025-05-30 22:35:32,955 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 22:35:32,955 - __main__ - INFO - ❌ DEBUG: No confirmation or question detected, staying in collection phase
2025-05-30 22:35:32,955 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 22:35:32,955 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 22:35:35,557 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 22:35:35,564 - __main__ - INFO - Chat response generated successfully - Length: 421 chars
2025-05-30 22:35:39,501 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 22:35:39,501 - __main__ - INFO - message_lower: אור מאירי
2025-05-30 22:35:39,501 - __main__ - INFO - Extracted full name: אור מאירי
2025-05-30 22:35:39,501 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number=None gender=None age=None hmo_name=None hmo_card_number=None insurance_tier=None
2025-05-30 22:35:39,501 - __main__ - INFO - 🔄 DEBUG: Collection complete, checking for confirmation...
2025-05-30 22:35:39,501 - __main__ - INFO - 📝 DEBUG: User message: 'אור מאירי'
2025-05-30 22:35:39,501 - __main__ - INFO - Messege from user: אור מאירי
2025-05-30 22:35:39,501 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 22:35:39,501 - __main__ - INFO - 🔍 DEBUG: Confirmation words found: []
2025-05-30 22:35:39,501 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 22:35:39,501 - __main__ - INFO - ❌ DEBUG: No confirmation or question detected, staying in collection phase
2025-05-30 22:35:39,501 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 22:35:39,501 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 22:35:40,297 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 22:35:40,297 - __main__ - INFO - Chat response generated successfully - Length: 115 chars
2025-05-30 22:35:43,415 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 22:35:43,415 - __main__ - INFO - message_lower: 123456789
2025-05-30 22:35:43,415 - __main__ - INFO - Extracted ID number: 123456789
2025-05-30 22:35:43,415 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number='123456789' gender=None age=None hmo_name=None hmo_card_number=None insurance_tier=None
2025-05-30 22:35:43,415 - __main__ - INFO - 🔄 DEBUG: Collection complete, checking for confirmation...
2025-05-30 22:35:43,415 - __main__ - INFO - 📝 DEBUG: User message: '123456789'
2025-05-30 22:35:43,415 - __main__ - INFO - Messege from user: 123456789
2025-05-30 22:35:43,415 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 22:35:43,415 - __main__ - INFO - 🔍 DEBUG: Confirmation words found: []
2025-05-30 22:35:43,415 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 22:35:43,415 - __main__ - INFO - ❌ DEBUG: No confirmation or question detected, staying in collection phase
2025-05-30 22:35:43,415 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 22:35:43,416 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 22:35:44,015 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 22:35:44,016 - __main__ - INFO - Chat response generated successfully - Length: 74 chars
2025-05-30 22:35:45,993 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 22:35:45,994 - __main__ - INFO - message_lower: זכר
2025-05-30 22:35:45,994 - __main__ - INFO - Extracted gender: זכר
2025-05-30 22:35:45,994 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number='123456789' gender='זכר' age=None hmo_name=None hmo_card_number=None insurance_tier=None
2025-05-30 22:35:45,994 - __main__ - INFO - 🔄 DEBUG: Collection complete, checking for confirmation...
2025-05-30 22:35:45,994 - __main__ - INFO - 📝 DEBUG: User message: 'זכר'
2025-05-30 22:35:45,994 - __main__ - INFO - Messege from user: זכר
2025-05-30 22:35:45,994 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 22:35:45,994 - __main__ - INFO - 🔍 DEBUG: Confirmation words found: []
2025-05-30 22:35:45,994 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 22:35:45,994 - __main__ - INFO - ❌ DEBUG: No confirmation or question detected, staying in collection phase
2025-05-30 22:35:45,994 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 22:35:45,994 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 22:35:46,715 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 22:35:46,716 - __main__ - INFO - Chat response generated successfully - Length: 80 chars
2025-05-30 22:35:48,249 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 22:35:48,249 - __main__ - INFO - message_lower: 2
2025-05-30 22:35:48,249 - __main__ - INFO - Extracted age: 2
2025-05-30 22:35:48,249 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number='123456789' gender='זכר' age=2 hmo_name=None hmo_card_number=None insurance_tier=None
2025-05-30 22:35:48,249 - __main__ - INFO - 🔄 DEBUG: Collection complete, checking for confirmation...
2025-05-30 22:35:48,249 - __main__ - INFO - 📝 DEBUG: User message: '2'
2025-05-30 22:35:48,249 - __main__ - INFO - Messege from user: 2
2025-05-30 22:35:48,249 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 22:35:48,249 - __main__ - INFO - 🔍 DEBUG: Confirmation words found: []
2025-05-30 22:35:48,249 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 22:35:48,249 - __main__ - INFO - ❌ DEBUG: No confirmation or question detected, staying in collection phase
2025-05-30 22:35:48,249 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 22:35:48,249 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 22:35:48,969 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 22:35:48,970 - __main__ - INFO - Chat response generated successfully - Length: 93 chars
2025-05-30 22:35:51,637 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 22:35:51,637 - __main__ - INFO - message_lower: כללית
2025-05-30 22:35:51,637 - __main__ - INFO - Extracted HMO: כללית
2025-05-30 22:35:51,637 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number='123456789' gender='זכר' age=2 hmo_name='כללית' hmo_card_number=None insurance_tier=None
2025-05-30 22:35:51,637 - __main__ - INFO - 🔄 DEBUG: Collection complete, checking for confirmation...
2025-05-30 22:35:51,637 - __main__ - INFO - 📝 DEBUG: User message: 'כללית'
2025-05-30 22:35:51,637 - __main__ - INFO - Messege from user: כללית
2025-05-30 22:35:51,637 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 22:35:51,637 - __main__ - INFO - 🔍 DEBUG: Confirmation words found: []
2025-05-30 22:35:51,637 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 22:35:51,637 - __main__ - INFO - ❌ DEBUG: No confirmation or question detected, staying in collection phase
2025-05-30 22:35:51,638 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 22:35:51,638 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 22:35:52,556 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 22:35:52,557 - __main__ - INFO - Chat response generated successfully - Length: 113 chars
2025-05-30 22:35:54,864 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 22:35:54,865 - __main__ - INFO - message_lower: 123456789
2025-05-30 22:35:54,865 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number='123456789' gender='זכר' age=2 hmo_name='כללית' hmo_card_number=None insurance_tier=None
2025-05-30 22:35:54,865 - __main__ - INFO - 🔄 DEBUG: Collection complete, checking for confirmation...
2025-05-30 22:35:54,865 - __main__ - INFO - 📝 DEBUG: User message: '123456789'
2025-05-30 22:35:54,865 - __main__ - INFO - Messege from user: 123456789
2025-05-30 22:35:54,865 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 22:35:54,865 - __main__ - INFO - 🔍 DEBUG: Confirmation words found: []
2025-05-30 22:35:54,865 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 22:35:54,865 - __main__ - INFO - ❌ DEBUG: No confirmation or question detected, staying in collection phase
2025-05-30 22:35:54,865 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 22:35:54,865 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 22:35:55,524 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 22:35:55,526 - __main__ - INFO - Chat response generated successfully - Length: 84 chars
2025-05-30 22:35:57,998 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 22:35:57,998 - __main__ - INFO - message_lower: זהב
2025-05-30 22:35:57,998 - __main__ - INFO - Extracted insurance tier: זהב
2025-05-30 22:35:57,999 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number='123456789' gender='זכר' age=2 hmo_name='כללית' hmo_card_number=None insurance_tier='זהב'
2025-05-30 22:35:57,999 - __main__ - INFO - 🔄 DEBUG: Collection complete, checking for confirmation...
2025-05-30 22:35:57,999 - __main__ - INFO - 📝 DEBUG: User message: 'זהב'
2025-05-30 22:35:57,999 - __main__ - INFO - Messege from user: זהב
2025-05-30 22:35:57,999 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 22:35:57,999 - __main__ - INFO - 🔍 DEBUG: Confirmation words found: []
2025-05-30 22:35:57,999 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 22:35:57,999 - __main__ - INFO - ❌ DEBUG: No confirmation or question detected, staying in collection phase
2025-05-30 22:35:57,999 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 22:35:57,999 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 22:35:59,313 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 22:35:59,315 - __main__ - INFO - Chat response generated successfully - Length: 267 chars
2025-05-30 22:36:02,621 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 22:36:02,622 - __main__ - INFO - message_lower: נכון
2025-05-30 22:36:02,622 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number='123456789' gender='זכר' age=2 hmo_name='כללית' hmo_card_number=None insurance_tier='זהב'
2025-05-30 22:36:02,622 - __main__ - INFO - 🔄 DEBUG: Collection complete, checking for confirmation...
2025-05-30 22:36:02,622 - __main__ - INFO - 📝 DEBUG: User message: 'נכון'
2025-05-30 22:36:02,622 - __main__ - INFO - Messege from user: נכון
2025-05-30 22:36:02,622 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: True
2025-05-30 22:36:02,622 - __main__ - INFO - 🔍 DEBUG: Confirmation words found: ['נכון', 'נכון']
2025-05-30 22:36:02,622 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 22:36:02,622 - __main__ - INFO - 🎉 DEBUG: Transitioning to QA phase!
2025-05-30 22:36:08,682 - __main__ - INFO - Chat request received - Phase: qa, Language: hebrew
2025-05-30 22:36:08,683 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number='123456789' gender='זכר' age=2 hmo_name='כללית' hmo_card_number=None insurance_tier='זהב'
2025-05-30 22:36:08,683 - __main__ - INFO - 🤔 Hypothetical context detected: <coroutine object detect_hypothetical_query at 0x10a8d1340>
2025-05-30 22:36:08,683 - __main__ - INFO - 📋 Identified relevant services: <coroutine object identify_relevant_services_with_context at 0x109ab3e20>
2025-05-30 22:36:08,683 - __main__ - ERROR - Error in chat endpoint: object of type 'coroutine' has no len()
2025-05-30 22:41:39,174 - __main__ - INFO - Azure OpenAI client initialized successfully
2025-05-30 22:41:40,678 - __main__ - INFO - health check
2025-05-30 22:41:41,727 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 22:41:41,727 - __main__ - INFO - message_lower: בואו נתחיל באיסוף המידע
2025-05-30 22:41:41,727 - __main__ - INFO - Skipping extraction - message appears to be from assistant: בואו נתחיל באיסוף המידע
2025-05-30 22:41:41,727 - __main__ - INFO - Updated user info: first_name=None last_name=None id_number=None gender=None age=None hmo_name=None hmo_card_number=None insurance_tier=None
2025-05-30 22:41:41,727 - __main__ - INFO - 🔄 DEBUG: Collection complete, checking for confirmation...
2025-05-30 22:41:41,727 - __main__ - INFO - 📝 DEBUG: User message: 'בואו נתחיל באיסוף המידע'
2025-05-30 22:41:41,727 - __main__ - INFO - Messege from user: בואו נתחיל באיסוף המידע
2025-05-30 22:41:41,727 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 22:41:41,727 - __main__ - INFO - 🔍 DEBUG: Confirmation words found: []
2025-05-30 22:41:41,727 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 22:41:41,727 - __main__ - INFO - ❌ DEBUG: No confirmation or question detected, staying in collection phase
2025-05-30 22:41:41,727 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 22:41:41,727 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 22:41:44,388 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 22:41:44,395 - __main__ - INFO - Chat response generated successfully - Length: 437 chars
2025-05-30 22:41:49,163 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 22:41:49,163 - __main__ - INFO - message_lower: אור מאירי
2025-05-30 22:41:49,163 - __main__ - INFO - Extracted full name: אור מאירי
2025-05-30 22:41:49,164 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number=None gender=None age=None hmo_name=None hmo_card_number=None insurance_tier=None
2025-05-30 22:41:49,164 - __main__ - INFO - 🔄 DEBUG: Collection complete, checking for confirmation...
2025-05-30 22:41:49,164 - __main__ - INFO - 📝 DEBUG: User message: 'אור מאירי'
2025-05-30 22:41:49,164 - __main__ - INFO - Messege from user: אור מאירי
2025-05-30 22:41:49,164 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 22:41:49,164 - __main__ - INFO - 🔍 DEBUG: Confirmation words found: []
2025-05-30 22:41:49,164 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 22:41:49,164 - __main__ - INFO - ❌ DEBUG: No confirmation or question detected, staying in collection phase
2025-05-30 22:41:49,165 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 22:41:49,165 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 22:41:50,265 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 22:41:50,267 - __main__ - INFO - Chat response generated successfully - Length: 125 chars
2025-05-30 22:41:52,931 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 22:41:52,931 - __main__ - INFO - message_lower: 123456789
2025-05-30 22:41:52,931 - __main__ - INFO - Extracted ID number: 123456789
2025-05-30 22:41:52,931 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number='123456789' gender=None age=None hmo_name=None hmo_card_number=None insurance_tier=None
2025-05-30 22:41:52,931 - __main__ - INFO - 🔄 DEBUG: Collection complete, checking for confirmation...
2025-05-30 22:41:52,932 - __main__ - INFO - 📝 DEBUG: User message: '123456789'
2025-05-30 22:41:52,932 - __main__ - INFO - Messege from user: 123456789
2025-05-30 22:41:52,932 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 22:41:52,932 - __main__ - INFO - 🔍 DEBUG: Confirmation words found: []
2025-05-30 22:41:52,932 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 22:41:52,932 - __main__ - INFO - ❌ DEBUG: No confirmation or question detected, staying in collection phase
2025-05-30 22:41:52,932 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 22:41:52,932 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 22:41:53,749 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 22:41:53,751 - __main__ - INFO - Chat response generated successfully - Length: 114 chars
2025-05-30 22:41:56,124 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 22:41:56,125 - __main__ - INFO - message_lower: זכר
2025-05-30 22:41:56,125 - __main__ - INFO - Extracted gender: זכר
2025-05-30 22:41:56,125 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number='123456789' gender='זכר' age=None hmo_name=None hmo_card_number=None insurance_tier=None
2025-05-30 22:41:56,125 - __main__ - INFO - 🔄 DEBUG: Collection complete, checking for confirmation...
2025-05-30 22:41:56,125 - __main__ - INFO - 📝 DEBUG: User message: 'זכר'
2025-05-30 22:41:56,125 - __main__ - INFO - Messege from user: זכר
2025-05-30 22:41:56,125 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 22:41:56,125 - __main__ - INFO - 🔍 DEBUG: Confirmation words found: []
2025-05-30 22:41:56,125 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 22:41:56,125 - __main__ - INFO - ❌ DEBUG: No confirmation or question detected, staying in collection phase
2025-05-30 22:41:56,125 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 22:41:56,125 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 22:41:57,086 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 22:41:57,088 - __main__ - INFO - Chat response generated successfully - Length: 94 chars
2025-05-30 22:41:58,782 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 22:41:58,782 - __main__ - INFO - message_lower: 2
2025-05-30 22:41:58,782 - __main__ - INFO - Extracted age: 2
2025-05-30 22:41:58,782 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number='123456789' gender='זכר' age=2 hmo_name=None hmo_card_number=None insurance_tier=None
2025-05-30 22:41:58,782 - __main__ - INFO - 🔄 DEBUG: Collection complete, checking for confirmation...
2025-05-30 22:41:58,782 - __main__ - INFO - 📝 DEBUG: User message: '2'
2025-05-30 22:41:58,782 - __main__ - INFO - Messege from user: 2
2025-05-30 22:41:58,782 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 22:41:58,782 - __main__ - INFO - 🔍 DEBUG: Confirmation words found: []
2025-05-30 22:41:58,782 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 22:41:58,782 - __main__ - INFO - ❌ DEBUG: No confirmation or question detected, staying in collection phase
2025-05-30 22:41:58,782 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 22:41:58,782 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 22:41:59,645 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 22:41:59,647 - __main__ - INFO - Chat response generated successfully - Length: 108 chars
2025-05-30 22:42:04,653 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 22:42:04,653 - __main__ - INFO - message_lower: מכבי
2025-05-30 22:42:04,653 - __main__ - INFO - Extracted HMO: מכבי
2025-05-30 22:42:04,653 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number='123456789' gender='זכר' age=2 hmo_name='מכבי' hmo_card_number=None insurance_tier=None
2025-05-30 22:42:04,653 - __main__ - INFO - 🔄 DEBUG: Collection complete, checking for confirmation...
2025-05-30 22:42:04,653 - __main__ - INFO - 📝 DEBUG: User message: 'מכבי'
2025-05-30 22:42:04,653 - __main__ - INFO - Messege from user: מכבי
2025-05-30 22:42:04,653 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 22:42:04,653 - __main__ - INFO - 🔍 DEBUG: Confirmation words found: []
2025-05-30 22:42:04,653 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 22:42:04,653 - __main__ - INFO - ❌ DEBUG: No confirmation or question detected, staying in collection phase
2025-05-30 22:42:04,653 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 22:42:04,653 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 22:42:05,992 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 22:42:05,993 - __main__ - INFO - Chat response generated successfully - Length: 140 chars
2025-05-30 22:42:07,485 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 22:42:07,485 - __main__ - INFO - message_lower: 123456789
2025-05-30 22:42:07,485 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number='123456789' gender='זכר' age=2 hmo_name='מכבי' hmo_card_number=None insurance_tier=None
2025-05-30 22:42:07,485 - __main__ - INFO - 🔄 DEBUG: Collection complete, checking for confirmation...
2025-05-30 22:42:07,485 - __main__ - INFO - 📝 DEBUG: User message: '123456789'
2025-05-30 22:42:07,485 - __main__ - INFO - Messege from user: 123456789
2025-05-30 22:42:07,485 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 22:42:07,485 - __main__ - INFO - 🔍 DEBUG: Confirmation words found: []
2025-05-30 22:42:07,485 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 22:42:07,485 - __main__ - INFO - ❌ DEBUG: No confirmation or question detected, staying in collection phase
2025-05-30 22:42:07,485 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 22:42:07,485 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 22:42:08,452 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 22:42:08,453 - __main__ - INFO - Chat response generated successfully - Length: 126 chars
2025-05-30 22:42:09,751 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 22:42:09,752 - __main__ - INFO - message_lower: זהב
2025-05-30 22:42:09,752 - __main__ - INFO - Extracted insurance tier: זהב
2025-05-30 22:42:09,752 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number='123456789' gender='זכר' age=2 hmo_name='מכבי' hmo_card_number=None insurance_tier='זהב'
2025-05-30 22:42:09,752 - __main__ - INFO - 🔄 DEBUG: Collection complete, checking for confirmation...
2025-05-30 22:42:09,752 - __main__ - INFO - 📝 DEBUG: User message: 'זהב'
2025-05-30 22:42:09,752 - __main__ - INFO - Messege from user: זהב
2025-05-30 22:42:09,752 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 22:42:09,752 - __main__ - INFO - 🔍 DEBUG: Confirmation words found: []
2025-05-30 22:42:09,752 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 22:42:09,752 - __main__ - INFO - ❌ DEBUG: No confirmation or question detected, staying in collection phase
2025-05-30 22:42:09,752 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 22:42:09,752 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 22:42:11,305 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 22:42:11,308 - __main__ - INFO - Chat response generated successfully - Length: 287 chars
2025-05-30 22:42:13,832 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 22:42:13,832 - __main__ - INFO - message_lower: נכון
2025-05-30 22:42:13,833 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number='123456789' gender='זכר' age=2 hmo_name='מכבי' hmo_card_number=None insurance_tier='זהב'
2025-05-30 22:42:13,833 - __main__ - INFO - 🔄 DEBUG: Collection complete, checking for confirmation...
2025-05-30 22:42:13,833 - __main__ - INFO - 📝 DEBUG: User message: 'נכון'
2025-05-30 22:42:13,833 - __main__ - INFO - Messege from user: נכון
2025-05-30 22:42:13,833 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: True
2025-05-30 22:42:13,833 - __main__ - INFO - 🔍 DEBUG: Confirmation words found: ['נכון', 'נכון']
2025-05-30 22:42:13,833 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 22:42:13,833 - __main__ - INFO - 🎉 DEBUG: Transitioning to QA phase!
2025-05-30 22:42:42,617 - __main__ - INFO - Chat request received - Phase: qa, Language: hebrew
2025-05-30 22:42:42,618 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number='123456789' gender='זכר' age=2 hmo_name='מכבי' hmo_card_number=None insurance_tier='זהב'
2025-05-30 22:42:42,618 - __main__ - INFO - 🤔 Hypothetical context detected: {'hmo': None, 'tier': None, 'is_comparison': False, 'multiple_hmos': False, 'multiple_tiers': False, 'is_followup_hypothetical': False}
2025-05-30 22:42:42,618 - __main__ - INFO - 📋 Identified relevant services: <coroutine object identify_relevant_services_with_context at 0x106fafe20>
2025-05-30 22:42:42,618 - __main__ - INFO - 🔍 Starting get_comprehensive_knowledge_context
2025-05-30 22:42:42,618 - __main__ - INFO - 👤 User info: HMO=מכבי, Tier=זהב
2025-05-30 22:42:42,618 - __main__ - INFO - 🤔 Hypothetical context: {'hmo': None, 'tier': None, 'is_comparison': False, 'multiple_hmos': False, 'multiple_tiers': False, 'is_followup_hypothetical': False}
2025-05-30 22:42:42,619 - __main__ - INFO - 📋 Identified relevant services: ['workshops']
2025-05-30 22:42:42,619 - __main__ - INFO - 📝 Knowledge context length: 645
2025-05-30 22:42:42,619 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 22:42:42,619 - __main__ - INFO - Knowledge context length: 645 chars
2025-05-30 22:42:45,009 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 22:42:45,012 - __main__ - INFO - Chat response generated successfully - Length: 407 chars
2025-05-30 22:42:54,561 - __main__ - INFO - Chat request received - Phase: qa, Language: hebrew
2025-05-30 22:42:54,561 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number='123456789' gender='זכר' age=2 hmo_name='מכבי' hmo_card_number=None insurance_tier='זהב'
2025-05-30 22:42:54,561 - __main__ - INFO - 🤔 Hypothetical context detected: {'hmo': 'מכבי', 'tier': None, 'is_comparison': False, 'multiple_hmos': True, 'multiple_tiers': False, 'is_followup_hypothetical': False}
2025-05-30 22:42:54,561 - __main__ - INFO - 📋 Identified relevant services: <coroutine object identify_relevant_services_with_context at 0x106fafe20>
2025-05-30 22:42:54,561 - __main__ - INFO - 🔍 Starting get_comprehensive_knowledge_context
2025-05-30 22:42:54,561 - __main__ - INFO - 👤 User info: HMO=מכבי, Tier=זהב
2025-05-30 22:42:54,561 - __main__ - INFO - 🤔 Hypothetical context: {'hmo': 'מכבי', 'tier': None, 'is_comparison': False, 'multiple_hmos': True, 'multiple_tiers': False, 'is_followup_hypothetical': False}
2025-05-30 22:42:54,561 - __main__ - INFO - 📋 Identified relevant services: []
2025-05-30 22:42:54,561 - __main__ - INFO - ⚠️ No relevant services found in current message
2025-05-30 22:42:54,561 - __main__ - INFO - ❌ No services detected and not a clear follow-up
2025-05-30 22:42:54,561 - __main__ - INFO - 📝 Knowledge context length: 0
2025-05-30 22:42:54,561 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 22:42:54,561 - __main__ - INFO - Knowledge context length: 54 chars
2025-05-30 22:42:55,553 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 22:42:55,555 - __main__ - INFO - Chat response generated successfully - Length: 31 chars
2025-05-30 22:54:20,710 - __main__ - INFO - Azure OpenAI client initialized successfully
2025-05-30 22:54:22,224 - __main__ - INFO - health check
2025-05-30 22:54:23,273 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 22:54:23,273 - __main__ - INFO - message_lower: בואו נתחיל באיסוף המידע
2025-05-30 22:54:23,273 - __main__ - INFO - Skipping extraction - message appears to be from assistant: בואו נתחיל באיסוף המידע
2025-05-30 22:54:23,273 - __main__ - INFO - Updated user info: first_name=None last_name=None id_number=None gender=None age=None hmo_name=None hmo_card_number=None insurance_tier=None
2025-05-30 22:54:23,273 - __main__ - INFO - 🔄 DEBUG: Collection complete, checking for confirmation...
2025-05-30 22:54:23,273 - __main__ - INFO - 📝 DEBUG: User message: 'בואו נתחיל באיסוף המידע'
2025-05-30 22:54:23,273 - __main__ - INFO - Messege from user: בואו נתחיל באיסוף המידע
2025-05-30 22:54:23,273 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 22:54:23,273 - __main__ - INFO - 🔍 DEBUG: Confirmation words found: []
2025-05-30 22:54:23,273 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 22:54:23,273 - __main__ - INFO - ❌ DEBUG: No confirmation or question detected, staying in collection phase
2025-05-30 22:54:23,273 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 22:54:23,273 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 22:54:25,653 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 22:54:25,658 - __main__ - INFO - Chat response generated successfully - Length: 357 chars
2025-05-30 22:54:28,895 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 22:54:28,895 - __main__ - INFO - message_lower: אור מאירי
2025-05-30 22:54:28,895 - __main__ - INFO - Extracted full name: אור מאירי
2025-05-30 22:54:28,896 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number=None gender=None age=None hmo_name=None hmo_card_number=None insurance_tier=None
2025-05-30 22:54:28,896 - __main__ - INFO - 🔄 DEBUG: Collection complete, checking for confirmation...
2025-05-30 22:54:28,896 - __main__ - INFO - 📝 DEBUG: User message: 'אור מאירי'
2025-05-30 22:54:28,896 - __main__ - INFO - Messege from user: אור מאירי
2025-05-30 22:54:28,896 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 22:54:28,896 - __main__ - INFO - 🔍 DEBUG: Confirmation words found: []
2025-05-30 22:54:28,896 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 22:54:28,896 - __main__ - INFO - ❌ DEBUG: No confirmation or question detected, staying in collection phase
2025-05-30 22:54:28,896 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 22:54:28,896 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 22:54:29,662 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 22:54:29,663 - __main__ - INFO - Chat response generated successfully - Length: 107 chars
2025-05-30 22:54:32,256 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 22:54:32,256 - __main__ - INFO - message_lower: 123456789
2025-05-30 22:54:32,256 - __main__ - INFO - Extracted ID number: 123456789
2025-05-30 22:54:32,256 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number='123456789' gender=None age=None hmo_name=None hmo_card_number=None insurance_tier=None
2025-05-30 22:54:32,256 - __main__ - INFO - 🔄 DEBUG: Collection complete, checking for confirmation...
2025-05-30 22:54:32,256 - __main__ - INFO - 📝 DEBUG: User message: '123456789'
2025-05-30 22:54:32,256 - __main__ - INFO - Messege from user: 123456789
2025-05-30 22:54:32,256 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 22:54:32,256 - __main__ - INFO - 🔍 DEBUG: Confirmation words found: []
2025-05-30 22:54:32,256 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 22:54:32,256 - __main__ - INFO - ❌ DEBUG: No confirmation or question detected, staying in collection phase
2025-05-30 22:54:32,256 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 22:54:32,256 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 22:54:32,998 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 22:54:33,000 - __main__ - INFO - Chat response generated successfully - Length: 72 chars
2025-05-30 22:54:34,821 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 22:54:34,821 - __main__ - INFO - message_lower: זכר
2025-05-30 22:54:34,821 - __main__ - INFO - Extracted gender: זכר
2025-05-30 22:54:34,821 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number='123456789' gender='זכר' age=None hmo_name=None hmo_card_number=None insurance_tier=None
2025-05-30 22:54:34,821 - __main__ - INFO - 🔄 DEBUG: Collection complete, checking for confirmation...
2025-05-30 22:54:34,821 - __main__ - INFO - 📝 DEBUG: User message: 'זכר'
2025-05-30 22:54:34,821 - __main__ - INFO - Messege from user: זכר
2025-05-30 22:54:34,821 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 22:54:34,821 - __main__ - INFO - 🔍 DEBUG: Confirmation words found: []
2025-05-30 22:54:34,821 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 22:54:34,821 - __main__ - INFO - ❌ DEBUG: No confirmation or question detected, staying in collection phase
2025-05-30 22:54:34,821 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 22:54:34,821 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 22:54:35,501 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 22:54:35,503 - __main__ - INFO - Chat response generated successfully - Length: 69 chars
2025-05-30 22:54:36,902 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 22:54:36,902 - __main__ - INFO - message_lower: 2
2025-05-30 22:54:36,902 - __main__ - INFO - Extracted age: 2
2025-05-30 22:54:36,902 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number='123456789' gender='זכר' age=2 hmo_name=None hmo_card_number=None insurance_tier=None
2025-05-30 22:54:36,902 - __main__ - INFO - 🔄 DEBUG: Collection complete, checking for confirmation...
2025-05-30 22:54:36,902 - __main__ - INFO - 📝 DEBUG: User message: '2'
2025-05-30 22:54:36,902 - __main__ - INFO - Messege from user: 2
2025-05-30 22:54:36,902 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 22:54:36,902 - __main__ - INFO - 🔍 DEBUG: Confirmation words found: []
2025-05-30 22:54:36,902 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 22:54:36,902 - __main__ - INFO - ❌ DEBUG: No confirmation or question detected, staying in collection phase
2025-05-30 22:54:36,903 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 22:54:36,903 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 22:54:37,576 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 22:54:37,577 - __main__ - INFO - Chat response generated successfully - Length: 91 chars
2025-05-30 22:54:39,865 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 22:54:39,865 - __main__ - INFO - message_lower: כללית
2025-05-30 22:54:39,865 - __main__ - INFO - Extracted HMO: כללית
2025-05-30 22:54:39,865 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number='123456789' gender='זכר' age=2 hmo_name='כללית' hmo_card_number=None insurance_tier=None
2025-05-30 22:54:39,865 - __main__ - INFO - 🔄 DEBUG: Collection complete, checking for confirmation...
2025-05-30 22:54:39,865 - __main__ - INFO - 📝 DEBUG: User message: 'כללית'
2025-05-30 22:54:39,865 - __main__ - INFO - Messege from user: כללית
2025-05-30 22:54:39,865 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 22:54:39,865 - __main__ - INFO - 🔍 DEBUG: Confirmation words found: []
2025-05-30 22:54:39,865 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 22:54:39,865 - __main__ - INFO - ❌ DEBUG: No confirmation or question detected, staying in collection phase
2025-05-30 22:54:39,865 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 22:54:39,865 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 22:54:40,557 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 22:54:40,557 - __main__ - INFO - Chat response generated successfully - Length: 112 chars
2025-05-30 22:54:42,143 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 22:54:42,143 - __main__ - INFO - message_lower: 123456789
2025-05-30 22:54:42,143 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number='123456789' gender='זכר' age=2 hmo_name='כללית' hmo_card_number=None insurance_tier=None
2025-05-30 22:54:42,143 - __main__ - INFO - 🔄 DEBUG: Collection complete, checking for confirmation...
2025-05-30 22:54:42,143 - __main__ - INFO - 📝 DEBUG: User message: '123456789'
2025-05-30 22:54:42,143 - __main__ - INFO - Messege from user: 123456789
2025-05-30 22:54:42,143 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 22:54:42,143 - __main__ - INFO - 🔍 DEBUG: Confirmation words found: []
2025-05-30 22:54:42,143 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 22:54:42,143 - __main__ - INFO - ❌ DEBUG: No confirmation or question detected, staying in collection phase
2025-05-30 22:54:42,143 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 22:54:42,143 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 22:54:43,015 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 22:54:43,016 - __main__ - INFO - Chat response generated successfully - Length: 82 chars
2025-05-30 22:54:44,799 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 22:54:44,799 - __main__ - INFO - message_lower: כסף
2025-05-30 22:54:44,799 - __main__ - INFO - Extracted insurance tier: כסף
2025-05-30 22:54:44,799 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number='123456789' gender='זכר' age=2 hmo_name='כללית' hmo_card_number=None insurance_tier='כסף'
2025-05-30 22:54:44,799 - __main__ - INFO - 🔄 DEBUG: Collection complete, checking for confirmation...
2025-05-30 22:54:44,800 - __main__ - INFO - 📝 DEBUG: User message: 'כסף'
2025-05-30 22:54:44,800 - __main__ - INFO - Messege from user: כסף
2025-05-30 22:54:44,800 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 22:54:44,800 - __main__ - INFO - 🔍 DEBUG: Confirmation words found: []
2025-05-30 22:54:44,800 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 22:54:44,800 - __main__ - INFO - ❌ DEBUG: No confirmation or question detected, staying in collection phase
2025-05-30 22:54:44,800 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 22:54:44,800 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 22:54:46,395 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 22:54:46,398 - __main__ - INFO - Chat response generated successfully - Length: 259 chars
2025-05-30 22:54:47,502 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 22:54:47,502 - __main__ - INFO - message_lower: נכון
2025-05-30 22:54:47,502 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number='123456789' gender='זכר' age=2 hmo_name='כללית' hmo_card_number=None insurance_tier='כסף'
2025-05-30 22:54:47,502 - __main__ - INFO - 🔄 DEBUG: Collection complete, checking for confirmation...
2025-05-30 22:54:47,502 - __main__ - INFO - 📝 DEBUG: User message: 'נכון'
2025-05-30 22:54:47,502 - __main__ - INFO - Messege from user: נכון
2025-05-30 22:54:47,502 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: True
2025-05-30 22:54:47,502 - __main__ - INFO - 🔍 DEBUG: Confirmation words found: ['נכון', 'נכון']
2025-05-30 22:54:47,503 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 22:54:47,503 - __main__ - INFO - 🎉 DEBUG: Transitioning to QA phase!
2025-05-30 22:54:54,398 - __main__ - INFO - Chat request received - Phase: qa, Language: hebrew
2025-05-30 22:54:54,398 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number='123456789' gender='זכר' age=2 hmo_name='כללית' hmo_card_number=None insurance_tier='כסף'
2025-05-30 22:54:54,398 - __main__ - INFO - 🤔 Hypothetical context detected: {'hmo': 'מכבי', 'tier': None, 'is_comparison': True, 'multiple_hmos': True, 'multiple_tiers': False, 'is_followup_hypothetical': False}
2025-05-30 22:54:54,399 - __main__ - INFO - 📋 Identified relevant services: []
2025-05-30 22:54:54,399 - __main__ - INFO - 🔍 Starting get_comprehensive_knowledge_context
2025-05-30 22:54:54,399 - __main__ - INFO - 👤 User info: HMO=כללית, Tier=כסף
2025-05-30 22:54:54,399 - __main__ - INFO - 🤔 Hypothetical context: {'hmo': 'מכבי', 'tier': None, 'is_comparison': True, 'multiple_hmos': True, 'multiple_tiers': False, 'is_followup_hypothetical': False}
2025-05-30 22:54:54,399 - __main__ - INFO - 🌐 Hypothetical context detected - loading ALL knowledge base
2025-05-30 22:54:54,399 - __main__ - INFO - 📋 Using ALL services: ['dental', 'optometry', 'pregnancy', 'alternative', 'communication_clinic', 'workshops']
2025-05-30 22:54:54,399 - __main__ - INFO - 📝 Knowledge context length: 13999
2025-05-30 22:54:54,399 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 22:54:54,399 - __main__ - INFO - Knowledge context length: 13999 chars
2025-05-30 22:54:56,022 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 22:54:56,024 - __main__ - INFO - Chat response generated successfully - Length: 117 chars
2025-05-30 22:55:12,185 - __main__ - INFO - Chat request received - Phase: qa, Language: hebrew
2025-05-30 22:55:12,186 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number='123456789' gender='זכר' age=2 hmo_name='כללית' hmo_card_number=None insurance_tier='כסף'
2025-05-30 22:55:12,186 - __main__ - INFO - 🤔 Hypothetical context detected: {'hmo': 'כללית', 'tier': 'כסף', 'is_comparison': False, 'multiple_hmos': False, 'multiple_tiers': False, 'is_followup_hypothetical': False}
2025-05-30 22:55:12,186 - __main__ - INFO - 📋 Identified relevant services: ['pregnancy']
2025-05-30 22:55:12,186 - __main__ - INFO - 🔍 Starting get_comprehensive_knowledge_context
2025-05-30 22:55:12,186 - __main__ - INFO - 👤 User info: HMO=כללית, Tier=כסף
2025-05-30 22:55:12,186 - __main__ - INFO - 🤔 Hypothetical context: {'hmo': 'כללית', 'tier': 'כסף', 'is_comparison': False, 'multiple_hmos': False, 'multiple_tiers': False, 'is_followup_hypothetical': False}
2025-05-30 22:55:12,186 - __main__ - INFO - 🌐 Hypothetical context detected - loading ALL knowledge base
2025-05-30 22:55:12,186 - __main__ - INFO - 📋 Using ALL services: ['dental', 'optometry', 'pregnancy', 'alternative', 'communication_clinic', 'workshops']
2025-05-30 22:55:12,186 - __main__ - INFO - 📝 Knowledge context length: 3837
2025-05-30 22:55:12,186 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 22:55:12,186 - __main__ - INFO - Knowledge context length: 3837 chars
2025-05-30 22:55:14,863 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 22:55:14,865 - __main__ - INFO - Chat response generated successfully - Length: 340 chars
2025-05-30 22:55:19,815 - __main__ - INFO - Chat request received - Phase: qa, Language: hebrew
2025-05-30 22:55:19,816 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number='123456789' gender='זכר' age=2 hmo_name='כללית' hmo_card_number=None insurance_tier='כסף'
2025-05-30 22:55:19,816 - __main__ - INFO - 🤔 Hypothetical context detected: {'hmo': 'מכבי', 'tier': None, 'is_comparison': True, 'multiple_hmos': False, 'multiple_tiers': False, 'is_followup_hypothetical': True}
2025-05-30 22:55:19,816 - __main__ - INFO - 📋 Identified relevant services: ['pregnancy']
2025-05-30 22:55:19,816 - __main__ - INFO - 🔍 Starting get_comprehensive_knowledge_context
2025-05-30 22:55:19,816 - __main__ - INFO - 👤 User info: HMO=כללית, Tier=כסף
2025-05-30 22:55:19,816 - __main__ - INFO - 🤔 Hypothetical context: {'hmo': 'מכבי', 'tier': None, 'is_comparison': True, 'multiple_hmos': False, 'multiple_tiers': False, 'is_followup_hypothetical': True}
2025-05-30 22:55:19,816 - __main__ - INFO - 🌐 Hypothetical context detected - loading ALL knowledge base
2025-05-30 22:55:19,816 - __main__ - INFO - 📋 Using ALL services: ['dental', 'optometry', 'pregnancy', 'alternative', 'communication_clinic', 'workshops']
2025-05-30 22:55:19,816 - __main__ - INFO - 📝 Knowledge context length: 6315
2025-05-30 22:55:19,816 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 22:55:19,816 - __main__ - INFO - Knowledge context length: 6315 chars
2025-05-30 22:55:22,133 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 22:55:22,135 - __main__ - INFO - Chat response generated successfully - Length: 343 chars
2025-05-30 22:55:36,000 - __main__ - INFO - Chat request received - Phase: qa, Language: hebrew
2025-05-30 22:55:36,000 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number='123456789' gender='זכר' age=2 hmo_name='כללית' hmo_card_number=None insurance_tier='כסף'
2025-05-30 22:55:36,000 - __main__ - INFO - 🤔 Hypothetical context detected: {'hmo': 'מכבי', 'tier': None, 'is_comparison': True, 'multiple_hmos': True, 'multiple_tiers': False, 'is_followup_hypothetical': False}
2025-05-30 22:55:36,000 - __main__ - INFO - 📋 Identified relevant services: ['pregnancy']
2025-05-30 22:55:36,000 - __main__ - INFO - 🔍 Starting get_comprehensive_knowledge_context
2025-05-30 22:55:36,000 - __main__ - INFO - 👤 User info: HMO=כללית, Tier=כסף
2025-05-30 22:55:36,000 - __main__ - INFO - 🤔 Hypothetical context: {'hmo': 'מכבי', 'tier': None, 'is_comparison': True, 'multiple_hmos': True, 'multiple_tiers': False, 'is_followup_hypothetical': False}
2025-05-30 22:55:36,000 - __main__ - INFO - 🌐 Hypothetical context detected - loading ALL knowledge base
2025-05-30 22:55:36,001 - __main__ - INFO - 📋 Using ALL services: ['dental', 'optometry', 'pregnancy', 'alternative', 'communication_clinic', 'workshops']
2025-05-30 22:55:36,001 - __main__ - INFO - 📝 Knowledge context length: 13999
2025-05-30 22:55:36,001 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 22:55:36,001 - __main__ - INFO - Knowledge context length: 13999 chars
2025-05-30 22:55:37,290 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 22:55:37,292 - __main__ - INFO - Chat response generated successfully - Length: 117 chars
2025-05-30 23:06:39,714 - __main__ - INFO - Azure OpenAI client initialized successfully
2025-05-30 23:06:41,235 - __main__ - INFO - health check
2025-05-30 23:06:42,285 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 23:06:42,286 - __main__ - INFO - message_lower: בואו נתחיל באיסוף המידע
2025-05-30 23:06:42,286 - __main__ - INFO - Skipping extraction - message appears to be from assistant: בואו נתחיל באיסוף המידע
2025-05-30 23:06:42,286 - __main__ - INFO - Updated user info: first_name=None last_name=None id_number=None gender=None age=None hmo_name=None hmo_card_number=None insurance_tier=None
2025-05-30 23:06:42,286 - __main__ - INFO - 🔄 DEBUG: Collection complete, checking for confirmation...
2025-05-30 23:06:42,286 - __main__ - INFO - 📝 DEBUG: User message: 'בואו נתחיל באיסוף המידע'
2025-05-30 23:06:42,286 - __main__ - INFO - Messege from user: בואו נתחיל באיסוף המידע
2025-05-30 23:06:42,286 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 23:06:42,286 - __main__ - INFO - 🔍 DEBUG: Confirmation words found: []
2025-05-30 23:06:42,286 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 23:06:42,286 - __main__ - INFO - ❌ DEBUG: No confirmation or question detected, staying in collection phase
2025-05-30 23:06:42,286 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 23:06:42,286 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 23:06:45,981 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 23:06:45,987 - __main__ - INFO - Chat response generated successfully - Length: 431 chars
2025-05-30 23:06:50,102 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 23:06:50,102 - __main__ - INFO - message_lower: אור מאירי
2025-05-30 23:06:50,102 - __main__ - INFO - Extracted full name: אור מאירי
2025-05-30 23:06:50,103 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number=None gender=None age=None hmo_name=None hmo_card_number=None insurance_tier=None
2025-05-30 23:06:50,103 - __main__ - INFO - 🔄 DEBUG: Collection complete, checking for confirmation...
2025-05-30 23:06:50,103 - __main__ - INFO - 📝 DEBUG: User message: 'אור מאירי'
2025-05-30 23:06:50,103 - __main__ - INFO - Messege from user: אור מאירי
2025-05-30 23:06:50,103 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 23:06:50,103 - __main__ - INFO - 🔍 DEBUG: Confirmation words found: []
2025-05-30 23:06:50,103 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 23:06:50,103 - __main__ - INFO - ❌ DEBUG: No confirmation or question detected, staying in collection phase
2025-05-30 23:06:50,103 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 23:06:50,103 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 23:06:50,909 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 23:06:50,909 - __main__ - INFO - Chat response generated successfully - Length: 108 chars
2025-05-30 23:06:55,093 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 23:06:55,093 - __main__ - INFO - message_lower: 123456789
2025-05-30 23:06:55,093 - __main__ - INFO - Extracted ID number: 123456789
2025-05-30 23:06:55,093 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number='123456789' gender=None age=None hmo_name=None hmo_card_number=None insurance_tier=None
2025-05-30 23:06:55,093 - __main__ - INFO - 🔄 DEBUG: Collection complete, checking for confirmation...
2025-05-30 23:06:55,093 - __main__ - INFO - 📝 DEBUG: User message: '123456789'
2025-05-30 23:06:55,093 - __main__ - INFO - Messege from user: 123456789
2025-05-30 23:06:55,093 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 23:06:55,093 - __main__ - INFO - 🔍 DEBUG: Confirmation words found: []
2025-05-30 23:06:55,093 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 23:06:55,093 - __main__ - INFO - ❌ DEBUG: No confirmation or question detected, staying in collection phase
2025-05-30 23:06:55,093 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 23:06:55,093 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 23:06:55,789 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 23:06:55,789 - __main__ - INFO - Chat response generated successfully - Length: 97 chars
2025-05-30 23:06:57,360 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 23:06:57,360 - __main__ - INFO - message_lower: זכר
2025-05-30 23:06:57,360 - __main__ - INFO - Extracted gender: זכר
2025-05-30 23:06:57,360 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number='123456789' gender='זכר' age=None hmo_name=None hmo_card_number=None insurance_tier=None
2025-05-30 23:06:57,360 - __main__ - INFO - 🔄 DEBUG: Collection complete, checking for confirmation...
2025-05-30 23:06:57,360 - __main__ - INFO - 📝 DEBUG: User message: 'זכר'
2025-05-30 23:06:57,360 - __main__ - INFO - Messege from user: זכר
2025-05-30 23:06:57,360 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 23:06:57,360 - __main__ - INFO - 🔍 DEBUG: Confirmation words found: []
2025-05-30 23:06:57,360 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 23:06:57,360 - __main__ - INFO - ❌ DEBUG: No confirmation or question detected, staying in collection phase
2025-05-30 23:06:57,360 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 23:06:57,360 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 23:06:57,906 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 23:06:57,906 - __main__ - INFO - Chat response generated successfully - Length: 87 chars
2025-05-30 23:06:59,166 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 23:06:59,166 - __main__ - INFO - message_lower: 2
2025-05-30 23:06:59,166 - __main__ - INFO - Extracted age: 2
2025-05-30 23:06:59,166 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number='123456789' gender='זכר' age=2 hmo_name=None hmo_card_number=None insurance_tier=None
2025-05-30 23:06:59,166 - __main__ - INFO - 🔄 DEBUG: Collection complete, checking for confirmation...
2025-05-30 23:06:59,166 - __main__ - INFO - 📝 DEBUG: User message: '2'
2025-05-30 23:06:59,166 - __main__ - INFO - Messege from user: 2
2025-05-30 23:06:59,166 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 23:06:59,166 - __main__ - INFO - 🔍 DEBUG: Confirmation words found: []
2025-05-30 23:06:59,166 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 23:06:59,166 - __main__ - INFO - ❌ DEBUG: No confirmation or question detected, staying in collection phase
2025-05-30 23:06:59,166 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 23:06:59,166 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 23:06:59,967 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 23:06:59,970 - __main__ - INFO - Chat response generated successfully - Length: 88 chars
2025-05-30 23:07:02,477 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 23:07:02,477 - __main__ - INFO - message_lower: מגבי
2025-05-30 23:07:02,478 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number='123456789' gender='זכר' age=2 hmo_name=None hmo_card_number=None insurance_tier=None
2025-05-30 23:07:02,478 - __main__ - INFO - 🔄 DEBUG: Collection complete, checking for confirmation...
2025-05-30 23:07:02,478 - __main__ - INFO - 📝 DEBUG: User message: 'מגבי'
2025-05-30 23:07:02,478 - __main__ - INFO - Messege from user: מגבי
2025-05-30 23:07:02,478 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 23:07:02,478 - __main__ - INFO - 🔍 DEBUG: Confirmation words found: []
2025-05-30 23:07:02,478 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 23:07:02,478 - __main__ - INFO - ❌ DEBUG: No confirmation or question detected, staying in collection phase
2025-05-30 23:07:02,478 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 23:07:02,478 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 23:07:03,535 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 23:07:03,536 - __main__ - INFO - Chat response generated successfully - Length: 47 chars
2025-05-30 23:07:05,481 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 23:07:05,481 - __main__ - INFO - message_lower: מכבי
2025-05-30 23:07:05,481 - __main__ - INFO - Extracted HMO: מכבי
2025-05-30 23:07:05,481 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number='123456789' gender='זכר' age=2 hmo_name='מכבי' hmo_card_number=None insurance_tier=None
2025-05-30 23:07:05,481 - __main__ - INFO - 🔄 DEBUG: Collection complete, checking for confirmation...
2025-05-30 23:07:05,481 - __main__ - INFO - 📝 DEBUG: User message: 'מכבי'
2025-05-30 23:07:05,481 - __main__ - INFO - Messege from user: מכבי
2025-05-30 23:07:05,482 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 23:07:05,482 - __main__ - INFO - 🔍 DEBUG: Confirmation words found: []
2025-05-30 23:07:05,482 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 23:07:05,482 - __main__ - INFO - ❌ DEBUG: No confirmation or question detected, staying in collection phase
2025-05-30 23:07:05,482 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 23:07:05,482 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 23:07:06,554 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 23:07:06,556 - __main__ - INFO - Chat response generated successfully - Length: 122 chars
2025-05-30 23:07:08,798 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 23:07:08,798 - __main__ - INFO - message_lower: 123456789
2025-05-30 23:07:08,798 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number='123456789' gender='זכר' age=2 hmo_name='מכבי' hmo_card_number=None insurance_tier=None
2025-05-30 23:07:08,798 - __main__ - INFO - 🔄 DEBUG: Collection complete, checking for confirmation...
2025-05-30 23:07:08,798 - __main__ - INFO - 📝 DEBUG: User message: '123456789'
2025-05-30 23:07:08,798 - __main__ - INFO - Messege from user: 123456789
2025-05-30 23:07:08,798 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 23:07:08,798 - __main__ - INFO - 🔍 DEBUG: Confirmation words found: []
2025-05-30 23:07:08,798 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 23:07:08,798 - __main__ - INFO - ❌ DEBUG: No confirmation or question detected, staying in collection phase
2025-05-30 23:07:08,798 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 23:07:08,798 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 23:07:09,635 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 23:07:09,637 - __main__ - INFO - Chat response generated successfully - Length: 110 chars
2025-05-30 23:07:13,582 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 23:07:13,582 - __main__ - INFO - message_lower: זהב
2025-05-30 23:07:13,582 - __main__ - INFO - Extracted insurance tier: זהב
2025-05-30 23:07:13,582 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number='123456789' gender='זכר' age=2 hmo_name='מכבי' hmo_card_number=None insurance_tier='זהב'
2025-05-30 23:07:13,582 - __main__ - INFO - 🔄 DEBUG: Collection complete, checking for confirmation...
2025-05-30 23:07:13,582 - __main__ - INFO - 📝 DEBUG: User message: 'זהב'
2025-05-30 23:07:13,582 - __main__ - INFO - Messege from user: זהב
2025-05-30 23:07:13,582 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 23:07:13,582 - __main__ - INFO - 🔍 DEBUG: Confirmation words found: []
2025-05-30 23:07:13,582 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 23:07:13,582 - __main__ - INFO - ❌ DEBUG: No confirmation or question detected, staying in collection phase
2025-05-30 23:07:13,583 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 23:07:13,583 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 23:07:15,320 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 23:07:15,322 - __main__ - INFO - Chat response generated successfully - Length: 285 chars
2025-05-30 23:07:17,871 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 23:07:17,871 - __main__ - INFO - message_lower: נכון
2025-05-30 23:07:17,871 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number='123456789' gender='זכר' age=2 hmo_name='מכבי' hmo_card_number=None insurance_tier='זהב'
2025-05-30 23:07:17,871 - __main__ - INFO - 🔄 DEBUG: Collection complete, checking for confirmation...
2025-05-30 23:07:17,871 - __main__ - INFO - 📝 DEBUG: User message: 'נכון'
2025-05-30 23:07:17,871 - __main__ - INFO - Messege from user: נכון
2025-05-30 23:07:17,872 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: True
2025-05-30 23:07:17,872 - __main__ - INFO - 🔍 DEBUG: Confirmation words found: ['נכון', 'נכון']
2025-05-30 23:07:17,872 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 23:07:17,872 - __main__ - INFO - 🎉 DEBUG: Transitioning to QA phase!
2025-05-30 23:07:25,268 - __main__ - INFO - Chat request received - Phase: qa, Language: hebrew
2025-05-30 23:07:25,268 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number='123456789' gender='זכר' age=2 hmo_name='מכבי' hmo_card_number=None insurance_tier='זהב'
2025-05-30 23:07:25,268 - __main__ - INFO - 🤔 Hypothetical context detected: {'hmo': None, 'hmos': ['מכבי', 'כללית'], 'tier': None, 'tiers': [], 'is_comparison': True, 'multiple_hmos': True, 'multiple_tiers': False, 'is_followup_hypothetical': False}
2025-05-30 23:07:25,268 - __main__ - INFO - 📋 Identified relevant services: []
2025-05-30 23:07:25,268 - __main__ - INFO - 🔍 Starting get_comprehensive_knowledge_context
2025-05-30 23:07:25,268 - __main__ - INFO - 👤 User info: HMO=מכבי, Tier=זהב
2025-05-30 23:07:25,268 - __main__ - INFO - 🤔 Hypothetical context: {'hmo': None, 'hmos': ['מכבי', 'כללית'], 'tier': None, 'tiers': [], 'is_comparison': True, 'multiple_hmos': True, 'multiple_tiers': False, 'is_followup_hypothetical': False}
2025-05-30 23:07:25,269 - __main__ - INFO - 🌐 Hypothetical context detected - loading ALL knowledge base
2025-05-30 23:07:25,269 - __main__ - INFO - 📋 Using ALL services: ['dental', 'optometry', 'pregnancy', 'alternative', 'communication_clinic', 'workshops']
2025-05-30 23:07:25,269 - __main__ - INFO - 📝 Knowledge context length: 13999
2025-05-30 23:07:25,269 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 23:07:25,269 - __main__ - INFO - Knowledge context length: 13999 chars
2025-05-30 23:07:48,527 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 23:07:48,530 - __main__ - INFO - Chat response generated successfully - Length: 4249 chars
2025-05-30 23:08:10,871 - __main__ - INFO - Chat request received - Phase: qa, Language: hebrew
2025-05-30 23:08:10,872 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number='123456789' gender='זכר' age=2 hmo_name='מכבי' hmo_card_number=None insurance_tier='זהב'
2025-05-30 23:08:10,873 - __main__ - INFO - 🤔 Hypothetical context detected: {'hmo': None, 'hmos': [], 'tier': None, 'tiers': ['זהב', 'כסף'], 'is_comparison': False, 'multiple_hmos': False, 'multiple_tiers': True, 'is_followup_hypothetical': False}
2025-05-30 23:08:10,873 - __main__ - INFO - 📋 Identified relevant services: ['dental', 'optometry', 'pregnancy', 'alternative', 'communication_clinic', 'workshops']
2025-05-30 23:08:10,873 - __main__ - INFO - 🔍 Starting get_comprehensive_knowledge_context
2025-05-30 23:08:10,873 - __main__ - INFO - 👤 User info: HMO=מכבי, Tier=זהב
2025-05-30 23:08:10,873 - __main__ - INFO - 🤔 Hypothetical context: {'hmo': None, 'hmos': [], 'tier': None, 'tiers': ['זהב', 'כסף'], 'is_comparison': False, 'multiple_hmos': False, 'multiple_tiers': True, 'is_followup_hypothetical': False}
2025-05-30 23:08:10,873 - __main__ - INFO - 🌐 Hypothetical context detected - loading ALL knowledge base
2025-05-30 23:08:10,873 - __main__ - INFO - 📋 Using ALL services: ['dental', 'optometry', 'pregnancy', 'alternative', 'communication_clinic', 'workshops']
2025-05-30 23:08:10,873 - __main__ - INFO - 📝 Knowledge context length: 6315
2025-05-30 23:08:10,873 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 23:08:10,873 - __main__ - INFO - Knowledge context length: 6315 chars
2025-05-30 23:08:35,869 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 23:08:35,871 - __main__ - INFO - Chat response generated successfully - Length: 4077 chars
2025-05-30 23:08:51,080 - __main__ - INFO - Chat request received - Phase: qa, Language: hebrew
2025-05-30 23:08:51,080 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number='123456789' gender='זכר' age=2 hmo_name='מכבי' hmo_card_number=None insurance_tier='זהב'
2025-05-30 23:08:51,080 - __main__ - INFO - 🤔 Hypothetical context detected: {'hmo': 'מאוחדת', 'hmos': ['מאוחדת'], 'tier': 'ארד', 'tiers': ['ארד'], 'is_comparison': False, 'multiple_hmos': False, 'multiple_tiers': False, 'is_followup_hypothetical': True}
2025-05-30 23:08:51,080 - __main__ - INFO - 📋 Identified relevant services: ['dental', 'optometry', 'pregnancy', 'alternative', 'communication_clinic', 'workshops']
2025-05-30 23:08:51,080 - __main__ - INFO - 🔍 Starting get_comprehensive_knowledge_context
2025-05-30 23:08:51,080 - __main__ - INFO - 👤 User info: HMO=מכבי, Tier=זהב
2025-05-30 23:08:51,080 - __main__ - INFO - 🤔 Hypothetical context: {'hmo': 'מאוחדת', 'hmos': ['מאוחדת'], 'tier': 'ארד', 'tiers': ['ארד'], 'is_comparison': False, 'multiple_hmos': False, 'multiple_tiers': False, 'is_followup_hypothetical': True}
2025-05-30 23:08:51,080 - __main__ - INFO - 🌐 Hypothetical context detected - loading ALL knowledge base
2025-05-30 23:08:51,080 - __main__ - INFO - 📋 Using ALL services: ['dental', 'optometry', 'pregnancy', 'alternative', 'communication_clinic', 'workshops']
2025-05-30 23:08:51,080 - __main__ - INFO - 📝 Knowledge context length: 3879
2025-05-30 23:08:51,080 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 23:08:51,081 - __main__ - INFO - Knowledge context length: 3879 chars
2025-05-30 23:08:52,363 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 23:08:52,365 - __main__ - INFO - Chat response generated successfully - Length: 31 chars
2025-05-30 23:09:00,735 - __main__ - INFO - Chat request received - Phase: qa, Language: hebrew
2025-05-30 23:09:00,735 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number='123456789' gender='זכר' age=2 hmo_name='מכבי' hmo_card_number=None insurance_tier='זהב'
2025-05-30 23:09:00,736 - __main__ - INFO - 🤔 Hypothetical context detected: {'hmo': None, 'hmos': [], 'tier': 'ארד', 'tiers': ['ארד'], 'is_comparison': False, 'multiple_hmos': False, 'multiple_tiers': False, 'is_followup_hypothetical': False}
2025-05-30 23:09:00,736 - __main__ - INFO - 📋 Identified relevant services: ['dental', 'optometry', 'pregnancy', 'alternative', 'communication_clinic', 'workshops']
2025-05-30 23:09:00,736 - __main__ - INFO - 🔍 Starting get_comprehensive_knowledge_context
2025-05-30 23:09:00,736 - __main__ - INFO - 👤 User info: HMO=מכבי, Tier=זהב
2025-05-30 23:09:00,736 - __main__ - INFO - 🤔 Hypothetical context: {'hmo': None, 'hmos': [], 'tier': 'ארד', 'tiers': ['ארד'], 'is_comparison': False, 'multiple_hmos': False, 'multiple_tiers': False, 'is_followup_hypothetical': False}
2025-05-30 23:09:00,736 - __main__ - INFO - 🌐 Hypothetical context detected - loading ALL knowledge base
2025-05-30 23:09:00,736 - __main__ - INFO - 📋 Using ALL services: ['dental', 'optometry', 'pregnancy', 'alternative', 'communication_clinic', 'workshops']
2025-05-30 23:09:00,736 - __main__ - INFO - 📝 Knowledge context length: 3807
2025-05-30 23:09:00,736 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 23:09:00,736 - __main__ - INFO - Knowledge context length: 3807 chars
2025-05-30 23:09:01,925 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 23:09:01,927 - __main__ - INFO - Chat response generated successfully - Length: 31 chars
2025-05-30 23:10:32,153 - __main__ - INFO - Chat request received - Phase: qa, Language: hebrew
2025-05-30 23:10:32,155 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number='123456789' gender='זכר' age=2 hmo_name='מכבי' hmo_card_number=None insurance_tier='זהב'
2025-05-30 23:10:32,155 - __main__ - INFO - 🤔 Hypothetical context detected: {'hmo': 'מאוחדת', 'hmos': ['מאוחדת'], 'tier': None, 'tiers': [], 'is_comparison': True, 'multiple_hmos': False, 'multiple_tiers': False, 'is_followup_hypothetical': True}
2025-05-30 23:10:32,155 - __main__ - INFO - 📋 Identified relevant services: ['pregnancy']
2025-05-30 23:10:32,155 - __main__ - INFO - 🔍 Starting get_comprehensive_knowledge_context
2025-05-30 23:10:32,155 - __main__ - INFO - 👤 User info: HMO=מכבי, Tier=זהב
2025-05-30 23:10:32,155 - __main__ - INFO - 🤔 Hypothetical context: {'hmo': 'מאוחדת', 'hmos': ['מאוחדת'], 'tier': None, 'tiers': [], 'is_comparison': True, 'multiple_hmos': False, 'multiple_tiers': False, 'is_followup_hypothetical': True}
2025-05-30 23:10:32,155 - __main__ - INFO - 🌐 Hypothetical context detected - loading ALL knowledge base
2025-05-30 23:10:32,155 - __main__ - INFO - 📋 Using ALL services: ['dental', 'optometry', 'pregnancy', 'alternative', 'communication_clinic', 'workshops']
2025-05-30 23:10:32,155 - __main__ - INFO - 📝 Knowledge context length: 6327
2025-05-30 23:10:32,155 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 23:10:32,156 - __main__ - INFO - Knowledge context length: 6327 chars
2025-05-30 23:10:34,941 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 23:10:34,944 - __main__ - INFO - Chat response generated successfully - Length: 365 chars
2025-05-30 23:17:49,930 - __main__ - INFO - Azure OpenAI client initialized successfully
2025-05-30 23:17:51,449 - __main__ - INFO - health check
2025-05-30 23:17:52,496 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 23:17:52,496 - __main__ - INFO - message_lower: בואו נתחיל באיסוף המידע
2025-05-30 23:17:52,496 - __main__ - INFO - Skipping extraction - message appears to be from assistant: בואו נתחיל באיסוף המידע
2025-05-30 23:17:52,496 - __main__ - INFO - Updated user info: first_name=None last_name=None id_number=None gender=None age=None hmo_name=None hmo_card_number=None insurance_tier=None
2025-05-30 23:17:52,496 - __main__ - INFO - 🔄 DEBUG: Collection complete, checking for confirmation...
2025-05-30 23:17:52,496 - __main__ - INFO - 📝 DEBUG: User message: 'בואו נתחיל באיסוף המידע'
2025-05-30 23:17:52,496 - __main__ - INFO - Messege from user: בואו נתחיל באיסוף המידע
2025-05-30 23:17:52,496 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 23:17:52,496 - __main__ - INFO - 🔍 DEBUG: Confirmation words found: []
2025-05-30 23:17:52,496 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 23:17:52,497 - __main__ - INFO - ❌ DEBUG: No confirmation or question detected, staying in collection phase
2025-05-30 23:17:52,497 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 23:17:52,497 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 23:17:55,087 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 23:17:55,093 - __main__ - INFO - Chat response generated successfully - Length: 439 chars
2025-05-30 23:18:07,503 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 23:18:07,503 - __main__ - INFO - message_lower: אור מאירי
2025-05-30 23:18:07,503 - __main__ - INFO - Extracted full name: אור מאירי
2025-05-30 23:18:07,504 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number=None gender=None age=None hmo_name=None hmo_card_number=None insurance_tier=None
2025-05-30 23:18:07,504 - __main__ - INFO - 🔄 DEBUG: Collection complete, checking for confirmation...
2025-05-30 23:18:07,504 - __main__ - INFO - 📝 DEBUG: User message: 'אור מאירי'
2025-05-30 23:18:07,504 - __main__ - INFO - Messege from user: אור מאירי
2025-05-30 23:18:07,504 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 23:18:07,504 - __main__ - INFO - 🔍 DEBUG: Confirmation words found: []
2025-05-30 23:18:07,504 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 23:18:07,504 - __main__ - INFO - ❌ DEBUG: No confirmation or question detected, staying in collection phase
2025-05-30 23:18:07,504 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 23:18:07,504 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 23:18:08,806 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 23:18:08,806 - __main__ - INFO - Chat response generated successfully - Length: 141 chars
2025-05-30 23:18:12,714 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 23:18:12,714 - __main__ - INFO - message_lower: 123456789
2025-05-30 23:18:12,714 - __main__ - INFO - Extracted ID number: 123456789
2025-05-30 23:18:12,714 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number='123456789' gender=None age=None hmo_name=None hmo_card_number=None insurance_tier=None
2025-05-30 23:18:12,714 - __main__ - INFO - 🔄 DEBUG: Collection complete, checking for confirmation...
2025-05-30 23:18:12,714 - __main__ - INFO - 📝 DEBUG: User message: '123456789'
2025-05-30 23:18:12,714 - __main__ - INFO - Messege from user: 123456789
2025-05-30 23:18:12,715 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 23:18:12,715 - __main__ - INFO - 🔍 DEBUG: Confirmation words found: []
2025-05-30 23:18:12,715 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 23:18:12,715 - __main__ - INFO - ❌ DEBUG: No confirmation or question detected, staying in collection phase
2025-05-30 23:18:12,715 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 23:18:12,715 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 23:18:13,373 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 23:18:13,375 - __main__ - INFO - Chat response generated successfully - Length: 122 chars
2025-05-30 23:18:17,660 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 23:18:17,661 - __main__ - INFO - message_lower: זכר
2025-05-30 23:18:17,661 - __main__ - INFO - Extracted gender: זכר
2025-05-30 23:18:17,661 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number='123456789' gender='זכר' age=None hmo_name=None hmo_card_number=None insurance_tier=None
2025-05-30 23:18:17,661 - __main__ - INFO - 🔄 DEBUG: Collection complete, checking for confirmation...
2025-05-30 23:18:17,661 - __main__ - INFO - 📝 DEBUG: User message: 'זכר'
2025-05-30 23:18:17,661 - __main__ - INFO - Messege from user: זכר
2025-05-30 23:18:17,662 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 23:18:17,662 - __main__ - INFO - 🔍 DEBUG: Confirmation words found: []
2025-05-30 23:18:17,662 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 23:18:17,662 - __main__ - INFO - ❌ DEBUG: No confirmation or question detected, staying in collection phase
2025-05-30 23:18:17,662 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 23:18:17,662 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 23:18:18,387 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 23:18:18,388 - __main__ - INFO - Chat response generated successfully - Length: 97 chars
2025-05-30 23:18:19,983 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 23:18:19,984 - __main__ - INFO - message_lower: 2
2025-05-30 23:18:19,984 - __main__ - INFO - Extracted age: 2
2025-05-30 23:18:19,984 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number='123456789' gender='זכר' age=2 hmo_name=None hmo_card_number=None insurance_tier=None
2025-05-30 23:18:19,984 - __main__ - INFO - 🔄 DEBUG: Collection complete, checking for confirmation...
2025-05-30 23:18:19,984 - __main__ - INFO - 📝 DEBUG: User message: '2'
2025-05-30 23:18:19,984 - __main__ - INFO - Messege from user: 2
2025-05-30 23:18:19,984 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 23:18:19,984 - __main__ - INFO - 🔍 DEBUG: Confirmation words found: []
2025-05-30 23:18:19,984 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 23:18:19,984 - __main__ - INFO - ❌ DEBUG: No confirmation or question detected, staying in collection phase
2025-05-30 23:18:19,984 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 23:18:19,984 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 23:18:20,827 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 23:18:20,829 - __main__ - INFO - Chat response generated successfully - Length: 147 chars
2025-05-30 23:18:34,117 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 23:18:34,118 - __main__ - INFO - message_lower: כללית
2025-05-30 23:18:34,118 - __main__ - INFO - Extracted HMO: כללית
2025-05-30 23:18:34,118 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number='123456789' gender='זכר' age=2 hmo_name='כללית' hmo_card_number=None insurance_tier=None
2025-05-30 23:18:34,118 - __main__ - INFO - 🔄 DEBUG: Collection complete, checking for confirmation...
2025-05-30 23:18:34,118 - __main__ - INFO - 📝 DEBUG: User message: 'כללית'
2025-05-30 23:18:34,118 - __main__ - INFO - Messege from user: כללית
2025-05-30 23:18:34,118 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 23:18:34,118 - __main__ - INFO - 🔍 DEBUG: Confirmation words found: []
2025-05-30 23:18:34,118 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 23:18:34,118 - __main__ - INFO - ❌ DEBUG: No confirmation or question detected, staying in collection phase
2025-05-30 23:18:34,118 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 23:18:34,118 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 23:18:35,330 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 23:18:35,332 - __main__ - INFO - Chat response generated successfully - Length: 128 chars
2025-05-30 23:18:36,945 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 23:18:36,945 - __main__ - INFO - message_lower: 123456789
2025-05-30 23:18:36,946 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number='123456789' gender='זכר' age=2 hmo_name='כללית' hmo_card_number=None insurance_tier=None
2025-05-30 23:18:36,946 - __main__ - INFO - 🔄 DEBUG: Collection complete, checking for confirmation...
2025-05-30 23:18:36,946 - __main__ - INFO - 📝 DEBUG: User message: '123456789'
2025-05-30 23:18:36,946 - __main__ - INFO - Messege from user: 123456789
2025-05-30 23:18:36,946 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 23:18:36,946 - __main__ - INFO - 🔍 DEBUG: Confirmation words found: []
2025-05-30 23:18:36,946 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 23:18:36,946 - __main__ - INFO - ❌ DEBUG: No confirmation or question detected, staying in collection phase
2025-05-30 23:18:36,946 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 23:18:36,946 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 23:18:38,344 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 23:18:38,346 - __main__ - INFO - Chat response generated successfully - Length: 138 chars
2025-05-30 23:18:41,017 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 23:18:41,017 - __main__ - INFO - message_lower: כסף
2025-05-30 23:18:41,017 - __main__ - INFO - Extracted insurance tier: כסף
2025-05-30 23:18:41,017 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number='123456789' gender='זכר' age=2 hmo_name='כללית' hmo_card_number=None insurance_tier='כסף'
2025-05-30 23:18:41,017 - __main__ - INFO - 🔄 DEBUG: Collection complete, checking for confirmation...
2025-05-30 23:18:41,017 - __main__ - INFO - 📝 DEBUG: User message: 'כסף'
2025-05-30 23:18:41,017 - __main__ - INFO - Messege from user: כסף
2025-05-30 23:18:41,017 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 23:18:41,017 - __main__ - INFO - 🔍 DEBUG: Confirmation words found: []
2025-05-30 23:18:41,017 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 23:18:41,018 - __main__ - INFO - ❌ DEBUG: No confirmation or question detected, staying in collection phase
2025-05-30 23:18:41,018 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 23:18:41,018 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 23:18:42,395 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 23:18:42,398 - __main__ - INFO - Chat response generated successfully - Length: 259 chars
2025-05-30 23:18:44,828 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 23:18:44,829 - __main__ - INFO - message_lower: נכון
2025-05-30 23:18:44,829 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number='123456789' gender='זכר' age=2 hmo_name='כללית' hmo_card_number=None insurance_tier='כסף'
2025-05-30 23:18:44,829 - __main__ - INFO - 🔄 DEBUG: Collection complete, checking for confirmation...
2025-05-30 23:18:44,829 - __main__ - INFO - 📝 DEBUG: User message: 'נכון'
2025-05-30 23:18:44,829 - __main__ - INFO - Messege from user: נכון
2025-05-30 23:18:44,829 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: True
2025-05-30 23:18:44,829 - __main__ - INFO - 🔍 DEBUG: Confirmation words found: ['נכון', 'נכון']
2025-05-30 23:18:44,829 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 23:18:44,829 - __main__ - INFO - 🎉 DEBUG: Transitioning to QA phase!
2025-05-30 23:18:56,755 - __main__ - INFO - Chat request received - Phase: qa, Language: hebrew
2025-05-30 23:18:56,756 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number='123456789' gender='זכר' age=2 hmo_name='כללית' hmo_card_number=None insurance_tier='כסף'
2025-05-30 23:18:56,756 - __main__ - INFO - 🤔 Hypothetical context detected: {'hmo': None, 'hmos': ['מכבי', 'כללית'], 'tier': None, 'tiers': [], 'is_comparison': True, 'multiple_hmos': True, 'multiple_tiers': False, 'is_followup_hypothetical': False}
2025-05-30 23:18:56,756 - __main__ - INFO - 📋 Identified relevant services: []
2025-05-30 23:18:56,756 - __main__ - INFO - 🔍 Starting get_comprehensive_knowledge_context
2025-05-30 23:18:56,756 - __main__ - INFO - 👤 User info: HMO=כללית, Tier=כסף
2025-05-30 23:18:56,756 - __main__ - INFO - 🤔 Hypothetical context: {'hmo': None, 'hmos': ['מכבי', 'כללית'], 'tier': None, 'tiers': [], 'is_comparison': True, 'multiple_hmos': True, 'multiple_tiers': False, 'is_followup_hypothetical': False}
2025-05-30 23:18:56,756 - __main__ - INFO - 📋 Identified relevant services: []
2025-05-30 23:18:56,756 - __main__ - INFO - ⚠️ No relevant services found in current message
2025-05-30 23:18:56,756 - __main__ - INFO - 🔄 General comparison detected - using common services
2025-05-30 23:18:56,757 - __main__ - INFO - 📝 Knowledge context length: 5150
2025-05-30 23:18:56,757 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 23:18:56,757 - __main__ - INFO - Knowledge context length: 5150 chars
2025-05-30 23:18:57,858 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 23:18:57,860 - __main__ - INFO - Chat response generated successfully - Length: 31 chars
2025-05-30 23:22:21,992 - __main__ - INFO - Azure OpenAI client initialized successfully
2025-05-30 23:22:23,503 - __main__ - INFO - health check
2025-05-30 23:22:24,549 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 23:22:24,549 - __main__ - INFO - message_lower: בואו נתחיל באיסוף המידע
2025-05-30 23:22:24,549 - __main__ - INFO - Skipping extraction - message appears to be from assistant: בואו נתחיל באיסוף המידע
2025-05-30 23:22:24,549 - __main__ - INFO - Updated user info: first_name=None last_name=None id_number=None gender=None age=None hmo_name=None hmo_card_number=None insurance_tier=None
2025-05-30 23:22:24,549 - __main__ - INFO - 🔄 DEBUG: Collection complete, checking for confirmation...
2025-05-30 23:22:24,549 - __main__ - INFO - 📝 DEBUG: User message: 'בואו נתחיל באיסוף המידע'
2025-05-30 23:22:24,549 - __main__ - INFO - Messege from user: בואו נתחיל באיסוף המידע
2025-05-30 23:22:24,549 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 23:22:24,549 - __main__ - INFO - 🔍 DEBUG: Confirmation words found: []
2025-05-30 23:22:24,549 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 23:22:24,549 - __main__ - INFO - ❌ DEBUG: No confirmation or question detected, staying in collection phase
2025-05-30 23:22:24,549 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 23:22:24,549 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 23:22:27,579 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 23:22:27,585 - __main__ - INFO - Chat response generated successfully - Length: 561 chars
2025-05-30 23:22:31,746 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 23:22:31,746 - __main__ - INFO - message_lower: אור מאירי
2025-05-30 23:22:31,746 - __main__ - INFO - Extracted full name: אור מאירי
2025-05-30 23:22:31,747 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number=None gender=None age=None hmo_name=None hmo_card_number=None insurance_tier=None
2025-05-30 23:22:31,747 - __main__ - INFO - 🔄 DEBUG: Collection complete, checking for confirmation...
2025-05-30 23:22:31,747 - __main__ - INFO - 📝 DEBUG: User message: 'אור מאירי'
2025-05-30 23:22:31,747 - __main__ - INFO - Messege from user: אור מאירי
2025-05-30 23:22:31,747 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 23:22:31,747 - __main__ - INFO - 🔍 DEBUG: Confirmation words found: []
2025-05-30 23:22:31,747 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 23:22:31,747 - __main__ - INFO - ❌ DEBUG: No confirmation or question detected, staying in collection phase
2025-05-30 23:22:31,747 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 23:22:31,747 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 23:22:32,527 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 23:22:32,529 - __main__ - INFO - Chat response generated successfully - Length: 126 chars
2025-05-30 23:22:36,637 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 23:22:36,638 - __main__ - INFO - message_lower: 123456789
2025-05-30 23:22:36,638 - __main__ - INFO - Extracted ID number: 123456789
2025-05-30 23:22:36,638 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number='123456789' gender=None age=None hmo_name=None hmo_card_number=None insurance_tier=None
2025-05-30 23:22:36,638 - __main__ - INFO - 🔄 DEBUG: Collection complete, checking for confirmation...
2025-05-30 23:22:36,638 - __main__ - INFO - 📝 DEBUG: User message: '123456789'
2025-05-30 23:22:36,638 - __main__ - INFO - Messege from user: 123456789
2025-05-30 23:22:36,638 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 23:22:36,638 - __main__ - INFO - 🔍 DEBUG: Confirmation words found: []
2025-05-30 23:22:36,638 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 23:22:36,638 - __main__ - INFO - ❌ DEBUG: No confirmation or question detected, staying in collection phase
2025-05-30 23:22:36,638 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 23:22:36,638 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 23:22:37,611 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 23:22:37,612 - __main__ - INFO - Chat response generated successfully - Length: 101 chars
2025-05-30 23:22:40,748 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 23:22:40,748 - __main__ - INFO - message_lower: זכר
2025-05-30 23:22:40,748 - __main__ - INFO - Extracted gender: זכר
2025-05-30 23:22:40,748 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number='123456789' gender='זכר' age=None hmo_name=None hmo_card_number=None insurance_tier=None
2025-05-30 23:22:40,748 - __main__ - INFO - 🔄 DEBUG: Collection complete, checking for confirmation...
2025-05-30 23:22:40,748 - __main__ - INFO - 📝 DEBUG: User message: 'זכר'
2025-05-30 23:22:40,748 - __main__ - INFO - Messege from user: זכר
2025-05-30 23:22:40,748 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 23:22:40,748 - __main__ - INFO - 🔍 DEBUG: Confirmation words found: []
2025-05-30 23:22:40,749 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 23:22:40,749 - __main__ - INFO - ❌ DEBUG: No confirmation or question detected, staying in collection phase
2025-05-30 23:22:40,749 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 23:22:40,749 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 23:22:41,468 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 23:22:41,468 - __main__ - INFO - Chat response generated successfully - Length: 82 chars
2025-05-30 23:22:42,953 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 23:22:42,953 - __main__ - INFO - message_lower: 2
2025-05-30 23:22:42,954 - __main__ - INFO - Extracted age: 2
2025-05-30 23:22:42,954 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number='123456789' gender='זכר' age=2 hmo_name=None hmo_card_number=None insurance_tier=None
2025-05-30 23:22:42,954 - __main__ - INFO - 🔄 DEBUG: Collection complete, checking for confirmation...
2025-05-30 23:22:42,954 - __main__ - INFO - 📝 DEBUG: User message: '2'
2025-05-30 23:22:42,954 - __main__ - INFO - Messege from user: 2
2025-05-30 23:22:42,954 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 23:22:42,954 - __main__ - INFO - 🔍 DEBUG: Confirmation words found: []
2025-05-30 23:22:42,954 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 23:22:42,954 - __main__ - INFO - ❌ DEBUG: No confirmation or question detected, staying in collection phase
2025-05-30 23:22:42,954 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 23:22:42,954 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 23:22:43,868 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 23:22:43,870 - __main__ - INFO - Chat response generated successfully - Length: 91 chars
2025-05-30 23:22:44,837 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 23:22:44,837 - __main__ - INFO - message_lower: 123456789
2025-05-30 23:22:44,837 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number='123456789' gender='זכר' age=2 hmo_name=None hmo_card_number=None insurance_tier=None
2025-05-30 23:22:44,837 - __main__ - INFO - 🔄 DEBUG: Collection complete, checking for confirmation...
2025-05-30 23:22:44,837 - __main__ - INFO - 📝 DEBUG: User message: '123456789'
2025-05-30 23:22:44,837 - __main__ - INFO - Messege from user: 123456789
2025-05-30 23:22:44,838 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 23:22:44,838 - __main__ - INFO - 🔍 DEBUG: Confirmation words found: []
2025-05-30 23:22:44,838 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 23:22:44,838 - __main__ - INFO - ❌ DEBUG: No confirmation or question detected, staying in collection phase
2025-05-30 23:22:44,838 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 23:22:44,838 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 23:22:45,506 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 23:22:45,509 - __main__ - INFO - Chat response generated successfully - Length: 112 chars
2025-05-30 23:22:47,291 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 23:22:47,291 - __main__ - INFO - message_lower: מכבי
2025-05-30 23:22:47,291 - __main__ - INFO - Extracted HMO: מכבי
2025-05-30 23:22:47,291 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number='123456789' gender='זכר' age=2 hmo_name='מכבי' hmo_card_number=None insurance_tier=None
2025-05-30 23:22:47,291 - __main__ - INFO - 🔄 DEBUG: Collection complete, checking for confirmation...
2025-05-30 23:22:47,291 - __main__ - INFO - 📝 DEBUG: User message: 'מכבי'
2025-05-30 23:22:47,291 - __main__ - INFO - Messege from user: מכבי
2025-05-30 23:22:47,291 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 23:22:47,291 - __main__ - INFO - 🔍 DEBUG: Confirmation words found: []
2025-05-30 23:22:47,291 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 23:22:47,291 - __main__ - INFO - ❌ DEBUG: No confirmation or question detected, staying in collection phase
2025-05-30 23:22:47,292 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 23:22:47,292 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 23:22:51,186 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 23:22:51,188 - __main__ - INFO - Chat response generated successfully - Length: 139 chars
2025-05-30 23:22:53,289 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 23:22:53,289 - __main__ - INFO - message_lower: 123456789
2025-05-30 23:22:53,289 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number='123456789' gender='זכר' age=2 hmo_name='מכבי' hmo_card_number=None insurance_tier=None
2025-05-30 23:22:53,289 - __main__ - INFO - 🔄 DEBUG: Collection complete, checking for confirmation...
2025-05-30 23:22:53,289 - __main__ - INFO - 📝 DEBUG: User message: '123456789'
2025-05-30 23:22:53,289 - __main__ - INFO - Messege from user: 123456789
2025-05-30 23:22:53,289 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 23:22:53,289 - __main__ - INFO - 🔍 DEBUG: Confirmation words found: []
2025-05-30 23:22:53,289 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 23:22:53,289 - __main__ - INFO - ❌ DEBUG: No confirmation or question detected, staying in collection phase
2025-05-30 23:22:53,289 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 23:22:53,289 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 23:22:54,051 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 23:22:54,054 - __main__ - INFO - Chat response generated successfully - Length: 108 chars
2025-05-30 23:22:56,006 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 23:22:56,006 - __main__ - INFO - message_lower: זהב
2025-05-30 23:22:56,006 - __main__ - INFO - Extracted insurance tier: זהב
2025-05-30 23:22:56,006 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number='123456789' gender='זכר' age=2 hmo_name='מכבי' hmo_card_number=None insurance_tier='זהב'
2025-05-30 23:22:56,006 - __main__ - INFO - 🔄 DEBUG: Collection complete, checking for confirmation...
2025-05-30 23:22:56,006 - __main__ - INFO - 📝 DEBUG: User message: 'זהב'
2025-05-30 23:22:56,006 - __main__ - INFO - Messege from user: זהב
2025-05-30 23:22:56,006 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 23:22:56,006 - __main__ - INFO - 🔍 DEBUG: Confirmation words found: []
2025-05-30 23:22:56,006 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 23:22:56,006 - __main__ - INFO - ❌ DEBUG: No confirmation or question detected, staying in collection phase
2025-05-30 23:22:56,006 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 23:22:56,006 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 23:22:57,809 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 23:22:57,811 - __main__ - INFO - Chat response generated successfully - Length: 303 chars
2025-05-30 23:22:59,651 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 23:22:59,652 - __main__ - INFO - message_lower: נכון
2025-05-30 23:22:59,652 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number='123456789' gender='זכר' age=2 hmo_name='מכבי' hmo_card_number=None insurance_tier='זהב'
2025-05-30 23:22:59,652 - __main__ - INFO - 🔄 DEBUG: Collection complete, checking for confirmation...
2025-05-30 23:22:59,652 - __main__ - INFO - 📝 DEBUG: User message: 'נכון'
2025-05-30 23:22:59,652 - __main__ - INFO - Messege from user: נכון
2025-05-30 23:22:59,652 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: True
2025-05-30 23:22:59,652 - __main__ - INFO - 🔍 DEBUG: Confirmation words found: ['נכון', 'נכון']
2025-05-30 23:22:59,652 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 23:22:59,652 - __main__ - INFO - 🎉 DEBUG: Transitioning to QA phase!
2025-05-30 23:23:09,637 - __main__ - INFO - Chat request received - Phase: qa, Language: hebrew
2025-05-30 23:23:09,637 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number='123456789' gender='זכר' age=2 hmo_name='מכבי' hmo_card_number=None insurance_tier='זהב'
2025-05-30 23:23:09,637 - __main__ - INFO - 🤔 Hypothetical context detected: {'hmo': None, 'hmos': ['מכבי', 'כללית'], 'tier': None, 'tiers': [], 'is_comparison': True, 'multiple_hmos': True, 'multiple_tiers': False, 'is_followup_hypothetical': False}
2025-05-30 23:23:09,637 - __main__ - INFO - 📋 Identified relevant services: []
2025-05-30 23:23:09,637 - __main__ - INFO - 🔍 Starting get_comprehensive_knowledge_context
2025-05-30 23:23:09,637 - __main__ - INFO - 👤 User info: HMO=מכבי, Tier=זהב
2025-05-30 23:23:09,637 - __main__ - INFO - 🤔 Hypothetical context: {'hmo': None, 'hmos': ['מכבי', 'כללית'], 'tier': None, 'tiers': [], 'is_comparison': True, 'multiple_hmos': True, 'multiple_tiers': False, 'is_followup_hypothetical': False}
2025-05-30 23:23:09,637 - __main__ - INFO - 🌐 Hypothetical context detected - loading ALL knowledge base
2025-05-30 23:23:09,637 - __main__ - INFO - 📋 Using ALL services: ['dental', 'optometry', 'pregnancy', 'alternative', 'communication_clinic', 'workshops']
2025-05-30 23:23:09,638 - __main__ - INFO - 📝 Knowledge context length: 13999
2025-05-30 23:23:09,638 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 23:23:09,638 - __main__ - INFO - Knowledge context length: 13999 chars
2025-05-30 23:23:18,395 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 23:23:18,397 - __main__ - INFO - Chat response generated successfully - Length: 1366 chars
2025-05-30 23:24:12,035 - __main__ - INFO - Chat request received - Phase: qa, Language: hebrew
2025-05-30 23:24:12,035 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number='123456789' gender='זכר' age=2 hmo_name='מכבי' hmo_card_number=None insurance_tier='זהב'
2025-05-30 23:24:12,035 - __main__ - INFO - 🤔 Hypothetical context detected: {'hmo': 'מאוחדת', 'hmos': ['מאוחדת'], 'tier': 'ארד', 'tiers': ['ארד'], 'is_comparison': True, 'multiple_hmos': False, 'multiple_tiers': False, 'is_followup_hypothetical': True}
2025-05-30 23:24:12,035 - __main__ - INFO - 📋 Identified relevant services: ['dental', 'optometry', 'pregnancy', 'alternative', 'communication_clinic', 'workshops']
2025-05-30 23:24:12,035 - __main__ - INFO - 🔍 Starting get_comprehensive_knowledge_context
2025-05-30 23:24:12,035 - __main__ - INFO - 👤 User info: HMO=מכבי, Tier=זהב
2025-05-30 23:24:12,035 - __main__ - INFO - 🤔 Hypothetical context: {'hmo': 'מאוחדת', 'hmos': ['מאוחדת'], 'tier': 'ארד', 'tiers': ['ארד'], 'is_comparison': True, 'multiple_hmos': False, 'multiple_tiers': False, 'is_followup_hypothetical': True}
2025-05-30 23:24:12,035 - __main__ - INFO - 🌐 Hypothetical context detected - loading ALL knowledge base
2025-05-30 23:24:12,035 - __main__ - INFO - 📋 Using ALL services: ['dental', 'optometry', 'pregnancy', 'alternative', 'communication_clinic', 'workshops']
2025-05-30 23:24:12,035 - __main__ - INFO - 📝 Knowledge context length: 3879
2025-05-30 23:24:12,035 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 23:24:12,035 - __main__ - INFO - Knowledge context length: 3879 chars
2025-05-30 23:24:13,246 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 23:24:13,248 - __main__ - INFO - Chat response generated successfully - Length: 31 chars
2025-05-30 23:26:56,085 - __main__ - INFO - Azure OpenAI client initialized successfully
2025-05-30 23:26:57,560 - __main__ - INFO - health check
2025-05-30 23:26:58,579 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 23:26:58,579 - __main__ - INFO - message_lower: בואו נתחיל באיסוף המידע
2025-05-30 23:26:58,579 - __main__ - INFO - Skipping extraction - message appears to be from assistant: בואו נתחיל באיסוף המידע
2025-05-30 23:26:58,579 - __main__ - INFO - Updated user info: first_name=None last_name=None id_number=None gender=None age=None hmo_name=None hmo_card_number=None insurance_tier=None
2025-05-30 23:26:58,579 - __main__ - INFO - 🔄 DEBUG: Collection complete, checking for confirmation...
2025-05-30 23:26:58,579 - __main__ - INFO - 📝 DEBUG: User message: 'בואו נתחיל באיסוף המידע'
2025-05-30 23:26:58,579 - __main__ - INFO - Messege from user: בואו נתחיל באיסוף המידע
2025-05-30 23:26:58,579 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 23:26:58,579 - __main__ - INFO - 🔍 DEBUG: Confirmation words found: []
2025-05-30 23:26:58,579 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 23:26:58,579 - __main__ - INFO - ❌ DEBUG: No confirmation or question detected, staying in collection phase
2025-05-30 23:26:58,579 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 23:26:58,580 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 23:27:01,044 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 23:27:01,045 - __main__ - INFO - Chat response generated successfully - Length: 427 chars
2025-05-30 23:27:04,938 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 23:27:04,938 - __main__ - INFO - message_lower: אור מאירי
2025-05-30 23:27:04,938 - __main__ - INFO - Extracted full name: אור מאירי
2025-05-30 23:27:04,939 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number=None gender=None age=None hmo_name=None hmo_card_number=None insurance_tier=None
2025-05-30 23:27:04,939 - __main__ - INFO - 🔄 DEBUG: Collection complete, checking for confirmation...
2025-05-30 23:27:04,939 - __main__ - INFO - 📝 DEBUG: User message: 'אור מאירי'
2025-05-30 23:27:04,939 - __main__ - INFO - Messege from user: אור מאירי
2025-05-30 23:27:04,939 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 23:27:04,939 - __main__ - INFO - 🔍 DEBUG: Confirmation words found: []
2025-05-30 23:27:04,939 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 23:27:04,939 - __main__ - INFO - ❌ DEBUG: No confirmation or question detected, staying in collection phase
2025-05-30 23:27:04,939 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 23:27:04,939 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 23:27:05,630 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 23:27:05,633 - __main__ - INFO - Chat response generated successfully - Length: 125 chars
2025-05-30 23:27:09,707 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 23:27:09,707 - __main__ - INFO - message_lower: 123456789
2025-05-30 23:27:09,707 - __main__ - INFO - Extracted ID number: 123456789
2025-05-30 23:27:09,707 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number='123456789' gender=None age=None hmo_name=None hmo_card_number=None insurance_tier=None
2025-05-30 23:27:09,708 - __main__ - INFO - 🔄 DEBUG: Collection complete, checking for confirmation...
2025-05-30 23:27:09,708 - __main__ - INFO - 📝 DEBUG: User message: '123456789'
2025-05-30 23:27:09,708 - __main__ - INFO - Messege from user: 123456789
2025-05-30 23:27:09,708 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 23:27:09,708 - __main__ - INFO - 🔍 DEBUG: Confirmation words found: []
2025-05-30 23:27:09,708 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 23:27:09,708 - __main__ - INFO - ❌ DEBUG: No confirmation or question detected, staying in collection phase
2025-05-30 23:27:09,708 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 23:27:09,708 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 23:27:10,328 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 23:27:10,330 - __main__ - INFO - Chat response generated successfully - Length: 98 chars
2025-05-30 23:27:13,072 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 23:27:13,073 - __main__ - INFO - message_lower: זכר
2025-05-30 23:27:13,073 - __main__ - INFO - Extracted gender: זכר
2025-05-30 23:27:13,073 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number='123456789' gender='זכר' age=None hmo_name=None hmo_card_number=None insurance_tier=None
2025-05-30 23:27:13,073 - __main__ - INFO - 🔄 DEBUG: Collection complete, checking for confirmation...
2025-05-30 23:27:13,073 - __main__ - INFO - 📝 DEBUG: User message: 'זכר'
2025-05-30 23:27:13,073 - __main__ - INFO - Messege from user: זכר
2025-05-30 23:27:13,073 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 23:27:13,073 - __main__ - INFO - 🔍 DEBUG: Confirmation words found: []
2025-05-30 23:27:13,073 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 23:27:13,073 - __main__ - INFO - ❌ DEBUG: No confirmation or question detected, staying in collection phase
2025-05-30 23:27:13,073 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 23:27:13,073 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 23:27:13,756 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 23:27:13,757 - __main__ - INFO - Chat response generated successfully - Length: 78 chars
2025-05-30 23:27:15,272 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 23:27:15,272 - __main__ - INFO - message_lower: 2
2025-05-30 23:27:15,272 - __main__ - INFO - Extracted age: 2
2025-05-30 23:27:15,272 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number='123456789' gender='זכר' age=2 hmo_name=None hmo_card_number=None insurance_tier=None
2025-05-30 23:27:15,272 - __main__ - INFO - 🔄 DEBUG: Collection complete, checking for confirmation...
2025-05-30 23:27:15,272 - __main__ - INFO - 📝 DEBUG: User message: '2'
2025-05-30 23:27:15,272 - __main__ - INFO - Messege from user: 2
2025-05-30 23:27:15,273 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 23:27:15,273 - __main__ - INFO - 🔍 DEBUG: Confirmation words found: []
2025-05-30 23:27:15,273 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 23:27:15,273 - __main__ - INFO - ❌ DEBUG: No confirmation or question detected, staying in collection phase
2025-05-30 23:27:15,273 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 23:27:15,273 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 23:27:16,061 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 23:27:16,063 - __main__ - INFO - Chat response generated successfully - Length: 119 chars
2025-05-30 23:27:19,281 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 23:27:19,281 - __main__ - INFO - message_lower: כללית
2025-05-30 23:27:19,281 - __main__ - INFO - Extracted HMO: כללית
2025-05-30 23:27:19,281 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number='123456789' gender='זכר' age=2 hmo_name='כללית' hmo_card_number=None insurance_tier=None
2025-05-30 23:27:19,281 - __main__ - INFO - 🔄 DEBUG: Collection complete, checking for confirmation...
2025-05-30 23:27:19,281 - __main__ - INFO - 📝 DEBUG: User message: 'כללית'
2025-05-30 23:27:19,281 - __main__ - INFO - Messege from user: כללית
2025-05-30 23:27:19,281 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 23:27:19,281 - __main__ - INFO - 🔍 DEBUG: Confirmation words found: []
2025-05-30 23:27:19,281 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 23:27:19,281 - __main__ - INFO - ❌ DEBUG: No confirmation or question detected, staying in collection phase
2025-05-30 23:27:19,281 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 23:27:19,281 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 23:27:20,063 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 23:27:20,065 - __main__ - INFO - Chat response generated successfully - Length: 104 chars
2025-05-30 23:27:22,049 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 23:27:22,050 - __main__ - INFO - message_lower: 123456789
2025-05-30 23:27:22,050 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number='123456789' gender='זכר' age=2 hmo_name='כללית' hmo_card_number=None insurance_tier=None
2025-05-30 23:27:22,050 - __main__ - INFO - 🔄 DEBUG: Collection complete, checking for confirmation...
2025-05-30 23:27:22,050 - __main__ - INFO - 📝 DEBUG: User message: '123456789'
2025-05-30 23:27:22,050 - __main__ - INFO - Messege from user: 123456789
2025-05-30 23:27:22,050 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 23:27:22,050 - __main__ - INFO - 🔍 DEBUG: Confirmation words found: []
2025-05-30 23:27:22,050 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 23:27:22,050 - __main__ - INFO - ❌ DEBUG: No confirmation or question detected, staying in collection phase
2025-05-30 23:27:22,050 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 23:27:22,050 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 23:27:23,360 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 23:27:23,360 - __main__ - INFO - Chat response generated successfully - Length: 98 chars
2025-05-30 23:27:25,520 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 23:27:25,520 - __main__ - INFO - message_lower: זהב
2025-05-30 23:27:25,520 - __main__ - INFO - Extracted insurance tier: זהב
2025-05-30 23:27:25,520 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number='123456789' gender='זכר' age=2 hmo_name='כללית' hmo_card_number=None insurance_tier='זהב'
2025-05-30 23:27:25,520 - __main__ - INFO - 🔄 DEBUG: Collection complete, checking for confirmation...
2025-05-30 23:27:25,520 - __main__ - INFO - 📝 DEBUG: User message: 'זהב'
2025-05-30 23:27:25,520 - __main__ - INFO - Messege from user: זהב
2025-05-30 23:27:25,520 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 23:27:25,520 - __main__ - INFO - 🔍 DEBUG: Confirmation words found: []
2025-05-30 23:27:25,520 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 23:27:25,520 - __main__ - INFO - ❌ DEBUG: No confirmation or question detected, staying in collection phase
2025-05-30 23:27:25,520 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 23:27:25,520 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 23:27:27,063 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 23:27:27,063 - __main__ - INFO - Chat response generated successfully - Length: 262 chars
2025-05-30 23:27:27,968 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 23:27:27,968 - __main__ - INFO - message_lower: נכון
2025-05-30 23:27:27,968 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number='123456789' gender='זכר' age=2 hmo_name='כללית' hmo_card_number=None insurance_tier='זהב'
2025-05-30 23:27:27,968 - __main__ - INFO - 🔄 DEBUG: Collection complete, checking for confirmation...
2025-05-30 23:27:27,968 - __main__ - INFO - 📝 DEBUG: User message: 'נכון'
2025-05-30 23:27:27,968 - __main__ - INFO - Messege from user: נכון
2025-05-30 23:27:27,968 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: True
2025-05-30 23:27:27,968 - __main__ - INFO - 🔍 DEBUG: Confirmation words found: ['נכון', 'נכון']
2025-05-30 23:27:27,968 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 23:27:27,968 - __main__ - INFO - 🎉 DEBUG: Transitioning to QA phase!
2025-05-30 23:27:38,527 - __main__ - INFO - Chat request received - Phase: qa, Language: hebrew
2025-05-30 23:27:38,527 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number='123456789' gender='זכר' age=2 hmo_name='כללית' hmo_card_number=None insurance_tier='זהב'
2025-05-30 23:27:38,528 - __main__ - INFO - 🤔 Hypothetical context detected: {'hmo': None, 'hmos': ['מכבי', 'כללית'], 'tier': None, 'tiers': [], 'is_comparison': True, 'multiple_hmos': True, 'multiple_tiers': False, 'is_followup_hypothetical': False}
2025-05-30 23:27:38,528 - __main__ - INFO - 📋 Identified relevant services: []
2025-05-30 23:27:38,528 - __main__ - INFO - 🔍 Starting get_comprehensive_knowledge_context
2025-05-30 23:27:38,528 - __main__ - INFO - 👤 User info: HMO=כללית, Tier=זהב
2025-05-30 23:27:38,528 - __main__ - INFO - 🤔 Hypothetical context: {'hmo': None, 'hmos': ['מכבי', 'כללית'], 'tier': None, 'tiers': [], 'is_comparison': True, 'multiple_hmos': True, 'multiple_tiers': False, 'is_followup_hypothetical': False}
2025-05-30 23:27:38,528 - __main__ - INFO - 🌐 Hypothetical context detected - loading ALL knowledge base
2025-05-30 23:27:38,528 - __main__ - INFO - 📋 Using ALL services: ['dental', 'optometry', 'pregnancy', 'alternative', 'communication_clinic', 'workshops']
2025-05-30 23:27:38,528 - __main__ - INFO - 📝 Knowledge context length: 10150
2025-05-30 23:27:38,528 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 23:27:38,528 - __main__ - INFO - Knowledge context length: 10150 chars
2025-05-30 23:27:40,022 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 23:27:40,023 - __main__ - INFO - Chat response generated successfully - Length: 143 chars
2025-05-30 23:30:10,639 - __main__ - INFO - Azure OpenAI client initialized successfully
2025-05-30 23:30:12,062 - __main__ - INFO - health check
2025-05-30 23:30:13,107 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 23:30:13,107 - __main__ - INFO - message_lower: בואו נתחיל באיסוף המידע
2025-05-30 23:30:13,107 - __main__ - INFO - Skipping extraction - message appears to be from assistant: בואו נתחיל באיסוף המידע
2025-05-30 23:30:13,107 - __main__ - INFO - Updated user info: first_name=None last_name=None id_number=None gender=None age=None hmo_name=None hmo_card_number=None insurance_tier=None
2025-05-30 23:30:13,107 - __main__ - INFO - 🔄 DEBUG: Collection complete, checking for confirmation...
2025-05-30 23:30:13,107 - __main__ - INFO - 📝 DEBUG: User message: 'בואו נתחיל באיסוף המידע'
2025-05-30 23:30:13,107 - __main__ - INFO - Messege from user: בואו נתחיל באיסוף המידע
2025-05-30 23:30:13,107 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 23:30:13,107 - __main__ - INFO - 🔍 DEBUG: Confirmation words found: []
2025-05-30 23:30:13,107 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 23:30:13,107 - __main__ - INFO - ❌ DEBUG: No confirmation or question detected, staying in collection phase
2025-05-30 23:30:13,107 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 23:30:13,107 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 23:30:15,880 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 23:30:15,886 - __main__ - INFO - Chat response generated successfully - Length: 566 chars
2025-05-30 23:30:23,163 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 23:30:23,164 - __main__ - INFO - message_lower: אור מאירי
2025-05-30 23:30:23,164 - __main__ - INFO - Extracted full name: אור מאירי
2025-05-30 23:30:23,164 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number=None gender=None age=None hmo_name=None hmo_card_number=None insurance_tier=None
2025-05-30 23:30:23,164 - __main__ - INFO - 🔄 DEBUG: Collection complete, checking for confirmation...
2025-05-30 23:30:23,164 - __main__ - INFO - 📝 DEBUG: User message: 'אור מאירי'
2025-05-30 23:30:23,164 - __main__ - INFO - Messege from user: אור מאירי
2025-05-30 23:30:23,164 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 23:30:23,164 - __main__ - INFO - 🔍 DEBUG: Confirmation words found: []
2025-05-30 23:30:23,164 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 23:30:23,164 - __main__ - INFO - ❌ DEBUG: No confirmation or question detected, staying in collection phase
2025-05-30 23:30:23,164 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 23:30:23,164 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 23:30:24,482 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 23:30:24,484 - __main__ - INFO - Chat response generated successfully - Length: 107 chars
2025-05-30 23:30:28,100 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 23:30:28,101 - __main__ - INFO - message_lower: 123456789
2025-05-30 23:30:28,101 - __main__ - INFO - Extracted ID number: 123456789
2025-05-30 23:30:28,101 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number='123456789' gender=None age=None hmo_name=None hmo_card_number=None insurance_tier=None
2025-05-30 23:30:28,101 - __main__ - INFO - 🔄 DEBUG: Collection complete, checking for confirmation...
2025-05-30 23:30:28,101 - __main__ - INFO - 📝 DEBUG: User message: '123456789'
2025-05-30 23:30:28,101 - __main__ - INFO - Messege from user: 123456789
2025-05-30 23:30:28,101 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 23:30:28,102 - __main__ - INFO - 🔍 DEBUG: Confirmation words found: []
2025-05-30 23:30:28,102 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 23:30:28,102 - __main__ - INFO - ❌ DEBUG: No confirmation or question detected, staying in collection phase
2025-05-30 23:30:28,102 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 23:30:28,102 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 23:30:28,781 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 23:30:28,783 - __main__ - INFO - Chat response generated successfully - Length: 76 chars
2025-05-30 23:30:30,682 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 23:30:30,682 - __main__ - INFO - message_lower: זכר
2025-05-30 23:30:30,682 - __main__ - INFO - Extracted gender: זכר
2025-05-30 23:30:30,682 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number='123456789' gender='זכר' age=None hmo_name=None hmo_card_number=None insurance_tier=None
2025-05-30 23:30:30,682 - __main__ - INFO - 🔄 DEBUG: Collection complete, checking for confirmation...
2025-05-30 23:30:30,682 - __main__ - INFO - 📝 DEBUG: User message: 'זכר'
2025-05-30 23:30:30,682 - __main__ - INFO - Messege from user: זכר
2025-05-30 23:30:30,682 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 23:30:30,683 - __main__ - INFO - 🔍 DEBUG: Confirmation words found: []
2025-05-30 23:30:30,683 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 23:30:30,683 - __main__ - INFO - ❌ DEBUG: No confirmation or question detected, staying in collection phase
2025-05-30 23:30:30,683 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 23:30:30,683 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 23:30:31,283 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 23:30:31,285 - __main__ - INFO - Chat response generated successfully - Length: 68 chars
2025-05-30 23:30:32,747 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 23:30:32,747 - __main__ - INFO - message_lower: 2
2025-05-30 23:30:32,747 - __main__ - INFO - Extracted age: 2
2025-05-30 23:30:32,747 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number='123456789' gender='זכר' age=2 hmo_name=None hmo_card_number=None insurance_tier=None
2025-05-30 23:30:32,747 - __main__ - INFO - 🔄 DEBUG: Collection complete, checking for confirmation...
2025-05-30 23:30:32,747 - __main__ - INFO - 📝 DEBUG: User message: '2'
2025-05-30 23:30:32,747 - __main__ - INFO - Messege from user: 2
2025-05-30 23:30:32,747 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 23:30:32,747 - __main__ - INFO - 🔍 DEBUG: Confirmation words found: []
2025-05-30 23:30:32,747 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 23:30:32,747 - __main__ - INFO - ❌ DEBUG: No confirmation or question detected, staying in collection phase
2025-05-30 23:30:32,747 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 23:30:32,747 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 23:30:33,359 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 23:30:33,361 - __main__ - INFO - Chat response generated successfully - Length: 91 chars
2025-05-30 23:30:36,278 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 23:30:36,279 - __main__ - INFO - message_lower: מכבי
2025-05-30 23:30:36,279 - __main__ - INFO - Extracted HMO: מכבי
2025-05-30 23:30:36,279 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number='123456789' gender='זכר' age=2 hmo_name='מכבי' hmo_card_number=None insurance_tier=None
2025-05-30 23:30:36,279 - __main__ - INFO - 🔄 DEBUG: Collection complete, checking for confirmation...
2025-05-30 23:30:36,279 - __main__ - INFO - 📝 DEBUG: User message: 'מכבי'
2025-05-30 23:30:36,279 - __main__ - INFO - Messege from user: מכבי
2025-05-30 23:30:36,279 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 23:30:36,279 - __main__ - INFO - 🔍 DEBUG: Confirmation words found: []
2025-05-30 23:30:36,279 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 23:30:36,279 - __main__ - INFO - ❌ DEBUG: No confirmation or question detected, staying in collection phase
2025-05-30 23:30:36,279 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 23:30:36,279 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 23:30:37,177 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 23:30:37,178 - __main__ - INFO - Chat response generated successfully - Length: 105 chars
2025-05-30 23:30:38,918 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 23:30:38,918 - __main__ - INFO - message_lower: 123456789
2025-05-30 23:30:38,918 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number='123456789' gender='זכר' age=2 hmo_name='מכבי' hmo_card_number=None insurance_tier=None
2025-05-30 23:30:38,918 - __main__ - INFO - 🔄 DEBUG: Collection complete, checking for confirmation...
2025-05-30 23:30:38,918 - __main__ - INFO - 📝 DEBUG: User message: '123456789'
2025-05-30 23:30:38,918 - __main__ - INFO - Messege from user: 123456789
2025-05-30 23:30:38,918 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 23:30:38,918 - __main__ - INFO - 🔍 DEBUG: Confirmation words found: []
2025-05-30 23:30:38,918 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 23:30:38,918 - __main__ - INFO - ❌ DEBUG: No confirmation or question detected, staying in collection phase
2025-05-30 23:30:38,918 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 23:30:38,918 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 23:30:39,478 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 23:30:39,478 - __main__ - INFO - Chat response generated successfully - Length: 82 chars
2025-05-30 23:30:41,390 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 23:30:41,390 - __main__ - INFO - message_lower: זהב
2025-05-30 23:30:41,390 - __main__ - INFO - Extracted insurance tier: זהב
2025-05-30 23:30:41,390 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number='123456789' gender='זכר' age=2 hmo_name='מכבי' hmo_card_number=None insurance_tier='זהב'
2025-05-30 23:30:41,390 - __main__ - INFO - 🔄 DEBUG: Collection complete, checking for confirmation...
2025-05-30 23:30:41,390 - __main__ - INFO - 📝 DEBUG: User message: 'זהב'
2025-05-30 23:30:41,391 - __main__ - INFO - Messege from user: זהב
2025-05-30 23:30:41,391 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 23:30:41,391 - __main__ - INFO - 🔍 DEBUG: Confirmation words found: []
2025-05-30 23:30:41,391 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 23:30:41,391 - __main__ - INFO - ❌ DEBUG: No confirmation or question detected, staying in collection phase
2025-05-30 23:30:41,391 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 23:30:41,391 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 23:30:57,045 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 23:30:57,048 - __main__ - INFO - Chat response generated successfully - Length: 281 chars
2025-05-30 23:31:00,805 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 23:31:00,805 - __main__ - INFO - message_lower: נכון
2025-05-30 23:31:00,805 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number='123456789' gender='זכר' age=2 hmo_name='מכבי' hmo_card_number=None insurance_tier='זהב'
2025-05-30 23:31:00,805 - __main__ - INFO - 🔄 DEBUG: Collection complete, checking for confirmation...
2025-05-30 23:31:00,805 - __main__ - INFO - 📝 DEBUG: User message: 'נכון'
2025-05-30 23:31:00,805 - __main__ - INFO - Messege from user: נכון
2025-05-30 23:31:00,805 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: True
2025-05-30 23:31:00,805 - __main__ - INFO - 🔍 DEBUG: Confirmation words found: ['נכון', 'נכון']
2025-05-30 23:31:00,805 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 23:31:00,805 - __main__ - INFO - 🎉 DEBUG: Transitioning to QA phase!
2025-05-30 23:31:16,063 - __main__ - INFO - Chat request received - Phase: qa, Language: hebrew
2025-05-30 23:31:16,064 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number='123456789' gender='זכר' age=2 hmo_name='מכבי' hmo_card_number=None insurance_tier='זהב'
2025-05-30 23:31:16,064 - __main__ - ERROR - Error in chat endpoint: name 'detect_hypothetical_query' is not defined
2025-05-30 23:32:26,090 - __main__ - INFO - Azure OpenAI client initialized successfully
2025-05-30 23:32:27,590 - __main__ - INFO - health check
2025-05-30 23:32:28,613 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 23:32:28,613 - __main__ - INFO - message_lower: בואו נתחיל באיסוף המידע
2025-05-30 23:32:28,613 - __main__ - INFO - Skipping extraction - message appears to be from assistant: בואו נתחיל באיסוף המידע
2025-05-30 23:32:28,613 - __main__ - INFO - Updated user info: first_name=None last_name=None id_number=None gender=None age=None hmo_name=None hmo_card_number=None insurance_tier=None
2025-05-30 23:32:28,613 - __main__ - INFO - 🔄 DEBUG: Collection complete, checking for confirmation...
2025-05-30 23:32:28,614 - __main__ - INFO - 📝 DEBUG: User message: 'בואו נתחיל באיסוף המידע'
2025-05-30 23:32:28,614 - __main__ - INFO - Messege from user: בואו נתחיל באיסוף המידע
2025-05-30 23:32:28,614 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 23:32:28,614 - __main__ - INFO - 🔍 DEBUG: Confirmation words found: []
2025-05-30 23:32:28,614 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 23:32:28,614 - __main__ - INFO - ❌ DEBUG: No confirmation or question detected, staying in collection phase
2025-05-30 23:32:28,614 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 23:32:28,614 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 23:32:30,717 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 23:32:30,718 - __main__ - INFO - Chat response generated successfully - Length: 395 chars
2025-05-30 23:32:34,616 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 23:32:34,617 - __main__ - INFO - message_lower: אור מאירי
2025-05-30 23:32:34,617 - __main__ - INFO - Extracted full name: אור מאירי
2025-05-30 23:32:34,617 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number=None gender=None age=None hmo_name=None hmo_card_number=None insurance_tier=None
2025-05-30 23:32:34,617 - __main__ - INFO - 🔄 DEBUG: Collection complete, checking for confirmation...
2025-05-30 23:32:34,617 - __main__ - INFO - 📝 DEBUG: User message: 'אור מאירי'
2025-05-30 23:32:34,617 - __main__ - INFO - Messege from user: אור מאירי
2025-05-30 23:32:34,618 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 23:32:34,618 - __main__ - INFO - 🔍 DEBUG: Confirmation words found: []
2025-05-30 23:32:34,618 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 23:32:34,618 - __main__ - INFO - ❌ DEBUG: No confirmation or question detected, staying in collection phase
2025-05-30 23:32:34,618 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 23:32:34,618 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 23:32:35,659 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 23:32:35,661 - __main__ - INFO - Chat response generated successfully - Length: 114 chars
2025-05-30 23:32:39,556 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 23:32:39,557 - __main__ - INFO - message_lower: 123456789
2025-05-30 23:32:39,557 - __main__ - INFO - Extracted ID number: 123456789
2025-05-30 23:32:39,557 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number='123456789' gender=None age=None hmo_name=None hmo_card_number=None insurance_tier=None
2025-05-30 23:32:39,557 - __main__ - INFO - 🔄 DEBUG: Collection complete, checking for confirmation...
2025-05-30 23:32:39,557 - __main__ - INFO - 📝 DEBUG: User message: '123456789'
2025-05-30 23:32:39,557 - __main__ - INFO - Messege from user: 123456789
2025-05-30 23:32:39,557 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 23:32:39,557 - __main__ - INFO - 🔍 DEBUG: Confirmation words found: []
2025-05-30 23:32:39,557 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 23:32:39,557 - __main__ - INFO - ❌ DEBUG: No confirmation or question detected, staying in collection phase
2025-05-30 23:32:39,557 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 23:32:39,557 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 23:32:40,211 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 23:32:40,213 - __main__ - INFO - Chat response generated successfully - Length: 112 chars
2025-05-30 23:32:42,959 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 23:32:42,959 - __main__ - INFO - message_lower: זכר
2025-05-30 23:32:42,960 - __main__ - INFO - Extracted gender: זכר
2025-05-30 23:32:42,960 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number='123456789' gender='זכר' age=None hmo_name=None hmo_card_number=None insurance_tier=None
2025-05-30 23:32:42,960 - __main__ - INFO - 🔄 DEBUG: Collection complete, checking for confirmation...
2025-05-30 23:32:42,960 - __main__ - INFO - 📝 DEBUG: User message: 'זכר'
2025-05-30 23:32:42,960 - __main__ - INFO - Messege from user: זכר
2025-05-30 23:32:42,960 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 23:32:42,960 - __main__ - INFO - 🔍 DEBUG: Confirmation words found: []
2025-05-30 23:32:42,960 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 23:32:42,960 - __main__ - INFO - ❌ DEBUG: No confirmation or question detected, staying in collection phase
2025-05-30 23:32:42,960 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 23:32:42,960 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 23:32:43,645 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 23:32:43,647 - __main__ - INFO - Chat response generated successfully - Length: 86 chars
2025-05-30 23:32:45,279 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 23:32:45,279 - __main__ - INFO - message_lower: 2
2025-05-30 23:32:45,279 - __main__ - INFO - Extracted age: 2
2025-05-30 23:32:45,279 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number='123456789' gender='זכר' age=2 hmo_name=None hmo_card_number=None insurance_tier=None
2025-05-30 23:32:45,279 - __main__ - INFO - 🔄 DEBUG: Collection complete, checking for confirmation...
2025-05-30 23:32:45,279 - __main__ - INFO - 📝 DEBUG: User message: '2'
2025-05-30 23:32:45,279 - __main__ - INFO - Messege from user: 2
2025-05-30 23:32:45,279 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 23:32:45,279 - __main__ - INFO - 🔍 DEBUG: Confirmation words found: []
2025-05-30 23:32:45,279 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 23:32:45,279 - __main__ - INFO - ❌ DEBUG: No confirmation or question detected, staying in collection phase
2025-05-30 23:32:45,280 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 23:32:45,280 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 23:32:46,102 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 23:32:46,104 - __main__ - INFO - Chat response generated successfully - Length: 100 chars
2025-05-30 23:32:49,368 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 23:32:49,369 - __main__ - INFO - message_lower: כללית
2025-05-30 23:32:49,369 - __main__ - INFO - Extracted HMO: כללית
2025-05-30 23:32:49,369 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number='123456789' gender='זכר' age=2 hmo_name='כללית' hmo_card_number=None insurance_tier=None
2025-05-30 23:32:49,369 - __main__ - INFO - 🔄 DEBUG: Collection complete, checking for confirmation...
2025-05-30 23:32:49,369 - __main__ - INFO - 📝 DEBUG: User message: 'כללית'
2025-05-30 23:32:49,369 - __main__ - INFO - Messege from user: כללית
2025-05-30 23:32:49,369 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 23:32:49,369 - __main__ - INFO - 🔍 DEBUG: Confirmation words found: []
2025-05-30 23:32:49,369 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 23:32:49,369 - __main__ - INFO - ❌ DEBUG: No confirmation or question detected, staying in collection phase
2025-05-30 23:32:49,370 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 23:32:49,370 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 23:32:50,199 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 23:32:50,202 - __main__ - INFO - Chat response generated successfully - Length: 134 chars
2025-05-30 23:32:51,873 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 23:32:51,873 - __main__ - INFO - message_lower: 123456789
2025-05-30 23:32:51,873 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number='123456789' gender='זכר' age=2 hmo_name='כללית' hmo_card_number=None insurance_tier=None
2025-05-30 23:32:51,873 - __main__ - INFO - 🔄 DEBUG: Collection complete, checking for confirmation...
2025-05-30 23:32:51,873 - __main__ - INFO - 📝 DEBUG: User message: '123456789'
2025-05-30 23:32:51,873 - __main__ - INFO - Messege from user: 123456789
2025-05-30 23:32:51,873 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 23:32:51,873 - __main__ - INFO - 🔍 DEBUG: Confirmation words found: []
2025-05-30 23:32:51,874 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 23:32:51,874 - __main__ - INFO - ❌ DEBUG: No confirmation or question detected, staying in collection phase
2025-05-30 23:32:51,874 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 23:32:51,874 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 23:32:52,861 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 23:32:52,863 - __main__ - INFO - Chat response generated successfully - Length: 121 chars
2025-05-30 23:32:55,055 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 23:32:55,055 - __main__ - INFO - message_lower: זהב
2025-05-30 23:32:55,055 - __main__ - INFO - Extracted insurance tier: זהב
2025-05-30 23:32:55,055 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number='123456789' gender='זכר' age=2 hmo_name='כללית' hmo_card_number=None insurance_tier='זהב'
2025-05-30 23:32:55,055 - __main__ - INFO - 🔄 DEBUG: Collection complete, checking for confirmation...
2025-05-30 23:32:55,055 - __main__ - INFO - 📝 DEBUG: User message: 'זהב'
2025-05-30 23:32:55,055 - __main__ - INFO - Messege from user: זהב
2025-05-30 23:32:55,055 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 23:32:55,055 - __main__ - INFO - 🔍 DEBUG: Confirmation words found: []
2025-05-30 23:32:55,055 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 23:32:55,055 - __main__ - INFO - ❌ DEBUG: No confirmation or question detected, staying in collection phase
2025-05-30 23:32:55,055 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 23:32:55,055 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 23:32:56,855 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 23:32:56,855 - __main__ - INFO - Chat response generated successfully - Length: 288 chars
2025-05-30 23:33:00,576 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 23:33:00,576 - __main__ - INFO - message_lower: נכון
2025-05-30 23:33:00,576 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number='123456789' gender='זכר' age=2 hmo_name='כללית' hmo_card_number=None insurance_tier='זהב'
2025-05-30 23:33:00,576 - __main__ - INFO - 🔄 DEBUG: Collection complete, checking for confirmation...
2025-05-30 23:33:00,576 - __main__ - INFO - 📝 DEBUG: User message: 'נכון'
2025-05-30 23:33:00,576 - __main__ - INFO - Messege from user: נכון
2025-05-30 23:33:00,576 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: True
2025-05-30 23:33:00,576 - __main__ - INFO - 🔍 DEBUG: Confirmation words found: ['נכון', 'נכון']
2025-05-30 23:33:00,576 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 23:33:00,576 - __main__ - INFO - 🎉 DEBUG: Transitioning to QA phase!
2025-05-30 23:33:18,367 - __main__ - INFO - Chat request received - Phase: qa, Language: hebrew
2025-05-30 23:33:18,368 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number='123456789' gender='זכר' age=2 hmo_name='כללית' hmo_card_number=None insurance_tier='זהב'
2025-05-30 23:33:18,368 - __main__ - INFO - 🤔 Hypothetical context detected: {'hmo': 'מאוחדת', 'hmos': ['מאוחדת'], 'tier': 'כסף', 'tiers': ['כסף'], 'is_comparison': False, 'multiple_hmos': False, 'multiple_tiers': False, 'is_followup_hypothetical': False}
2025-05-30 23:33:18,368 - __main__ - INFO - 📋 Identified relevant services: ['dental', 'optometry', 'pregnancy', 'alternative', 'communication_clinic', 'workshops']
2025-05-30 23:33:18,368 - __main__ - INFO - 🔍 Starting get_comprehensive_knowledge_context
2025-05-30 23:33:18,368 - __main__ - INFO - 👤 User info: HMO=כללית, Tier=זהב
2025-05-30 23:33:18,368 - __main__ - INFO - 🤔 Hypothetical context: {'hmo': 'מאוחדת', 'hmos': ['מאוחדת'], 'tier': 'כסף', 'tiers': ['כסף'], 'is_comparison': False, 'multiple_hmos': False, 'multiple_tiers': False, 'is_followup_hypothetical': False}
2025-05-30 23:33:18,368 - __main__ - INFO - 🌐 Hypothetical context detected - loading ALL knowledge base
2025-05-30 23:33:18,368 - __main__ - INFO - 📋 Using ALL services: ['dental', 'optometry', 'pregnancy', 'alternative', 'communication_clinic', 'workshops']
2025-05-30 23:33:18,368 - __main__ - INFO - 📝 Knowledge context length: 3904
2025-05-30 23:33:18,368 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 23:33:18,368 - __main__ - INFO - Knowledge context length: 3904 chars
2025-05-30 23:33:19,311 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 23:33:19,314 - __main__ - INFO - Chat response generated successfully - Length: 31 chars
2025-05-30 23:37:06,380 - __main__ - INFO - Azure OpenAI client initialized successfully
2025-05-30 23:37:07,887 - __main__ - INFO - health check
2025-05-30 23:37:08,909 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 23:37:08,909 - __main__ - INFO - message_lower: בואו נתחיל באיסוף המידע
2025-05-30 23:37:08,909 - __main__ - INFO - Skipping extraction - message appears to be from assistant: בואו נתחיל באיסוף המידע
2025-05-30 23:37:08,909 - __main__ - INFO - Updated user info: first_name=None last_name=None id_number=None gender=None age=None hmo_name=None hmo_card_number=None insurance_tier=None
2025-05-30 23:37:08,909 - __main__ - INFO - 🔄 DEBUG: Collection complete, checking for confirmation...
2025-05-30 23:37:08,909 - __main__ - INFO - 📝 DEBUG: User message: 'בואו נתחיל באיסוף המידע'
2025-05-30 23:37:08,909 - __main__ - INFO - Messege from user: בואו נתחיל באיסוף המידע
2025-05-30 23:37:08,909 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 23:37:08,909 - __main__ - INFO - 🔍 DEBUG: Confirmation words found: []
2025-05-30 23:37:08,909 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 23:37:08,909 - __main__ - INFO - ❌ DEBUG: No confirmation or question detected, staying in collection phase
2025-05-30 23:37:08,909 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 23:37:08,909 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 23:37:11,679 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 23:37:11,685 - __main__ - INFO - Chat response generated successfully - Length: 401 chars
2025-05-30 23:37:22,685 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 23:37:22,685 - __main__ - INFO - message_lower: אור מאירי 
2025-05-30 23:37:22,686 - __main__ - INFO - Extracted full name: אור מאירי
2025-05-30 23:37:22,686 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number=None gender=None age=None hmo_name=None hmo_card_number=None insurance_tier=None
2025-05-30 23:37:22,686 - __main__ - INFO - 🔄 DEBUG: Collection complete, checking for confirmation...
2025-05-30 23:37:22,686 - __main__ - INFO - 📝 DEBUG: User message: 'אור מאירי '
2025-05-30 23:37:22,686 - __main__ - INFO - Messege from user: אור מאירי 
2025-05-30 23:37:22,686 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 23:37:22,686 - __main__ - INFO - 🔍 DEBUG: Confirmation words found: []
2025-05-30 23:37:22,686 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 23:37:22,686 - __main__ - INFO - ❌ DEBUG: No confirmation or question detected, staying in collection phase
2025-05-30 23:37:22,686 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 23:37:22,686 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 23:37:23,920 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 23:37:23,921 - __main__ - INFO - Chat response generated successfully - Length: 115 chars
2025-05-30 23:37:27,531 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 23:37:27,531 - __main__ - INFO - message_lower: 123456789
2025-05-30 23:37:27,531 - __main__ - INFO - Extracted ID number: 123456789
2025-05-30 23:37:27,531 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number='123456789' gender=None age=None hmo_name=None hmo_card_number=None insurance_tier=None
2025-05-30 23:37:27,531 - __main__ - INFO - 🔄 DEBUG: Collection complete, checking for confirmation...
2025-05-30 23:37:27,531 - __main__ - INFO - 📝 DEBUG: User message: '123456789'
2025-05-30 23:37:27,531 - __main__ - INFO - Messege from user: 123456789
2025-05-30 23:37:27,531 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 23:37:27,531 - __main__ - INFO - 🔍 DEBUG: Confirmation words found: []
2025-05-30 23:37:27,531 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 23:37:27,531 - __main__ - INFO - ❌ DEBUG: No confirmation or question detected, staying in collection phase
2025-05-30 23:37:27,532 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 23:37:27,532 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 23:37:28,427 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 23:37:28,430 - __main__ - INFO - Chat response generated successfully - Length: 66 chars
2025-05-30 23:37:30,908 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 23:37:30,908 - __main__ - INFO - message_lower: זכר
2025-05-30 23:37:30,908 - __main__ - INFO - Extracted gender: זכר
2025-05-30 23:37:30,908 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number='123456789' gender='זכר' age=None hmo_name=None hmo_card_number=None insurance_tier=None
2025-05-30 23:37:30,908 - __main__ - INFO - 🔄 DEBUG: Collection complete, checking for confirmation...
2025-05-30 23:37:30,908 - __main__ - INFO - 📝 DEBUG: User message: 'זכר'
2025-05-30 23:37:30,908 - __main__ - INFO - Messege from user: זכר
2025-05-30 23:37:30,908 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 23:37:30,908 - __main__ - INFO - 🔍 DEBUG: Confirmation words found: []
2025-05-30 23:37:30,908 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 23:37:30,908 - __main__ - INFO - ❌ DEBUG: No confirmation or question detected, staying in collection phase
2025-05-30 23:37:30,908 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 23:37:30,908 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 23:37:31,599 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 23:37:31,601 - __main__ - INFO - Chat response generated successfully - Length: 75 chars
2025-05-30 23:37:33,468 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 23:37:33,469 - __main__ - INFO - message_lower: 2
2025-05-30 23:37:33,469 - __main__ - INFO - Extracted age: 2
2025-05-30 23:37:33,469 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number='123456789' gender='זכר' age=2 hmo_name=None hmo_card_number=None insurance_tier=None
2025-05-30 23:37:33,469 - __main__ - INFO - 🔄 DEBUG: Collection complete, checking for confirmation...
2025-05-30 23:37:33,469 - __main__ - INFO - 📝 DEBUG: User message: '2'
2025-05-30 23:37:33,469 - __main__ - INFO - Messege from user: 2
2025-05-30 23:37:33,469 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 23:37:33,469 - __main__ - INFO - 🔍 DEBUG: Confirmation words found: []
2025-05-30 23:37:33,469 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 23:37:33,469 - __main__ - INFO - ❌ DEBUG: No confirmation or question detected, staying in collection phase
2025-05-30 23:37:33,469 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 23:37:33,469 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 23:37:34,201 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 23:37:34,202 - __main__ - INFO - Chat response generated successfully - Length: 81 chars
2025-05-30 23:37:36,879 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 23:37:36,879 - __main__ - INFO - message_lower: מכבי
2025-05-30 23:37:36,879 - __main__ - INFO - Extracted HMO: מכבי
2025-05-30 23:37:36,879 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number='123456789' gender='זכר' age=2 hmo_name='מכבי' hmo_card_number=None insurance_tier=None
2025-05-30 23:37:36,879 - __main__ - INFO - 🔄 DEBUG: Collection complete, checking for confirmation...
2025-05-30 23:37:36,879 - __main__ - INFO - 📝 DEBUG: User message: 'מכבי'
2025-05-30 23:37:36,879 - __main__ - INFO - Messege from user: מכבי
2025-05-30 23:37:36,879 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 23:37:36,879 - __main__ - INFO - 🔍 DEBUG: Confirmation words found: []
2025-05-30 23:37:36,879 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 23:37:36,879 - __main__ - INFO - ❌ DEBUG: No confirmation or question detected, staying in collection phase
2025-05-30 23:37:36,879 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 23:37:36,880 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 23:37:37,642 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 23:37:37,644 - __main__ - INFO - Chat response generated successfully - Length: 113 chars
2025-05-30 23:37:41,126 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 23:37:41,126 - __main__ - INFO - message_lower: 123456789
2025-05-30 23:37:41,126 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number='123456789' gender='זכר' age=2 hmo_name='מכבי' hmo_card_number=None insurance_tier=None
2025-05-30 23:37:41,126 - __main__ - INFO - 🔄 DEBUG: Collection complete, checking for confirmation...
2025-05-30 23:37:41,126 - __main__ - INFO - 📝 DEBUG: User message: '123456789'
2025-05-30 23:37:41,126 - __main__ - INFO - Messege from user: 123456789
2025-05-30 23:37:41,126 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 23:37:41,126 - __main__ - INFO - 🔍 DEBUG: Confirmation words found: []
2025-05-30 23:37:41,126 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 23:37:41,126 - __main__ - INFO - ❌ DEBUG: No confirmation or question detected, staying in collection phase
2025-05-30 23:37:41,126 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 23:37:41,126 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 23:37:41,736 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 23:37:41,736 - __main__ - INFO - Chat response generated successfully - Length: 75 chars
2025-05-30 23:37:43,480 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 23:37:43,480 - __main__ - INFO - message_lower: זהב
2025-05-30 23:37:43,480 - __main__ - INFO - Extracted insurance tier: זהב
2025-05-30 23:37:43,480 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number='123456789' gender='זכר' age=2 hmo_name='מכבי' hmo_card_number=None insurance_tier='זהב'
2025-05-30 23:37:43,480 - __main__ - INFO - 🔄 DEBUG: Collection complete, checking for confirmation...
2025-05-30 23:37:43,480 - __main__ - INFO - 📝 DEBUG: User message: 'זהב'
2025-05-30 23:37:43,480 - __main__ - INFO - Messege from user: זהב
2025-05-30 23:37:43,480 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 23:37:43,480 - __main__ - INFO - 🔍 DEBUG: Confirmation words found: []
2025-05-30 23:37:43,480 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 23:37:43,480 - __main__ - INFO - ❌ DEBUG: No confirmation or question detected, staying in collection phase
2025-05-30 23:37:43,480 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 23:37:43,480 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 23:37:44,893 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 23:37:44,893 - __main__ - INFO - Chat response generated successfully - Length: 259 chars
2025-05-30 23:37:47,069 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 23:37:47,069 - __main__ - INFO - message_lower: נכון
2025-05-30 23:37:47,069 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number='123456789' gender='זכר' age=2 hmo_name='מכבי' hmo_card_number=None insurance_tier='זהב'
2025-05-30 23:37:47,069 - __main__ - INFO - 🔄 DEBUG: Collection complete, checking for confirmation...
2025-05-30 23:37:47,069 - __main__ - INFO - 📝 DEBUG: User message: 'נכון'
2025-05-30 23:37:47,069 - __main__ - INFO - Messege from user: נכון
2025-05-30 23:37:47,069 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: True
2025-05-30 23:37:47,069 - __main__ - INFO - 🔍 DEBUG: Confirmation words found: ['נכון', 'נכון']
2025-05-30 23:37:47,069 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 23:37:47,069 - __main__ - INFO - 🎉 DEBUG: Transitioning to QA phase!
2025-05-30 23:37:56,531 - __main__ - INFO - Chat request received - Phase: qa, Language: hebrew
2025-05-30 23:37:56,532 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number='123456789' gender='זכר' age=2 hmo_name='מכבי' hmo_card_number=None insurance_tier='זהב'
2025-05-30 23:37:56,532 - __main__ - INFO - 🤔 Hypothetical context detected: {'hmo': 'מאוחדת', 'hmos': ['מאוחדת'], 'tier': 'כסף', 'tiers': ['כסף'], 'is_comparison': False, 'multiple_hmos': False, 'multiple_tiers': False, 'is_followup_hypothetical': False}
2025-05-30 23:37:56,532 - __main__ - INFO - 📋 Identified relevant services: ['dental', 'optometry', 'pregnancy', 'alternative', 'communication_clinic', 'workshops']
2025-05-30 23:37:56,532 - __main__ - INFO - 🔍 Starting get_comprehensive_knowledge_context
2025-05-30 23:37:56,532 - __main__ - INFO - 👤 User info: HMO=מכבי, Tier=זהב
2025-05-30 23:37:56,532 - __main__ - INFO - 🤔 Hypothetical context: {'hmo': 'מאוחדת', 'hmos': ['מאוחדת'], 'tier': 'כסף', 'tiers': ['כסף'], 'is_comparison': False, 'multiple_hmos': False, 'multiple_tiers': False, 'is_followup_hypothetical': False}
2025-05-30 23:37:56,532 - __main__ - INFO - 🌐 Hypothetical/general context detected - loading ALL knowledge base
2025-05-30 23:37:56,532 - __main__ - INFO - 📋 Using ALL services: ['dental', 'optometry', 'pregnancy', 'alternative', 'communication_clinic', 'workshops']
2025-05-30 23:37:56,532 - __main__ - INFO - 🎯 Final relevant services: ['dental', 'optometry', 'pregnancy', 'alternative', 'communication_clinic', 'workshops']
2025-05-30 23:37:56,532 - __main__ - INFO - 📚 Available services in knowledge base: ['dental', 'optometry', 'pregnancy', 'alternative', 'communication_clinic', 'workshops']
2025-05-30 23:37:56,532 - __main__ - INFO - 🔄 Processing service: dental
2025-05-30 23:37:56,532 - __main__ - INFO - ✅ Found dental in knowledge base
2025-05-30 23:37:56,532 - __main__ - INFO - 🎯 Including specific HMO: מאוחדת
2025-05-30 23:37:56,532 - __main__ - INFO - 🎯 Including specific tier: כסף
2025-05-30 23:37:56,532 - __main__ - INFO - 📊 Final targets - HMOs: ['מאוחדת'], Tiers: ['כסף']
2025-05-30 23:37:56,532 - __main__ - INFO - 📋 Processing 6 services
2025-05-30 23:37:56,532 - __main__ - INFO - 🔄 Processing service: optometry
2025-05-30 23:37:56,532 - __main__ - INFO - ✅ Found optometry in knowledge base
2025-05-30 23:37:56,532 - __main__ - INFO - 🎯 Including specific HMO: מאוחדת
2025-05-30 23:37:56,533 - __main__ - INFO - 🎯 Including specific tier: כסף
2025-05-30 23:37:56,533 - __main__ - INFO - 📊 Final targets - HMOs: ['מאוחדת'], Tiers: ['כסף']
2025-05-30 23:37:56,533 - __main__ - INFO - 📋 Processing 6 services
2025-05-30 23:37:56,533 - __main__ - INFO - 🔄 Processing service: pregnancy
2025-05-30 23:37:56,533 - __main__ - INFO - ✅ Found pregnancy in knowledge base
2025-05-30 23:37:56,533 - __main__ - INFO - 🎯 Including specific HMO: מאוחדת
2025-05-30 23:37:56,533 - __main__ - INFO - 🎯 Including specific tier: כסף
2025-05-30 23:37:56,533 - __main__ - INFO - 📊 Final targets - HMOs: ['מאוחדת'], Tiers: ['כסף']
2025-05-30 23:37:56,533 - __main__ - INFO - 📋 Processing 6 services
2025-05-30 23:37:56,533 - __main__ - INFO - 🔄 Processing service: alternative
2025-05-30 23:37:56,533 - __main__ - INFO - ✅ Found alternative in knowledge base
2025-05-30 23:37:56,533 - __main__ - INFO - 🎯 Including specific HMO: מאוחדת
2025-05-30 23:37:56,533 - __main__ - INFO - 🎯 Including specific tier: כסף
2025-05-30 23:37:56,533 - __main__ - INFO - 📊 Final targets - HMOs: ['מאוחדת'], Tiers: ['כסף']
2025-05-30 23:37:56,533 - __main__ - INFO - 📋 Processing 6 services
2025-05-30 23:37:56,533 - __main__ - INFO - 🔄 Processing service: communication_clinic
2025-05-30 23:37:56,533 - __main__ - INFO - ✅ Found communication_clinic in knowledge base
2025-05-30 23:37:56,533 - __main__ - INFO - 🎯 Including specific HMO: מאוחדת
2025-05-30 23:37:56,533 - __main__ - INFO - 🎯 Including specific tier: כסף
2025-05-30 23:37:56,533 - __main__ - INFO - 📊 Final targets - HMOs: ['מאוחדת'], Tiers: ['כסף']
2025-05-30 23:37:56,533 - __main__ - INFO - 📋 Processing 6 services
2025-05-30 23:37:56,534 - __main__ - INFO - 🔄 Processing service: workshops
2025-05-30 23:37:56,534 - __main__ - INFO - ✅ Found workshops in knowledge base
2025-05-30 23:37:56,534 - __main__ - INFO - 🎯 Including specific HMO: מאוחדת
2025-05-30 23:37:56,534 - __main__ - INFO - 🎯 Including specific tier: כסף
2025-05-30 23:37:56,534 - __main__ - INFO - 📊 Final targets - HMOs: ['מאוחדת'], Tiers: ['כסף']
2025-05-30 23:37:56,534 - __main__ - INFO - 📋 Processing 6 services
2025-05-30 23:37:56,534 - __main__ - INFO - 📝 Final comprehensive context length: 3904 chars
2025-05-30 23:37:56,534 - __main__ - INFO - 📄 First 300 chars of context:
2025-05-30 23:37:56,534 - __main__ - INFO - 

=== מרפאות שיניים ===
תיאור: מרפאות שיניים מציעות מגוון רחב של שירותי בריאות הפה, כולל בדיקות שגרתיות, ניקויים, סתימות, טיפולי שורש, עקירות, והליכים קוסמטיים. מרפאות אלו מאוישות על ידי רופאי שיניים מורשים ושינניות המשתמשים בציוד מודרני כדי להבטיח טיפול איכותי לפציינטים מכל הגילאים.

** בדיקות וניק
2025-05-30 23:37:56,534 - __main__ - INFO - ==================================================
2025-05-30 23:37:56,534 - __main__ - INFO - 📝 Knowledge context length: 3904
2025-05-30 23:37:56,534 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 23:37:56,534 - __main__ - INFO - Knowledge context length: 3904 chars
2025-05-30 23:37:57,610 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 23:37:57,611 - __main__ - INFO - Chat response generated successfully - Length: 31 chars
2025-05-30 23:38:05,852 - __main__ - INFO - Chat request received - Phase: qa, Language: hebrew
2025-05-30 23:38:05,853 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number='123456789' gender='זכר' age=2 hmo_name='מכבי' hmo_card_number=None insurance_tier='זהב'
2025-05-30 23:38:05,853 - __main__ - INFO - 🤔 Hypothetical context detected: {'hmo': None, 'hmos': ['מכבי', 'מאוחדת'], 'tier': None, 'tiers': [], 'is_comparison': True, 'multiple_hmos': True, 'multiple_tiers': False, 'is_followup_hypothetical': True}
2025-05-30 23:38:05,853 - __main__ - INFO - 📋 Identified relevant services: []
2025-05-30 23:38:05,853 - __main__ - INFO - 🔍 Starting get_comprehensive_knowledge_context
2025-05-30 23:38:05,853 - __main__ - INFO - 👤 User info: HMO=מכבי, Tier=זהב
2025-05-30 23:38:05,853 - __main__ - INFO - 🤔 Hypothetical context: {'hmo': None, 'hmos': ['מכבי', 'מאוחדת'], 'tier': None, 'tiers': [], 'is_comparison': True, 'multiple_hmos': True, 'multiple_tiers': False, 'is_followup_hypothetical': True}
2025-05-30 23:38:05,853 - __main__ - INFO - 🌐 Hypothetical/general context detected - loading ALL knowledge base
2025-05-30 23:38:05,853 - __main__ - INFO - 📋 Using ALL services: ['dental', 'optometry', 'pregnancy', 'alternative', 'communication_clinic', 'workshops']
2025-05-30 23:38:05,853 - __main__ - INFO - 🎯 Final relevant services: ['dental', 'optometry', 'pregnancy', 'alternative', 'communication_clinic', 'workshops']
2025-05-30 23:38:05,853 - __main__ - INFO - 📚 Available services in knowledge base: ['dental', 'optometry', 'pregnancy', 'alternative', 'communication_clinic', 'workshops']
2025-05-30 23:38:05,853 - __main__ - INFO - 🔄 Processing service: dental
2025-05-30 23:38:05,853 - __main__ - INFO - ✅ Found dental in knowledge base
2025-05-30 23:38:05,853 - __main__ - INFO - 🔄 Including all HMOs for comparison
2025-05-30 23:38:05,853 - __main__ - INFO - 🔄 Including all tiers for comparison
2025-05-30 23:38:05,853 - __main__ - INFO - 📊 Final targets - HMOs: ['מכבי', 'מאוחדת', 'כללית'], Tiers: ['זהב', 'כסף', 'ארד']
2025-05-30 23:38:05,853 - __main__ - INFO - 📋 Processing 6 services
2025-05-30 23:38:05,853 - __main__ - INFO - 🔄 Processing service: optometry
2025-05-30 23:38:05,853 - __main__ - INFO - ✅ Found optometry in knowledge base
2025-05-30 23:38:05,853 - __main__ - INFO - 🔄 Including all HMOs for comparison
2025-05-30 23:38:05,853 - __main__ - INFO - 🔄 Including all tiers for comparison
2025-05-30 23:38:05,853 - __main__ - INFO - 📊 Final targets - HMOs: ['מכבי', 'מאוחדת', 'כללית'], Tiers: ['זהב', 'כסף', 'ארד']
2025-05-30 23:38:05,853 - __main__ - INFO - 📋 Processing 6 services
2025-05-30 23:38:05,853 - __main__ - INFO - 🔄 Processing service: pregnancy
2025-05-30 23:38:05,853 - __main__ - INFO - ✅ Found pregnancy in knowledge base
2025-05-30 23:38:05,853 - __main__ - INFO - 🔄 Including all HMOs for comparison
2025-05-30 23:38:05,853 - __main__ - INFO - 🔄 Including all tiers for comparison
2025-05-30 23:38:05,854 - __main__ - INFO - 📊 Final targets - HMOs: ['מכבי', 'מאוחדת', 'כללית'], Tiers: ['זהב', 'כסף', 'ארד']
2025-05-30 23:38:05,854 - __main__ - INFO - 📋 Processing 6 services
2025-05-30 23:38:05,854 - __main__ - INFO - 🔄 Processing service: alternative
2025-05-30 23:38:05,854 - __main__ - INFO - ✅ Found alternative in knowledge base
2025-05-30 23:38:05,854 - __main__ - INFO - 🔄 Including all HMOs for comparison
2025-05-30 23:38:05,854 - __main__ - INFO - 🔄 Including all tiers for comparison
2025-05-30 23:38:05,854 - __main__ - INFO - 📊 Final targets - HMOs: ['מכבי', 'מאוחדת', 'כללית'], Tiers: ['זהב', 'כסף', 'ארד']
2025-05-30 23:38:05,854 - __main__ - INFO - 📋 Processing 6 services
2025-05-30 23:38:05,854 - __main__ - INFO - 🔄 Processing service: communication_clinic
2025-05-30 23:38:05,854 - __main__ - INFO - ✅ Found communication_clinic in knowledge base
2025-05-30 23:38:05,854 - __main__ - INFO - 🔄 Including all HMOs for comparison
2025-05-30 23:38:05,854 - __main__ - INFO - 🔄 Including all tiers for comparison
2025-05-30 23:38:05,854 - __main__ - INFO - 📊 Final targets - HMOs: ['מכבי', 'מאוחדת', 'כללית'], Tiers: ['זהב', 'כסף', 'ארד']
2025-05-30 23:38:05,854 - __main__ - INFO - 📋 Processing 6 services
2025-05-30 23:38:05,854 - __main__ - INFO - 🔄 Processing service: workshops
2025-05-30 23:38:05,854 - __main__ - INFO - ✅ Found workshops in knowledge base
2025-05-30 23:38:05,854 - __main__ - INFO - 🔄 Including all HMOs for comparison
2025-05-30 23:38:05,854 - __main__ - INFO - 🔄 Including all tiers for comparison
2025-05-30 23:38:05,854 - __main__ - INFO - 📊 Final targets - HMOs: ['מכבי', 'מאוחדת', 'כללית'], Tiers: ['זהב', 'כסף', 'ארד']
2025-05-30 23:38:05,854 - __main__ - INFO - 📋 Processing 6 services
2025-05-30 23:38:05,854 - __main__ - INFO - 📝 Final comprehensive context length: 13999 chars
2025-05-30 23:38:05,854 - __main__ - INFO - 📄 First 300 chars of context:
2025-05-30 23:38:05,854 - __main__ - INFO - 

=== מרפאות שיניים ===
תיאור: מרפאות שיניים מציעות מגוון רחב של שירותי בריאות הפה, כולל בדיקות שגרתיות, ניקויים, סתימות, טיפולי שורש, עקירות, והליכים קוסמטיים. מרפאות אלו מאוישות על ידי רופאי שיניים מורשים ושינניות המשתמשים בציוד מודרני כדי להבטיח טיפול איכותי לפציינטים מכל הגילאים.

** בדיקות וניק
2025-05-30 23:38:05,854 - __main__ - INFO - ==================================================
2025-05-30 23:38:05,854 - __main__ - INFO - 📝 Knowledge context length: 13999
2025-05-30 23:38:05,854 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 23:38:05,854 - __main__ - INFO - Knowledge context length: 13999 chars
2025-05-30 23:38:07,531 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 23:38:07,534 - __main__ - INFO - Chat response generated successfully - Length: 136 chars
2025-05-30 23:44:34,984 - __main__ - INFO - Azure OpenAI client initialized successfully
2025-05-30 23:44:36,495 - __main__ - INFO - health check
2025-05-30 23:44:37,544 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 23:44:37,544 - __main__ - INFO - message_lower: בואו נתחיל באיסוף המידע
2025-05-30 23:44:37,544 - __main__ - INFO - Skipping extraction - message appears to be from assistant: בואו נתחיל באיסוף המידע
2025-05-30 23:44:37,544 - __main__ - INFO - Updated user info: first_name=None last_name=None id_number=None gender=None age=None hmo_name=None hmo_card_number=None insurance_tier=None
2025-05-30 23:44:37,544 - __main__ - INFO - 🔄 DEBUG: Collection complete, checking for confirmation...
2025-05-30 23:44:37,544 - __main__ - INFO - 📝 DEBUG: User message: 'בואו נתחיל באיסוף המידע'
2025-05-30 23:44:37,544 - __main__ - INFO - Messege from user: בואו נתחיל באיסוף המידע
2025-05-30 23:44:37,544 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 23:44:37,544 - __main__ - INFO - 🔍 DEBUG: Confirmation words found: []
2025-05-30 23:44:37,544 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 23:44:37,544 - __main__ - INFO - ❌ DEBUG: No confirmation or question detected, staying in collection phase
2025-05-30 23:44:37,544 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 23:44:37,544 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 23:44:40,013 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 23:44:40,018 - __main__ - INFO - Chat response generated successfully - Length: 438 chars
2025-05-30 23:44:44,328 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 23:44:44,328 - __main__ - INFO - message_lower: אור מאירי 
2025-05-30 23:44:44,328 - __main__ - INFO - Extracted full name: אור מאירי
2025-05-30 23:44:44,329 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number=None gender=None age=None hmo_name=None hmo_card_number=None insurance_tier=None
2025-05-30 23:44:44,329 - __main__ - INFO - 🔄 DEBUG: Collection complete, checking for confirmation...
2025-05-30 23:44:44,329 - __main__ - INFO - 📝 DEBUG: User message: 'אור מאירי '
2025-05-30 23:44:44,329 - __main__ - INFO - Messege from user: אור מאירי 
2025-05-30 23:44:44,329 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 23:44:44,329 - __main__ - INFO - 🔍 DEBUG: Confirmation words found: []
2025-05-30 23:44:44,329 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 23:44:44,329 - __main__ - INFO - ❌ DEBUG: No confirmation or question detected, staying in collection phase
2025-05-30 23:44:44,329 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 23:44:44,329 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 23:44:44,914 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 23:44:44,915 - __main__ - INFO - Chat response generated successfully - Length: 107 chars
2025-05-30 23:44:48,652 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 23:44:48,652 - __main__ - INFO - message_lower: 123456789
2025-05-30 23:44:48,652 - __main__ - INFO - Extracted ID number: 123456789
2025-05-30 23:44:48,652 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number='123456789' gender=None age=None hmo_name=None hmo_card_number=None insurance_tier=None
2025-05-30 23:44:48,652 - __main__ - INFO - 🔄 DEBUG: Collection complete, checking for confirmation...
2025-05-30 23:44:48,652 - __main__ - INFO - 📝 DEBUG: User message: '123456789'
2025-05-30 23:44:48,652 - __main__ - INFO - Messege from user: 123456789
2025-05-30 23:44:48,652 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 23:44:48,652 - __main__ - INFO - 🔍 DEBUG: Confirmation words found: []
2025-05-30 23:44:48,652 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 23:44:48,652 - __main__ - INFO - ❌ DEBUG: No confirmation or question detected, staying in collection phase
2025-05-30 23:44:48,652 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 23:44:48,652 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 23:44:52,505 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 23:44:52,505 - __main__ - INFO - Chat response generated successfully - Length: 71 chars
2025-05-30 23:44:55,527 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 23:44:55,527 - __main__ - INFO - message_lower: זכר
2025-05-30 23:44:55,527 - __main__ - INFO - Extracted gender: זכר
2025-05-30 23:44:55,527 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number='123456789' gender='זכר' age=None hmo_name=None hmo_card_number=None insurance_tier=None
2025-05-30 23:44:55,527 - __main__ - INFO - 🔄 DEBUG: Collection complete, checking for confirmation...
2025-05-30 23:44:55,527 - __main__ - INFO - 📝 DEBUG: User message: 'זכר'
2025-05-30 23:44:55,527 - __main__ - INFO - Messege from user: זכר
2025-05-30 23:44:55,527 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 23:44:55,527 - __main__ - INFO - 🔍 DEBUG: Confirmation words found: []
2025-05-30 23:44:55,527 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 23:44:55,527 - __main__ - INFO - ❌ DEBUG: No confirmation or question detected, staying in collection phase
2025-05-30 23:44:55,527 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 23:44:55,527 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 23:44:56,128 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 23:44:56,131 - __main__ - INFO - Chat response generated successfully - Length: 71 chars
2025-05-30 23:44:59,690 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 23:44:59,690 - __main__ - INFO - message_lower: 2
2025-05-30 23:44:59,690 - __main__ - INFO - Extracted age: 2
2025-05-30 23:44:59,691 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number='123456789' gender='זכר' age=2 hmo_name=None hmo_card_number=None insurance_tier=None
2025-05-30 23:44:59,691 - __main__ - INFO - 🔄 DEBUG: Collection complete, checking for confirmation...
2025-05-30 23:44:59,691 - __main__ - INFO - 📝 DEBUG: User message: '2'
2025-05-30 23:44:59,691 - __main__ - INFO - Messege from user: 2
2025-05-30 23:44:59,691 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 23:44:59,691 - __main__ - INFO - 🔍 DEBUG: Confirmation words found: []
2025-05-30 23:44:59,691 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 23:44:59,691 - __main__ - INFO - ❌ DEBUG: No confirmation or question detected, staying in collection phase
2025-05-30 23:44:59,691 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 23:44:59,691 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 23:45:00,575 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 23:45:00,576 - __main__ - INFO - Chat response generated successfully - Length: 91 chars
2025-05-30 23:45:03,123 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 23:45:03,124 - __main__ - INFO - message_lower: מגבי
2025-05-30 23:45:03,124 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number='123456789' gender='זכר' age=2 hmo_name=None hmo_card_number=None insurance_tier=None
2025-05-30 23:45:03,124 - __main__ - INFO - 🔄 DEBUG: Collection complete, checking for confirmation...
2025-05-30 23:45:03,124 - __main__ - INFO - 📝 DEBUG: User message: 'מגבי'
2025-05-30 23:45:03,124 - __main__ - INFO - Messege from user: מגבי
2025-05-30 23:45:03,124 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 23:45:03,124 - __main__ - INFO - 🔍 DEBUG: Confirmation words found: []
2025-05-30 23:45:03,124 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 23:45:03,124 - __main__ - INFO - ❌ DEBUG: No confirmation or question detected, staying in collection phase
2025-05-30 23:45:03,124 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 23:45:03,124 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 23:45:03,768 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 23:45:03,770 - __main__ - INFO - Chat response generated successfully - Length: 81 chars
2025-05-30 23:45:05,126 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 23:45:05,126 - __main__ - INFO - message_lower: מכבי
2025-05-30 23:45:05,127 - __main__ - INFO - Extracted HMO: מכבי
2025-05-30 23:45:05,127 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number='123456789' gender='זכר' age=2 hmo_name='מכבי' hmo_card_number=None insurance_tier=None
2025-05-30 23:45:05,127 - __main__ - INFO - 🔄 DEBUG: Collection complete, checking for confirmation...
2025-05-30 23:45:05,127 - __main__ - INFO - 📝 DEBUG: User message: 'מכבי'
2025-05-30 23:45:05,127 - __main__ - INFO - Messege from user: מכבי
2025-05-30 23:45:05,127 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 23:45:05,127 - __main__ - INFO - 🔍 DEBUG: Confirmation words found: []
2025-05-30 23:45:05,127 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 23:45:05,127 - __main__ - INFO - ❌ DEBUG: No confirmation or question detected, staying in collection phase
2025-05-30 23:45:05,127 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 23:45:05,127 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 23:45:05,715 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 23:45:05,716 - __main__ - INFO - Chat response generated successfully - Length: 106 chars
2025-05-30 23:45:07,283 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 23:45:07,283 - __main__ - INFO - message_lower: 123456789
2025-05-30 23:45:07,284 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number='123456789' gender='זכר' age=2 hmo_name='מכבי' hmo_card_number=None insurance_tier=None
2025-05-30 23:45:07,284 - __main__ - INFO - 🔄 DEBUG: Collection complete, checking for confirmation...
2025-05-30 23:45:07,284 - __main__ - INFO - 📝 DEBUG: User message: '123456789'
2025-05-30 23:45:07,284 - __main__ - INFO - Messege from user: 123456789
2025-05-30 23:45:07,284 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 23:45:07,284 - __main__ - INFO - 🔍 DEBUG: Confirmation words found: []
2025-05-30 23:45:07,284 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 23:45:07,284 - __main__ - INFO - ❌ DEBUG: No confirmation or question detected, staying in collection phase
2025-05-30 23:45:07,284 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 23:45:07,284 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 23:45:07,801 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 23:45:07,803 - __main__ - INFO - Chat response generated successfully - Length: 86 chars
2025-05-30 23:45:09,540 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 23:45:09,540 - __main__ - INFO - message_lower: זהב
2025-05-30 23:45:09,541 - __main__ - INFO - Extracted insurance tier: זהב
2025-05-30 23:45:09,541 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number='123456789' gender='זכר' age=2 hmo_name='מכבי' hmo_card_number=None insurance_tier='זהב'
2025-05-30 23:45:09,541 - __main__ - INFO - 🔄 DEBUG: Collection complete, checking for confirmation...
2025-05-30 23:45:09,541 - __main__ - INFO - 📝 DEBUG: User message: 'זהב'
2025-05-30 23:45:09,541 - __main__ - INFO - Messege from user: זהב
2025-05-30 23:45:09,541 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 23:45:09,541 - __main__ - INFO - 🔍 DEBUG: Confirmation words found: []
2025-05-30 23:45:09,541 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 23:45:09,541 - __main__ - INFO - ❌ DEBUG: No confirmation or question detected, staying in collection phase
2025-05-30 23:45:09,541 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 23:45:09,541 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 23:45:11,011 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 23:45:11,013 - __main__ - INFO - Chat response generated successfully - Length: 270 chars
2025-05-30 23:45:14,201 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 23:45:14,201 - __main__ - INFO - message_lower: נכון
2025-05-30 23:45:14,201 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number='123456789' gender='זכר' age=2 hmo_name='מכבי' hmo_card_number=None insurance_tier='זהב'
2025-05-30 23:45:14,201 - __main__ - INFO - 🔄 DEBUG: Collection complete, checking for confirmation...
2025-05-30 23:45:14,202 - __main__ - INFO - 📝 DEBUG: User message: 'נכון'
2025-05-30 23:45:14,202 - __main__ - INFO - Messege from user: נכון
2025-05-30 23:45:14,202 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: True
2025-05-30 23:45:14,202 - __main__ - INFO - 🔍 DEBUG: Confirmation words found: ['נכון', 'נכון']
2025-05-30 23:45:14,202 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 23:45:14,202 - __main__ - INFO - 🎉 DEBUG: Transitioning to QA phase!
2025-05-30 23:45:23,041 - __main__ - INFO - Chat request received - Phase: qa, Language: hebrew
2025-05-30 23:45:23,041 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number='123456789' gender='זכר' age=2 hmo_name='מכבי' hmo_card_number=None insurance_tier='זהב'
2025-05-30 23:45:23,041 - __main__ - INFO - 🤔 Hypothetical context detected: {'hmo': 'מאוחדת', 'hmos': ['מאוחדת'], 'tier': 'כסף', 'tiers': ['כסף'], 'is_comparison': False, 'multiple_hmos': False, 'multiple_tiers': False, 'is_followup_hypothetical': False}
2025-05-30 23:45:23,041 - __main__ - INFO - 📋 Identified relevant services: ['dental', 'optometry', 'pregnancy', 'alternative', 'communication_clinic', 'workshops']
2025-05-30 23:45:23,041 - __main__ - INFO - 🔍 Starting get_comprehensive_knowledge_context
2025-05-30 23:45:23,041 - __main__ - INFO - 👤 User info: HMO=מכבי, Tier=זהב
2025-05-30 23:45:23,041 - __main__ - INFO - 🤔 Hypothetical context: {'hmo': 'מאוחדת', 'hmos': ['מאוחדת'], 'tier': 'כסף', 'tiers': ['כסף'], 'is_comparison': False, 'multiple_hmos': False, 'multiple_tiers': False, 'is_followup_hypothetical': False}
2025-05-30 23:45:23,041 - __main__ - INFO - 🌐 Hypothetical/general context detected - loading ALL knowledge base
2025-05-30 23:45:23,041 - __main__ - INFO - 📋 Using ALL services: ['dental', 'optometry', 'pregnancy', 'alternative', 'communication_clinic', 'workshops']
2025-05-30 23:45:23,041 - __main__ - INFO - 🎯 Final relevant services: ['dental', 'optometry', 'pregnancy', 'alternative', 'communication_clinic', 'workshops']
2025-05-30 23:45:23,041 - __main__ - INFO - 📚 Available services in knowledge base: ['dental', 'optometry', 'pregnancy', 'alternative', 'communication_clinic', 'workshops']
2025-05-30 23:45:23,041 - __main__ - INFO - 🔄 Processing service: dental
2025-05-30 23:45:23,041 - __main__ - INFO - ✅ Found dental in knowledge base
2025-05-30 23:45:23,041 - __main__ - INFO - 🎯 Including specific HMO: מאוחדת
2025-05-30 23:45:23,041 - __main__ - INFO - 🎯 Including specific tier: כסף
2025-05-30 23:45:23,041 - __main__ - INFO - 📊 Final targets - HMOs: ['מאוחדת'], Tiers: ['כסף']
2025-05-30 23:45:23,041 - __main__ - INFO - 📋 Processing 6 services
2025-05-30 23:45:23,041 - __main__ - INFO - 🔄 Processing service: optometry
2025-05-30 23:45:23,042 - __main__ - INFO - ✅ Found optometry in knowledge base
2025-05-30 23:45:23,042 - __main__ - INFO - 🎯 Including specific HMO: מאוחדת
2025-05-30 23:45:23,042 - __main__ - INFO - 🎯 Including specific tier: כסף
2025-05-30 23:45:23,042 - __main__ - INFO - 📊 Final targets - HMOs: ['מאוחדת'], Tiers: ['כסף']
2025-05-30 23:45:23,042 - __main__ - INFO - 📋 Processing 6 services
2025-05-30 23:45:23,042 - __main__ - INFO - 🔄 Processing service: pregnancy
2025-05-30 23:45:23,042 - __main__ - INFO - ✅ Found pregnancy in knowledge base
2025-05-30 23:45:23,042 - __main__ - INFO - 🎯 Including specific HMO: מאוחדת
2025-05-30 23:45:23,042 - __main__ - INFO - 🎯 Including specific tier: כסף
2025-05-30 23:45:23,042 - __main__ - INFO - 📊 Final targets - HMOs: ['מאוחדת'], Tiers: ['כסף']
2025-05-30 23:45:23,042 - __main__ - INFO - 📋 Processing 6 services
2025-05-30 23:45:23,042 - __main__ - INFO - 🔄 Processing service: alternative
2025-05-30 23:45:23,042 - __main__ - INFO - ✅ Found alternative in knowledge base
2025-05-30 23:45:23,042 - __main__ - INFO - 🎯 Including specific HMO: מאוחדת
2025-05-30 23:45:23,042 - __main__ - INFO - 🎯 Including specific tier: כסף
2025-05-30 23:45:23,042 - __main__ - INFO - 📊 Final targets - HMOs: ['מאוחדת'], Tiers: ['כסף']
2025-05-30 23:45:23,042 - __main__ - INFO - 📋 Processing 6 services
2025-05-30 23:45:23,042 - __main__ - INFO - 🔄 Processing service: communication_clinic
2025-05-30 23:45:23,042 - __main__ - INFO - ✅ Found communication_clinic in knowledge base
2025-05-30 23:45:23,042 - __main__ - INFO - 🎯 Including specific HMO: מאוחדת
2025-05-30 23:45:23,042 - __main__ - INFO - 🎯 Including specific tier: כסף
2025-05-30 23:45:23,042 - __main__ - INFO - 📊 Final targets - HMOs: ['מאוחדת'], Tiers: ['כסף']
2025-05-30 23:45:23,042 - __main__ - INFO - 📋 Processing 6 services
2025-05-30 23:45:23,042 - __main__ - INFO - 🔄 Processing service: workshops
2025-05-30 23:45:23,042 - __main__ - INFO - ✅ Found workshops in knowledge base
2025-05-30 23:45:23,042 - __main__ - INFO - 🎯 Including specific HMO: מאוחדת
2025-05-30 23:45:23,042 - __main__ - INFO - 🎯 Including specific tier: כסף
2025-05-30 23:45:23,043 - __main__ - INFO - 📊 Final targets - HMOs: ['מאוחדת'], Tiers: ['כסף']
2025-05-30 23:45:23,043 - __main__ - INFO - 📋 Processing 6 services
2025-05-30 23:45:23,043 - __main__ - INFO - 📝 Final comprehensive context length: 3904 chars
2025-05-30 23:45:23,043 - __main__ - INFO - 📄 First 300 chars of context:
2025-05-30 23:45:23,043 - __main__ - INFO - 

=== מרפאות שיניים ===
תיאור: מרפאות שיניים מציעות מגוון רחב של שירותי בריאות הפה, כולל בדיקות שגרתיות, ניקויים, סתימות, טיפולי שורש, עקירות, והליכים קוסמטיים. מרפאות אלו מאוישות על ידי רופאי שיניים מורשים ושינניות המשתמשים בציוד מודרני כדי להבטיח טיפול איכותי לפציינטים מכל הגילאים.

** בדיקות וניק
2025-05-30 23:45:23,043 - __main__ - INFO - ==================================================
2025-05-30 23:45:23,043 - __main__ - INFO - 📝 Knowledge context length: 3904
2025-05-30 23:45:23,043 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 23:45:23,043 - __main__ - INFO - Knowledge context length: 3904 chars
2025-05-30 23:45:32,546 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 23:45:32,548 - __main__ - INFO - Chat response generated successfully - Length: 1730 chars
2025-05-30 23:45:55,020 - __main__ - INFO - Chat request received - Phase: qa, Language: hebrew
2025-05-30 23:45:55,021 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number='123456789' gender='זכר' age=2 hmo_name='מכבי' hmo_card_number=None insurance_tier='זהב'
2025-05-30 23:45:55,021 - __main__ - INFO - 🤔 Hypothetical context detected: {'hmo': 'מכבי', 'hmos': ['מכבי'], 'tier': 'זהב', 'tiers': ['זהב'], 'is_comparison': False, 'multiple_hmos': False, 'multiple_tiers': False, 'is_followup_hypothetical': False}
2025-05-30 23:45:55,021 - __main__ - INFO - 📋 Identified relevant services: ['dental', 'optometry', 'pregnancy', 'alternative', 'communication_clinic', 'workshops']
2025-05-30 23:45:55,021 - __main__ - INFO - 🔍 Starting get_comprehensive_knowledge_context
2025-05-30 23:45:55,021 - __main__ - INFO - 👤 User info: HMO=מכבי, Tier=זהב
2025-05-30 23:45:55,021 - __main__ - INFO - 🤔 Hypothetical context: {'hmo': 'מכבי', 'hmos': ['מכבי'], 'tier': 'זהב', 'tiers': ['זהב'], 'is_comparison': False, 'multiple_hmos': False, 'multiple_tiers': False, 'is_followup_hypothetical': False}
2025-05-30 23:45:55,021 - __main__ - INFO - 🌐 Hypothetical/general context detected - loading ALL knowledge base
2025-05-30 23:45:55,021 - __main__ - INFO - 📋 Using ALL services: ['dental', 'optometry', 'pregnancy', 'alternative', 'communication_clinic', 'workshops']
2025-05-30 23:45:55,021 - __main__ - INFO - 🎯 Final relevant services: ['dental', 'optometry', 'pregnancy', 'alternative', 'communication_clinic', 'workshops']
2025-05-30 23:45:55,021 - __main__ - INFO - 📚 Available services in knowledge base: ['dental', 'optometry', 'pregnancy', 'alternative', 'communication_clinic', 'workshops']
2025-05-30 23:45:55,021 - __main__ - INFO - 🔄 Processing service: dental
2025-05-30 23:45:55,021 - __main__ - INFO - ✅ Found dental in knowledge base
2025-05-30 23:45:55,021 - __main__ - INFO - 🎯 Including specific HMO: מכבי
2025-05-30 23:45:55,021 - __main__ - INFO - 🎯 Including specific tier: זהב
2025-05-30 23:45:55,021 - __main__ - INFO - 📊 Final targets - HMOs: ['מכבי'], Tiers: ['זהב']
2025-05-30 23:45:55,022 - __main__ - INFO - 📋 Processing 6 services
2025-05-30 23:45:55,022 - __main__ - INFO - 🔄 Processing service: optometry
2025-05-30 23:45:55,022 - __main__ - INFO - ✅ Found optometry in knowledge base
2025-05-30 23:45:55,022 - __main__ - INFO - 🎯 Including specific HMO: מכבי
2025-05-30 23:45:55,022 - __main__ - INFO - 🎯 Including specific tier: זהב
2025-05-30 23:45:55,022 - __main__ - INFO - 📊 Final targets - HMOs: ['מכבי'], Tiers: ['זהב']
2025-05-30 23:45:55,022 - __main__ - INFO - 📋 Processing 6 services
2025-05-30 23:45:55,022 - __main__ - INFO - 🔄 Processing service: pregnancy
2025-05-30 23:45:55,022 - __main__ - INFO - ✅ Found pregnancy in knowledge base
2025-05-30 23:45:55,022 - __main__ - INFO - 🎯 Including specific HMO: מכבי
2025-05-30 23:45:55,022 - __main__ - INFO - 🎯 Including specific tier: זהב
2025-05-30 23:45:55,022 - __main__ - INFO - 📊 Final targets - HMOs: ['מכבי'], Tiers: ['זהב']
2025-05-30 23:45:55,022 - __main__ - INFO - 📋 Processing 6 services
2025-05-30 23:45:55,022 - __main__ - INFO - 🔄 Processing service: alternative
2025-05-30 23:45:55,022 - __main__ - INFO - ✅ Found alternative in knowledge base
2025-05-30 23:45:55,022 - __main__ - INFO - 🎯 Including specific HMO: מכבי
2025-05-30 23:45:55,022 - __main__ - INFO - 🎯 Including specific tier: זהב
2025-05-30 23:45:55,022 - __main__ - INFO - 📊 Final targets - HMOs: ['מכבי'], Tiers: ['זהב']
2025-05-30 23:45:55,022 - __main__ - INFO - 📋 Processing 6 services
2025-05-30 23:45:55,022 - __main__ - INFO - 🔄 Processing service: communication_clinic
2025-05-30 23:45:55,022 - __main__ - INFO - ✅ Found communication_clinic in knowledge base
2025-05-30 23:45:55,022 - __main__ - INFO - 🎯 Including specific HMO: מכבי
2025-05-30 23:45:55,022 - __main__ - INFO - 🎯 Including specific tier: זהב
2025-05-30 23:45:55,022 - __main__ - INFO - 📊 Final targets - HMOs: ['מכבי'], Tiers: ['זהב']
2025-05-30 23:45:55,022 - __main__ - INFO - 📋 Processing 6 services
2025-05-30 23:45:55,022 - __main__ - INFO - 🔄 Processing service: workshops
2025-05-30 23:45:55,022 - __main__ - INFO - ✅ Found workshops in knowledge base
2025-05-30 23:45:55,022 - __main__ - INFO - 🎯 Including specific HMO: מכבי
2025-05-30 23:45:55,023 - __main__ - INFO - 🎯 Including specific tier: זהב
2025-05-30 23:45:55,023 - __main__ - INFO - 📊 Final targets - HMOs: ['מכבי'], Tiers: ['זהב']
2025-05-30 23:45:55,023 - __main__ - INFO - 📋 Processing 6 services
2025-05-30 23:45:55,023 - __main__ - INFO - 📝 Final comprehensive context length: 4255 chars
2025-05-30 23:45:55,023 - __main__ - INFO - 📄 First 300 chars of context:
2025-05-30 23:45:55,023 - __main__ - INFO - 

=== מרפאות שיניים ===
תיאור: מרפאות שיניים מציעות מגוון רחב של שירותי בריאות הפה, כולל בדיקות שגרתיות, ניקויים, סתימות, טיפולי שורש, עקירות, והליכים קוסמטיים. מרפאות אלו מאוישות על ידי רופאי שיניים מורשים ושינניות המשתמשים בציוד מודרני כדי להבטיח טיפול איכותי לפציינטים מכל הגילאים.

** בדיקות וניק
2025-05-30 23:45:55,023 - __main__ - INFO - ==================================================
2025-05-30 23:45:55,023 - __main__ - INFO - 📝 Knowledge context length: 4255
2025-05-30 23:45:55,023 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 23:45:55,023 - __main__ - INFO - Knowledge context length: 4255 chars
2025-05-30 23:46:03,778 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 23:46:03,780 - __main__ - INFO - Chat response generated successfully - Length: 2149 chars
2025-05-30 23:46:10,548 - __main__ - INFO - Chat request received - Phase: qa, Language: hebrew
2025-05-30 23:46:10,548 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number='123456789' gender='זכר' age=2 hmo_name='מכבי' hmo_card_number=None insurance_tier='זהב'
2025-05-30 23:46:10,548 - __main__ - INFO - 🤔 Hypothetical context detected: {'hmo': 'מכבי', 'hmos': ['מכבי'], 'tier': 'זהב', 'tiers': ['זהב'], 'is_comparison': False, 'multiple_hmos': False, 'multiple_tiers': False, 'is_followup_hypothetical': False}
2025-05-30 23:46:10,548 - __main__ - INFO - 📋 Identified relevant services: ['pregnancy']
2025-05-30 23:46:10,548 - __main__ - INFO - 🔍 Starting get_comprehensive_knowledge_context
2025-05-30 23:46:10,548 - __main__ - INFO - 👤 User info: HMO=מכבי, Tier=זהב
2025-05-30 23:46:10,548 - __main__ - INFO - 🤔 Hypothetical context: {'hmo': 'מכבי', 'hmos': ['מכבי'], 'tier': 'זהב', 'tiers': ['זהב'], 'is_comparison': False, 'multiple_hmos': False, 'multiple_tiers': False, 'is_followup_hypothetical': False}
2025-05-30 23:46:10,548 - __main__ - INFO - 🌐 Hypothetical/general context detected - loading ALL knowledge base
2025-05-30 23:46:10,548 - __main__ - INFO - 📋 Using ALL services: ['dental', 'optometry', 'pregnancy', 'alternative', 'communication_clinic', 'workshops']
2025-05-30 23:46:10,548 - __main__ - INFO - 🎯 Final relevant services: ['dental', 'optometry', 'pregnancy', 'alternative', 'communication_clinic', 'workshops']
2025-05-30 23:46:10,548 - __main__ - INFO - 📚 Available services in knowledge base: ['dental', 'optometry', 'pregnancy', 'alternative', 'communication_clinic', 'workshops']
2025-05-30 23:46:10,549 - __main__ - INFO - 🔄 Processing service: dental
2025-05-30 23:46:10,549 - __main__ - INFO - ✅ Found dental in knowledge base
2025-05-30 23:46:10,549 - __main__ - INFO - 🎯 Including specific HMO: מכבי
2025-05-30 23:46:10,549 - __main__ - INFO - 🎯 Including specific tier: זהב
2025-05-30 23:46:10,549 - __main__ - INFO - 📊 Final targets - HMOs: ['מכבי'], Tiers: ['זהב']
2025-05-30 23:46:10,549 - __main__ - INFO - 📋 Processing 6 services
2025-05-30 23:46:10,549 - __main__ - INFO - 🔄 Processing service: optometry
2025-05-30 23:46:10,549 - __main__ - INFO - ✅ Found optometry in knowledge base
2025-05-30 23:46:10,549 - __main__ - INFO - 🎯 Including specific HMO: מכבי
2025-05-30 23:46:10,549 - __main__ - INFO - 🎯 Including specific tier: זהב
2025-05-30 23:46:10,549 - __main__ - INFO - 📊 Final targets - HMOs: ['מכבי'], Tiers: ['זהב']
2025-05-30 23:46:10,549 - __main__ - INFO - 📋 Processing 6 services
2025-05-30 23:46:10,549 - __main__ - INFO - 🔄 Processing service: pregnancy
2025-05-30 23:46:10,549 - __main__ - INFO - ✅ Found pregnancy in knowledge base
2025-05-30 23:46:10,549 - __main__ - INFO - 🎯 Including specific HMO: מכבי
2025-05-30 23:46:10,549 - __main__ - INFO - 🎯 Including specific tier: זהב
2025-05-30 23:46:10,549 - __main__ - INFO - 📊 Final targets - HMOs: ['מכבי'], Tiers: ['זהב']
2025-05-30 23:46:10,549 - __main__ - INFO - 📋 Processing 6 services
2025-05-30 23:46:10,549 - __main__ - INFO - 🔄 Processing service: alternative
2025-05-30 23:46:10,549 - __main__ - INFO - ✅ Found alternative in knowledge base
2025-05-30 23:46:10,549 - __main__ - INFO - 🎯 Including specific HMO: מכבי
2025-05-30 23:46:10,549 - __main__ - INFO - 🎯 Including specific tier: זהב
2025-05-30 23:46:10,549 - __main__ - INFO - 📊 Final targets - HMOs: ['מכבי'], Tiers: ['זהב']
2025-05-30 23:46:10,549 - __main__ - INFO - 📋 Processing 6 services
2025-05-30 23:46:10,549 - __main__ - INFO - 🔄 Processing service: communication_clinic
2025-05-30 23:46:10,549 - __main__ - INFO - ✅ Found communication_clinic in knowledge base
2025-05-30 23:46:10,549 - __main__ - INFO - 🎯 Including specific HMO: מכבי
2025-05-30 23:46:10,550 - __main__ - INFO - 🎯 Including specific tier: זהב
2025-05-30 23:46:10,550 - __main__ - INFO - 📊 Final targets - HMOs: ['מכבי'], Tiers: ['זהב']
2025-05-30 23:46:10,550 - __main__ - INFO - 📋 Processing 6 services
2025-05-30 23:46:10,550 - __main__ - INFO - 🔄 Processing service: workshops
2025-05-30 23:46:10,550 - __main__ - INFO - ✅ Found workshops in knowledge base
2025-05-30 23:46:10,550 - __main__ - INFO - 🎯 Including specific HMO: מכבי
2025-05-30 23:46:10,550 - __main__ - INFO - 🎯 Including specific tier: זהב
2025-05-30 23:46:10,550 - __main__ - INFO - 📊 Final targets - HMOs: ['מכבי'], Tiers: ['זהב']
2025-05-30 23:46:10,550 - __main__ - INFO - 📋 Processing 6 services
2025-05-30 23:46:10,550 - __main__ - INFO - 📝 Final comprehensive context length: 4255 chars
2025-05-30 23:46:10,550 - __main__ - INFO - 📄 First 300 chars of context:
2025-05-30 23:46:10,550 - __main__ - INFO - 

=== מרפאות שיניים ===
תיאור: מרפאות שיניים מציעות מגוון רחב של שירותי בריאות הפה, כולל בדיקות שגרתיות, ניקויים, סתימות, טיפולי שורש, עקירות, והליכים קוסמטיים. מרפאות אלו מאוישות על ידי רופאי שיניים מורשים ושינניות המשתמשים בציוד מודרני כדי להבטיח טיפול איכותי לפציינטים מכל הגילאים.

** בדיקות וניק
2025-05-30 23:46:10,550 - __main__ - INFO - ==================================================
2025-05-30 23:46:10,550 - __main__ - INFO - 📝 Knowledge context length: 4255
2025-05-30 23:46:10,550 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 23:46:10,550 - __main__ - INFO - Knowledge context length: 4255 chars
2025-05-30 23:46:13,198 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 23:46:13,200 - __main__ - INFO - Chat response generated successfully - Length: 524 chars
2025-05-30 23:46:25,416 - __main__ - INFO - Chat request received - Phase: qa, Language: hebrew
2025-05-30 23:46:25,416 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number='123456789' gender='זכר' age=2 hmo_name='מכבי' hmo_card_number=None insurance_tier='זהב'
2025-05-30 23:46:25,416 - __main__ - INFO - 🤔 Hypothetical context detected: {'hmo': None, 'hmos': ['מכבי', 'כללית'], 'tier': None, 'tiers': [], 'is_comparison': True, 'multiple_hmos': True, 'multiple_tiers': False, 'is_followup_hypothetical': True}
2025-05-30 23:46:25,416 - __main__ - INFO - 📋 Identified relevant services: ['pregnancy']
2025-05-30 23:46:25,416 - __main__ - INFO - 🔍 Starting get_comprehensive_knowledge_context
2025-05-30 23:46:25,416 - __main__ - INFO - 👤 User info: HMO=מכבי, Tier=זהב
2025-05-30 23:46:25,416 - __main__ - INFO - 🤔 Hypothetical context: {'hmo': None, 'hmos': ['מכבי', 'כללית'], 'tier': None, 'tiers': [], 'is_comparison': True, 'multiple_hmos': True, 'multiple_tiers': False, 'is_followup_hypothetical': True}
2025-05-30 23:46:25,416 - __main__ - INFO - 🌐 Hypothetical/general context detected - loading ALL knowledge base
2025-05-30 23:46:25,416 - __main__ - INFO - 📋 Using ALL services: ['dental', 'optometry', 'pregnancy', 'alternative', 'communication_clinic', 'workshops']
2025-05-30 23:46:25,416 - __main__ - INFO - 🎯 Final relevant services: ['dental', 'optometry', 'pregnancy', 'alternative', 'communication_clinic', 'workshops']
2025-05-30 23:46:25,416 - __main__ - INFO - 📚 Available services in knowledge base: ['dental', 'optometry', 'pregnancy', 'alternative', 'communication_clinic', 'workshops']
2025-05-30 23:46:25,417 - __main__ - INFO - 🔄 Processing service: dental
2025-05-30 23:46:25,417 - __main__ - INFO - ✅ Found dental in knowledge base
2025-05-30 23:46:25,417 - __main__ - INFO - 🔄 Including all HMOs for comparison
2025-05-30 23:46:25,417 - __main__ - INFO - 🔄 Including all tiers for comparison
2025-05-30 23:46:25,417 - __main__ - INFO - 📊 Final targets - HMOs: ['מכבי', 'מאוחדת', 'כללית'], Tiers: ['זהב', 'כסף', 'ארד']
2025-05-30 23:46:25,417 - __main__ - INFO - 📋 Processing 6 services
2025-05-30 23:46:25,417 - __main__ - INFO - 🔄 Processing service: optometry
2025-05-30 23:46:25,417 - __main__ - INFO - ✅ Found optometry in knowledge base
2025-05-30 23:46:25,417 - __main__ - INFO - 🔄 Including all HMOs for comparison
2025-05-30 23:46:25,417 - __main__ - INFO - 🔄 Including all tiers for comparison
2025-05-30 23:46:25,417 - __main__ - INFO - 📊 Final targets - HMOs: ['מכבי', 'מאוחדת', 'כללית'], Tiers: ['זהב', 'כסף', 'ארד']
2025-05-30 23:46:25,417 - __main__ - INFO - 📋 Processing 6 services
2025-05-30 23:46:25,417 - __main__ - INFO - 🔄 Processing service: pregnancy
2025-05-30 23:46:25,417 - __main__ - INFO - ✅ Found pregnancy in knowledge base
2025-05-30 23:46:25,417 - __main__ - INFO - 🔄 Including all HMOs for comparison
2025-05-30 23:46:25,417 - __main__ - INFO - 🔄 Including all tiers for comparison
2025-05-30 23:46:25,417 - __main__ - INFO - 📊 Final targets - HMOs: ['מכבי', 'מאוחדת', 'כללית'], Tiers: ['זהב', 'כסף', 'ארד']
2025-05-30 23:46:25,417 - __main__ - INFO - 📋 Processing 6 services
2025-05-30 23:46:25,417 - __main__ - INFO - 🔄 Processing service: alternative
2025-05-30 23:46:25,417 - __main__ - INFO - ✅ Found alternative in knowledge base
2025-05-30 23:46:25,417 - __main__ - INFO - 🔄 Including all HMOs for comparison
2025-05-30 23:46:25,417 - __main__ - INFO - 🔄 Including all tiers for comparison
2025-05-30 23:46:25,417 - __main__ - INFO - 📊 Final targets - HMOs: ['מכבי', 'מאוחדת', 'כללית'], Tiers: ['זהב', 'כסף', 'ארד']
2025-05-30 23:46:25,417 - __main__ - INFO - 📋 Processing 6 services
2025-05-30 23:46:25,417 - __main__ - INFO - 🔄 Processing service: communication_clinic
2025-05-30 23:46:25,417 - __main__ - INFO - ✅ Found communication_clinic in knowledge base
2025-05-30 23:46:25,417 - __main__ - INFO - 🔄 Including all HMOs for comparison
2025-05-30 23:46:25,417 - __main__ - INFO - 🔄 Including all tiers for comparison
2025-05-30 23:46:25,418 - __main__ - INFO - 📊 Final targets - HMOs: ['מכבי', 'מאוחדת', 'כללית'], Tiers: ['זהב', 'כסף', 'ארד']
2025-05-30 23:46:25,418 - __main__ - INFO - 📋 Processing 6 services
2025-05-30 23:46:25,418 - __main__ - INFO - 🔄 Processing service: workshops
2025-05-30 23:46:25,418 - __main__ - INFO - ✅ Found workshops in knowledge base
2025-05-30 23:46:25,418 - __main__ - INFO - 🔄 Including all HMOs for comparison
2025-05-30 23:46:25,418 - __main__ - INFO - 🔄 Including all tiers for comparison
2025-05-30 23:46:25,418 - __main__ - INFO - 📊 Final targets - HMOs: ['מכבי', 'מאוחדת', 'כללית'], Tiers: ['זהב', 'כסף', 'ארד']
2025-05-30 23:46:25,418 - __main__ - INFO - 📋 Processing 6 services
2025-05-30 23:46:25,418 - __main__ - INFO - 📝 Final comprehensive context length: 13999 chars
2025-05-30 23:46:25,418 - __main__ - INFO - 📄 First 300 chars of context:
2025-05-30 23:46:25,418 - __main__ - INFO - 

=== מרפאות שיניים ===
תיאור: מרפאות שיניים מציעות מגוון רחב של שירותי בריאות הפה, כולל בדיקות שגרתיות, ניקויים, סתימות, טיפולי שורש, עקירות, והליכים קוסמטיים. מרפאות אלו מאוישות על ידי רופאי שיניים מורשים ושינניות המשתמשים בציוד מודרני כדי להבטיח טיפול איכותי לפציינטים מכל הגילאים.

** בדיקות וניק
2025-05-30 23:46:25,418 - __main__ - INFO - ==================================================
2025-05-30 23:46:25,418 - __main__ - INFO - 📝 Knowledge context length: 13999
2025-05-30 23:46:25,418 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 23:46:25,418 - __main__ - INFO - Knowledge context length: 13999 chars
2025-05-30 23:46:30,309 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 23:46:30,313 - __main__ - INFO - Chat response generated successfully - Length: 847 chars
2025-05-30 23:48:32,075 - __main__ - INFO - Azure OpenAI client initialized successfully
2025-05-30 23:48:33,587 - __main__ - INFO - health check
2025-05-30 23:48:34,633 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 23:48:34,633 - __main__ - INFO - message_lower: בואו נתחיל באיסוף המידע
2025-05-30 23:48:34,633 - __main__ - INFO - Skipping extraction - message appears to be from assistant: בואו נתחיל באיסוף המידע
2025-05-30 23:48:34,633 - __main__ - INFO - Updated user info: first_name=None last_name=None id_number=None gender=None age=None hmo_name=None hmo_card_number=None insurance_tier=None
2025-05-30 23:48:34,633 - __main__ - INFO - 🔄 DEBUG: Collection complete, checking for confirmation...
2025-05-30 23:48:34,633 - __main__ - INFO - 📝 DEBUG: User message: 'בואו נתחיל באיסוף המידע'
2025-05-30 23:48:34,634 - __main__ - INFO - Messege from user: בואו נתחיל באיסוף המידע
2025-05-30 23:48:34,634 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 23:48:34,634 - __main__ - INFO - 🔍 DEBUG: Confirmation words found: []
2025-05-30 23:48:34,634 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 23:48:34,634 - __main__ - INFO - ❌ DEBUG: No confirmation or question detected, staying in collection phase
2025-05-30 23:48:34,634 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 23:48:34,634 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 23:48:37,281 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 23:48:37,288 - __main__ - INFO - Chat response generated successfully - Length: 387 chars
2025-05-30 23:48:40,823 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 23:48:40,823 - __main__ - INFO - message_lower: אור מאריי
2025-05-30 23:48:40,823 - __main__ - INFO - Extracted full name: אור מאריי
2025-05-30 23:48:40,824 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאריי' id_number=None gender=None age=None hmo_name=None hmo_card_number=None insurance_tier=None
2025-05-30 23:48:40,824 - __main__ - INFO - 🔄 DEBUG: Collection complete, checking for confirmation...
2025-05-30 23:48:40,824 - __main__ - INFO - 📝 DEBUG: User message: 'אור מאריי'
2025-05-30 23:48:40,824 - __main__ - INFO - Messege from user: אור מאריי
2025-05-30 23:48:40,824 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 23:48:40,824 - __main__ - INFO - 🔍 DEBUG: Confirmation words found: []
2025-05-30 23:48:40,824 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 23:48:40,824 - __main__ - INFO - ❌ DEBUG: No confirmation or question detected, staying in collection phase
2025-05-30 23:48:40,824 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 23:48:40,824 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 23:48:41,581 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 23:48:41,583 - __main__ - INFO - Chat response generated successfully - Length: 140 chars
2025-05-30 23:48:44,522 - __main__ - INFO - Chat request received - Phase: collection, Language: english
2025-05-30 23:48:44,522 - __main__ - INFO - message_lower: let's start collecting the information
2025-05-30 23:48:44,522 - __main__ - INFO - Extracted full name: Let's start collecting the information
2025-05-30 23:48:44,522 - __main__ - INFO - Updated user info: first_name="Let's" last_name='start collecting the information' id_number=None gender=None age=None hmo_name=None hmo_card_number=None insurance_tier=None
2025-05-30 23:48:44,522 - __main__ - INFO - 🔄 DEBUG: Collection complete, checking for confirmation...
2025-05-30 23:48:44,522 - __main__ - INFO - 📝 DEBUG: User message: 'Let's start collecting the information'
2025-05-30 23:48:44,522 - __main__ - INFO - Messege from user: let's start collecting the information
2025-05-30 23:48:44,522 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 23:48:44,522 - __main__ - INFO - 🔍 DEBUG: Confirmation words found: []
2025-05-30 23:48:44,522 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 23:48:44,522 - __main__ - INFO - ❌ DEBUG: No confirmation or question detected, staying in collection phase
2025-05-30 23:48:44,523 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 23:48:44,523 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 23:48:46,082 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 23:48:46,084 - __main__ - INFO - Chat response generated successfully - Length: 512 chars
2025-05-30 23:48:49,521 - __main__ - INFO - Chat request received - Phase: collection, Language: english
2025-05-30 23:48:49,521 - __main__ - INFO - message_lower: or meiri
2025-05-30 23:48:49,521 - __main__ - INFO - Updated user info: first_name="Let's" last_name='start collecting the information' id_number=None gender=None age=None hmo_name=None hmo_card_number=None insurance_tier=None
2025-05-30 23:48:49,521 - __main__ - INFO - 🔄 DEBUG: Collection complete, checking for confirmation...
2025-05-30 23:48:49,521 - __main__ - INFO - 📝 DEBUG: User message: 'or meiri'
2025-05-30 23:48:49,521 - __main__ - INFO - Messege from user: or meiri
2025-05-30 23:48:49,521 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 23:48:49,521 - __main__ - INFO - 🔍 DEBUG: Confirmation words found: []
2025-05-30 23:48:49,521 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 23:48:49,521 - __main__ - INFO - ❌ DEBUG: No confirmation or question detected, staying in collection phase
2025-05-30 23:48:49,521 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 23:48:49,521 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 23:48:50,094 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 23:48:50,094 - __main__ - INFO - Chat response generated successfully - Length: 98 chars
2025-05-30 23:48:53,941 - __main__ - INFO - Chat request received - Phase: collection, Language: english
2025-05-30 23:48:53,941 - __main__ - INFO - message_lower: 123456789
2025-05-30 23:48:53,941 - __main__ - INFO - Extracted ID number: 123456789
2025-05-30 23:48:53,941 - __main__ - INFO - Updated user info: first_name="Let's" last_name='start collecting the information' id_number='123456789' gender=None age=None hmo_name=None hmo_card_number=None insurance_tier=None
2025-05-30 23:48:53,941 - __main__ - INFO - 🔄 DEBUG: Collection complete, checking for confirmation...
2025-05-30 23:48:53,941 - __main__ - INFO - 📝 DEBUG: User message: '123456789'
2025-05-30 23:48:53,941 - __main__ - INFO - Messege from user: 123456789
2025-05-30 23:48:53,941 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 23:48:53,941 - __main__ - INFO - 🔍 DEBUG: Confirmation words found: []
2025-05-30 23:48:53,941 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 23:48:53,941 - __main__ - INFO - ❌ DEBUG: No confirmation or question detected, staying in collection phase
2025-05-30 23:48:53,941 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 23:48:53,942 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 23:48:54,581 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 23:48:54,583 - __main__ - INFO - Chat response generated successfully - Length: 140 chars
2025-05-30 23:49:00,219 - __main__ - INFO - Chat request received - Phase: collection, Language: english
2025-05-30 23:49:00,219 - __main__ - INFO - message_lower: male
2025-05-30 23:49:00,219 - __main__ - INFO - Extracted gender: זכר
2025-05-30 23:49:00,220 - __main__ - INFO - Updated user info: first_name="Let's" last_name='start collecting the information' id_number='123456789' gender='זכר' age=None hmo_name=None hmo_card_number=None insurance_tier=None
2025-05-30 23:49:00,220 - __main__ - INFO - 🔄 DEBUG: Collection complete, checking for confirmation...
2025-05-30 23:49:00,220 - __main__ - INFO - 📝 DEBUG: User message: 'Male'
2025-05-30 23:49:00,220 - __main__ - INFO - Messege from user: male
2025-05-30 23:49:00,220 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 23:49:00,220 - __main__ - INFO - 🔍 DEBUG: Confirmation words found: []
2025-05-30 23:49:00,220 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 23:49:00,220 - __main__ - INFO - ❌ DEBUG: No confirmation or question detected, staying in collection phase
2025-05-30 23:49:00,220 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 23:49:00,220 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 23:49:01,647 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 23:49:01,649 - __main__ - INFO - Chat response generated successfully - Length: 129 chars
2025-05-30 23:49:04,577 - __main__ - INFO - Chat request received - Phase: collection, Language: english
2025-05-30 23:49:04,577 - __main__ - INFO - message_lower: 2
2025-05-30 23:49:04,577 - __main__ - INFO - Extracted age: 2
2025-05-30 23:49:04,577 - __main__ - INFO - Updated user info: first_name="Let's" last_name='start collecting the information' id_number='123456789' gender='זכר' age=2 hmo_name=None hmo_card_number=None insurance_tier=None
2025-05-30 23:49:04,577 - __main__ - INFO - 🔄 DEBUG: Collection complete, checking for confirmation...
2025-05-30 23:49:04,577 - __main__ - INFO - 📝 DEBUG: User message: '2'
2025-05-30 23:49:04,577 - __main__ - INFO - Messege from user: 2
2025-05-30 23:49:04,577 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 23:49:04,578 - __main__ - INFO - 🔍 DEBUG: Confirmation words found: []
2025-05-30 23:49:04,578 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 23:49:04,578 - __main__ - INFO - ❌ DEBUG: No confirmation or question detected, staying in collection phase
2025-05-30 23:49:04,578 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 23:49:04,578 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 23:49:05,271 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 23:49:05,273 - __main__ - INFO - Chat response generated successfully - Length: 143 chars
2025-05-30 23:49:10,356 - __main__ - INFO - Chat request received - Phase: collection, Language: english
2025-05-30 23:49:10,357 - __main__ - INFO - message_lower: clalit
2025-05-30 23:49:10,357 - __main__ - INFO - Extracted HMO: כללית
2025-05-30 23:49:10,357 - __main__ - INFO - Updated user info: first_name="Let's" last_name='start collecting the information' id_number='123456789' gender='זכר' age=2 hmo_name='כללית' hmo_card_number=None insurance_tier=None
2025-05-30 23:49:10,357 - __main__ - INFO - 🔄 DEBUG: Collection complete, checking for confirmation...
2025-05-30 23:49:10,357 - __main__ - INFO - 📝 DEBUG: User message: 'Clalit'
2025-05-30 23:49:10,357 - __main__ - INFO - Messege from user: clalit
2025-05-30 23:49:10,357 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 23:49:10,357 - __main__ - INFO - 🔍 DEBUG: Confirmation words found: []
2025-05-30 23:49:10,357 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 23:49:10,357 - __main__ - INFO - ❌ DEBUG: No confirmation or question detected, staying in collection phase
2025-05-30 23:49:10,357 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 23:49:10,357 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 23:49:11,886 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 23:49:11,887 - __main__ - INFO - Chat response generated successfully - Length: 153 chars
2025-05-30 23:49:16,196 - __main__ - INFO - Chat request received - Phase: collection, Language: english
2025-05-30 23:49:16,196 - __main__ - INFO - message_lower: 987654321
2025-05-30 23:49:16,196 - __main__ - INFO - Extracted HMO card number: 987654321
2025-05-30 23:49:16,196 - __main__ - INFO - Updated user info: first_name="Let's" last_name='start collecting the information' id_number='123456789' gender='זכר' age=2 hmo_name='כללית' hmo_card_number='987654321' insurance_tier=None
2025-05-30 23:49:16,196 - __main__ - INFO - 🔄 DEBUG: Collection complete, checking for confirmation...
2025-05-30 23:49:16,196 - __main__ - INFO - 📝 DEBUG: User message: '987654321'
2025-05-30 23:49:16,196 - __main__ - INFO - Messege from user: 987654321
2025-05-30 23:49:16,197 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 23:49:16,197 - __main__ - INFO - 🔍 DEBUG: Confirmation words found: []
2025-05-30 23:49:16,197 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 23:49:16,197 - __main__ - INFO - ❌ DEBUG: No confirmation or question detected, staying in collection phase
2025-05-30 23:49:16,197 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 23:49:16,197 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 23:49:16,798 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 23:49:16,800 - __main__ - INFO - Chat response generated successfully - Length: 156 chars
2025-05-30 23:49:19,874 - __main__ - INFO - Chat request received - Phase: collection, Language: english
2025-05-30 23:49:19,875 - __main__ - INFO - message_lower: gold
2025-05-30 23:49:19,875 - __main__ - INFO - Extracted insurance tier: זהב
2025-05-30 23:49:19,875 - __main__ - INFO - Updated user info: first_name="Let's" last_name='start collecting the information' id_number='123456789' gender='זכר' age=2 hmo_name='כללית' hmo_card_number='987654321' insurance_tier='זהב'
2025-05-30 23:49:19,875 - __main__ - INFO - 🔄 DEBUG: Collection complete, checking for confirmation...
2025-05-30 23:49:19,875 - __main__ - INFO - 📝 DEBUG: User message: 'Gold'
2025-05-30 23:49:19,875 - __main__ - INFO - Messege from user: gold
2025-05-30 23:49:19,875 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 23:49:19,875 - __main__ - INFO - 🔍 DEBUG: Confirmation words found: []
2025-05-30 23:49:19,875 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 23:49:19,875 - __main__ - INFO - ❌ DEBUG: No confirmation or question detected, staying in collection phase
2025-05-30 23:49:19,875 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 23:49:19,875 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 23:49:21,103 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 23:49:21,105 - __main__ - INFO - Chat response generated successfully - Length: 421 chars
2025-05-30 23:49:35,952 - __main__ - INFO - Chat request received - Phase: collection, Language: english
2025-05-30 23:49:35,953 - __main__ - INFO - message_lower: i want knowledge about macabi silver
2025-05-30 23:49:35,953 - __main__ - INFO - Updated user info: first_name="Let's" last_name='start collecting the information' id_number='123456789' gender='זכר' age=2 hmo_name='כללית' hmo_card_number='987654321' insurance_tier='זהב'
2025-05-30 23:49:35,954 - __main__ - INFO - 🔄 DEBUG: Collection complete, checking for confirmation...
2025-05-30 23:49:35,954 - __main__ - INFO - 📝 DEBUG: User message: 'I want knowledge about Macabi silver'
2025-05-30 23:49:35,954 - __main__ - INFO - Messege from user: i want knowledge about macabi silver
2025-05-30 23:49:35,954 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 23:49:35,954 - __main__ - INFO - 🔍 DEBUG: Confirmation words found: []
2025-05-30 23:49:35,954 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 23:49:35,954 - __main__ - INFO - ❌ DEBUG: No confirmation or question detected, staying in collection phase
2025-05-30 23:49:35,954 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 23:49:35,954 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 23:49:37,999 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 23:49:38,001 - __main__ - INFO - Chat response generated successfully - Length: 363 chars
2025-05-30 23:49:55,963 - __main__ - INFO - Chat request received - Phase: collection, Language: english
2025-05-30 23:49:55,964 - __main__ - INFO - message_lower: i want knowledge about maccabi silver
2025-05-30 23:49:55,964 - __main__ - INFO - Updated user info: first_name="Let's" last_name='start collecting the information' id_number='123456789' gender='זכר' age=2 hmo_name='כללית' hmo_card_number='987654321' insurance_tier='זהב'
2025-05-30 23:49:55,964 - __main__ - INFO - 🔄 DEBUG: Collection complete, checking for confirmation...
2025-05-30 23:49:55,964 - __main__ - INFO - 📝 DEBUG: User message: 'I want knowledge about Maccabi Silver'
2025-05-30 23:49:55,964 - __main__ - INFO - Messege from user: i want knowledge about maccabi silver
2025-05-30 23:49:55,964 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 23:49:55,964 - __main__ - INFO - 🔍 DEBUG: Confirmation words found: []
2025-05-30 23:49:55,964 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 23:49:55,964 - __main__ - INFO - ❌ DEBUG: No confirmation or question detected, staying in collection phase
2025-05-30 23:49:55,964 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 23:49:55,964 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 23:49:58,444 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 23:49:58,445 - __main__ - INFO - Chat response generated successfully - Length: 845 chars
2025-05-30 23:57:21,876 - __main__ - INFO - Azure OpenAI client initialized successfully
2025-05-30 23:57:23,387 - __main__ - INFO - health check
2025-05-30 23:57:24,436 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-30 23:57:24,437 - __main__ - INFO - message_lower: בואו נתחיל באיסוף המידע
2025-05-30 23:57:24,437 - __main__ - INFO - Skipping extraction - message appears to be from assistant: בואו נתחיל באיסוף המידע
2025-05-30 23:57:24,437 - __main__ - INFO - Updated user info: first_name=None last_name=None id_number=None gender=None age=None hmo_name=None hmo_card_number=None insurance_tier=None
2025-05-30 23:57:24,437 - __main__ - INFO - 🔄 DEBUG: Collection complete, checking for confirmation...
2025-05-30 23:57:24,437 - __main__ - INFO - 📝 DEBUG: User message: 'בואו נתחיל באיסוף המידע'
2025-05-30 23:57:24,437 - __main__ - INFO - Messege from user: בואו נתחיל באיסוף המידע
2025-05-30 23:57:24,437 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 23:57:24,437 - __main__ - INFO - 🔍 DEBUG: Confirmation words found: []
2025-05-30 23:57:24,437 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 23:57:24,437 - __main__ - INFO - ❌ DEBUG: No confirmation or question detected, staying in collection phase
2025-05-30 23:57:24,437 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 23:57:24,437 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 23:57:27,793 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 23:57:27,799 - __main__ - INFO - Chat response generated successfully - Length: 640 chars
2025-05-30 23:57:29,752 - __main__ - INFO - Chat request received - Phase: collection, Language: english
2025-05-30 23:57:29,752 - __main__ - INFO - message_lower: let's start collecting the information
2025-05-30 23:57:29,752 - __main__ - INFO - Extracted full name: Let's start collecting the information
2025-05-30 23:57:29,753 - __main__ - INFO - Updated user info: first_name="Let's" last_name='start collecting the information' id_number=None gender=None age=None hmo_name=None hmo_card_number=None insurance_tier=None
2025-05-30 23:57:29,753 - __main__ - INFO - 🔄 DEBUG: Collection complete, checking for confirmation...
2025-05-30 23:57:29,753 - __main__ - INFO - 📝 DEBUG: User message: 'Let's start collecting the information'
2025-05-30 23:57:29,753 - __main__ - INFO - Messege from user: let's start collecting the information
2025-05-30 23:57:29,753 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 23:57:29,753 - __main__ - INFO - 🔍 DEBUG: Confirmation words found: []
2025-05-30 23:57:29,753 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 23:57:29,753 - __main__ - INFO - ❌ DEBUG: No confirmation or question detected, staying in collection phase
2025-05-30 23:57:29,753 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 23:57:29,753 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 23:57:31,332 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 23:57:31,335 - __main__ - INFO - Chat response generated successfully - Length: 515 chars
2025-05-30 23:57:39,146 - __main__ - INFO - Chat request received - Phase: collection, Language: english
2025-05-30 23:57:39,146 - __main__ - INFO - message_lower: or meiri
2025-05-30 23:57:39,146 - __main__ - INFO - Updated user info: first_name="Let's" last_name='start collecting the information' id_number=None gender=None age=None hmo_name=None hmo_card_number=None insurance_tier=None
2025-05-30 23:57:39,146 - __main__ - INFO - 🔄 DEBUG: Collection complete, checking for confirmation...
2025-05-30 23:57:39,146 - __main__ - INFO - 📝 DEBUG: User message: 'Or Meiri'
2025-05-30 23:57:39,146 - __main__ - INFO - Messege from user: or meiri
2025-05-30 23:57:39,146 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 23:57:39,146 - __main__ - INFO - 🔍 DEBUG: Confirmation words found: []
2025-05-30 23:57:39,146 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 23:57:39,146 - __main__ - INFO - ❌ DEBUG: No confirmation or question detected, staying in collection phase
2025-05-30 23:57:39,146 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 23:57:39,146 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 23:57:40,302 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 23:57:40,305 - __main__ - INFO - Chat response generated successfully - Length: 98 chars
2025-05-30 23:58:07,300 - __main__ - INFO - Chat request received - Phase: collection, Language: english
2025-05-30 23:58:07,300 - __main__ - INFO - message_lower:  123456789
2025-05-30 23:58:07,301 - __main__ - INFO - Extracted ID number: 123456789
2025-05-30 23:58:07,301 - __main__ - INFO - Updated user info: first_name="Let's" last_name='start collecting the information' id_number='123456789' gender=None age=None hmo_name=None hmo_card_number=None insurance_tier=None
2025-05-30 23:58:07,301 - __main__ - INFO - 🔄 DEBUG: Collection complete, checking for confirmation...
2025-05-30 23:58:07,301 - __main__ - INFO - 📝 DEBUG: User message: ' 123456789'
2025-05-30 23:58:07,301 - __main__ - INFO - Messege from user:  123456789
2025-05-30 23:58:07,301 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 23:58:07,301 - __main__ - INFO - 🔍 DEBUG: Confirmation words found: []
2025-05-30 23:58:07,301 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 23:58:07,301 - __main__ - INFO - ❌ DEBUG: No confirmation or question detected, staying in collection phase
2025-05-30 23:58:07,301 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 23:58:07,301 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 23:58:08,444 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 23:58:08,446 - __main__ - INFO - Chat response generated successfully - Length: 131 chars
2025-05-30 23:58:13,814 - __main__ - INFO - Chat request received - Phase: collection, Language: english
2025-05-30 23:58:13,814 - __main__ - INFO - message_lower: male
2025-05-30 23:58:13,814 - __main__ - INFO - Extracted gender: זכר
2025-05-30 23:58:13,814 - __main__ - INFO - Updated user info: first_name="Let's" last_name='start collecting the information' id_number='123456789' gender='זכר' age=None hmo_name=None hmo_card_number=None insurance_tier=None
2025-05-30 23:58:13,814 - __main__ - INFO - 🔄 DEBUG: Collection complete, checking for confirmation...
2025-05-30 23:58:13,814 - __main__ - INFO - 📝 DEBUG: User message: 'Male'
2025-05-30 23:58:13,814 - __main__ - INFO - Messege from user: male
2025-05-30 23:58:13,814 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 23:58:13,814 - __main__ - INFO - 🔍 DEBUG: Confirmation words found: []
2025-05-30 23:58:13,814 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 23:58:13,814 - __main__ - INFO - ❌ DEBUG: No confirmation or question detected, staying in collection phase
2025-05-30 23:58:13,814 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 23:58:13,814 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 23:58:14,895 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 23:58:14,897 - __main__ - INFO - Chat response generated successfully - Length: 117 chars
2025-05-30 23:58:17,171 - __main__ - INFO - Chat request received - Phase: collection, Language: english
2025-05-30 23:58:17,171 - __main__ - INFO - message_lower: 2
2025-05-30 23:58:17,171 - __main__ - INFO - Extracted age: 2
2025-05-30 23:58:17,171 - __main__ - INFO - Updated user info: first_name="Let's" last_name='start collecting the information' id_number='123456789' gender='זכר' age=2 hmo_name=None hmo_card_number=None insurance_tier=None
2025-05-30 23:58:17,171 - __main__ - INFO - 🔄 DEBUG: Collection complete, checking for confirmation...
2025-05-30 23:58:17,171 - __main__ - INFO - 📝 DEBUG: User message: '2'
2025-05-30 23:58:17,171 - __main__ - INFO - Messege from user: 2
2025-05-30 23:58:17,171 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 23:58:17,171 - __main__ - INFO - 🔍 DEBUG: Confirmation words found: []
2025-05-30 23:58:17,172 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 23:58:17,172 - __main__ - INFO - ❌ DEBUG: No confirmation or question detected, staying in collection phase
2025-05-30 23:58:17,172 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 23:58:17,172 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 23:58:17,967 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 23:58:17,968 - __main__ - INFO - Chat response generated successfully - Length: 141 chars
2025-05-30 23:58:22,234 - __main__ - INFO - Chat request received - Phase: collection, Language: english
2025-05-30 23:58:22,235 - __main__ - INFO - message_lower: maccabi
2025-05-30 23:58:22,235 - __main__ - INFO - Extracted HMO: מכבי
2025-05-30 23:58:22,235 - __main__ - INFO - Updated user info: first_name="Let's" last_name='start collecting the information' id_number='123456789' gender='זכר' age=2 hmo_name='מכבי' hmo_card_number=None insurance_tier=None
2025-05-30 23:58:22,235 - __main__ - INFO - 🔄 DEBUG: Collection complete, checking for confirmation...
2025-05-30 23:58:22,235 - __main__ - INFO - 📝 DEBUG: User message: 'Maccabi'
2025-05-30 23:58:22,235 - __main__ - INFO - Messege from user: maccabi
2025-05-30 23:58:22,235 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 23:58:22,235 - __main__ - INFO - 🔍 DEBUG: Confirmation words found: []
2025-05-30 23:58:22,235 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 23:58:22,235 - __main__ - INFO - ❌ DEBUG: No confirmation or question detected, staying in collection phase
2025-05-30 23:58:22,235 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 23:58:22,235 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 23:58:23,497 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 23:58:23,499 - __main__ - INFO - Chat response generated successfully - Length: 152 chars
2025-05-30 23:58:29,354 - __main__ - INFO - Chat request received - Phase: collection, Language: english
2025-05-30 23:58:29,354 - __main__ - INFO - message_lower: 123456789
2025-05-30 23:58:29,355 - __main__ - INFO - Updated user info: first_name="Let's" last_name='start collecting the information' id_number='123456789' gender='זכר' age=2 hmo_name='מכבי' hmo_card_number=None insurance_tier=None
2025-05-30 23:58:29,355 - __main__ - INFO - 🔄 DEBUG: Collection complete, checking for confirmation...
2025-05-30 23:58:29,355 - __main__ - INFO - 📝 DEBUG: User message: '123456789'
2025-05-30 23:58:29,355 - __main__ - INFO - Messege from user: 123456789
2025-05-30 23:58:29,355 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 23:58:29,355 - __main__ - INFO - 🔍 DEBUG: Confirmation words found: []
2025-05-30 23:58:29,355 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 23:58:29,355 - __main__ - INFO - ❌ DEBUG: No confirmation or question detected, staying in collection phase
2025-05-30 23:58:29,355 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 23:58:29,355 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 23:58:30,564 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 23:58:30,566 - __main__ - INFO - Chat response generated successfully - Length: 157 chars
2025-05-30 23:58:34,782 - __main__ - INFO - Chat request received - Phase: collection, Language: english
2025-05-30 23:58:34,783 - __main__ - INFO - message_lower: silver
2025-05-30 23:58:34,783 - __main__ - INFO - Extracted insurance tier: כסף
2025-05-30 23:58:34,783 - __main__ - INFO - Updated user info: first_name="Let's" last_name='start collecting the information' id_number='123456789' gender='זכר' age=2 hmo_name='מכבי' hmo_card_number=None insurance_tier='כסף'
2025-05-30 23:58:34,783 - __main__ - INFO - 🔄 DEBUG: Collection complete, checking for confirmation...
2025-05-30 23:58:34,783 - __main__ - INFO - 📝 DEBUG: User message: 'Silver'
2025-05-30 23:58:34,783 - __main__ - INFO - Messege from user: silver
2025-05-30 23:58:34,783 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-30 23:58:34,783 - __main__ - INFO - 🔍 DEBUG: Confirmation words found: []
2025-05-30 23:58:34,783 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 23:58:34,783 - __main__ - INFO - ❌ DEBUG: No confirmation or question detected, staying in collection phase
2025-05-30 23:58:34,783 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 23:58:34,783 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-30 23:58:36,502 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 23:58:36,504 - __main__ - INFO - Chat response generated successfully - Length: 407 chars
2025-05-30 23:58:37,948 - __main__ - INFO - Chat request received - Phase: collection, Language: english
2025-05-30 23:58:37,948 - __main__ - INFO - message_lower: yes
2025-05-30 23:58:37,948 - __main__ - INFO - Updated user info: first_name="Let's" last_name='start collecting the information' id_number='123456789' gender='זכר' age=2 hmo_name='מכבי' hmo_card_number=None insurance_tier='כסף'
2025-05-30 23:58:37,948 - __main__ - INFO - 🔄 DEBUG: Collection complete, checking for confirmation...
2025-05-30 23:58:37,948 - __main__ - INFO - 📝 DEBUG: User message: 'yes'
2025-05-30 23:58:37,948 - __main__ - INFO - Messege from user: yes
2025-05-30 23:58:37,948 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: True
2025-05-30 23:58:37,948 - __main__ - INFO - 🔍 DEBUG: Confirmation words found: ['yes']
2025-05-30 23:58:37,948 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-30 23:58:37,948 - __main__ - INFO - 🎉 DEBUG: Transitioning to QA phase!
2025-05-30 23:59:00,990 - __main__ - INFO - Chat request received - Phase: qa, Language: english
2025-05-30 23:59:00,990 - __main__ - INFO - Updated user info: first_name="Let's" last_name='start collecting the information' id_number='123456789' gender='זכר' age=2 hmo_name='מכבי' hmo_card_number=None insurance_tier='כסף'
2025-05-30 23:59:00,990 - __main__ - INFO - 🤔 Hypothetical context detected: {'hmo': 'מכבי', 'hmos': ['מכבי'], 'tier': 'זהב', 'tiers': ['זהב'], 'is_comparison': False, 'multiple_hmos': False, 'multiple_tiers': False, 'is_followup_hypothetical': False}
2025-05-30 23:59:00,991 - __main__ - INFO - 📋 Identified relevant services: ['dental', 'optometry', 'pregnancy', 'alternative', 'communication_clinic', 'workshops']
2025-05-30 23:59:00,991 - __main__ - INFO - 🔍 Starting get_comprehensive_knowledge_context
2025-05-30 23:59:00,991 - __main__ - INFO - 👤 User info: HMO=מכבי, Tier=כסף
2025-05-30 23:59:00,991 - __main__ - INFO - 🤔 Hypothetical context: {'hmo': 'מכבי', 'hmos': ['מכבי'], 'tier': 'זהב', 'tiers': ['זהב'], 'is_comparison': False, 'multiple_hmos': False, 'multiple_tiers': False, 'is_followup_hypothetical': False}
2025-05-30 23:59:00,991 - __main__ - INFO - 🌐 Hypothetical/general context detected - loading ALL knowledge base
2025-05-30 23:59:00,991 - __main__ - INFO - 📋 Using ALL services: ['dental', 'optometry', 'pregnancy', 'alternative', 'communication_clinic', 'workshops']
2025-05-30 23:59:00,991 - __main__ - INFO - 🎯 Final relevant services: ['dental', 'optometry', 'pregnancy', 'alternative', 'communication_clinic', 'workshops']
2025-05-30 23:59:00,991 - __main__ - INFO - 📚 Available services in knowledge base: ['dental', 'optometry', 'pregnancy', 'alternative', 'communication_clinic', 'workshops']
2025-05-30 23:59:00,991 - __main__ - INFO - 🔄 Processing service: dental
2025-05-30 23:59:00,991 - __main__ - INFO - ✅ Found dental in knowledge base
2025-05-30 23:59:00,991 - __main__ - INFO - 🎯 Including specific HMO: מכבי
2025-05-30 23:59:00,991 - __main__ - INFO - 🎯 Including specific tier: זהב
2025-05-30 23:59:00,991 - __main__ - INFO - 📊 Final targets - HMOs: ['מכבי'], Tiers: ['זהב']
2025-05-30 23:59:00,991 - __main__ - INFO - 📋 Processing 6 services
2025-05-30 23:59:00,991 - __main__ - INFO - 🔄 Processing service: optometry
2025-05-30 23:59:00,991 - __main__ - INFO - ✅ Found optometry in knowledge base
2025-05-30 23:59:00,992 - __main__ - INFO - 🎯 Including specific HMO: מכבי
2025-05-30 23:59:00,992 - __main__ - INFO - 🎯 Including specific tier: זהב
2025-05-30 23:59:00,992 - __main__ - INFO - 📊 Final targets - HMOs: ['מכבי'], Tiers: ['זהב']
2025-05-30 23:59:00,992 - __main__ - INFO - 📋 Processing 6 services
2025-05-30 23:59:00,992 - __main__ - INFO - 🔄 Processing service: pregnancy
2025-05-30 23:59:00,992 - __main__ - INFO - ✅ Found pregnancy in knowledge base
2025-05-30 23:59:00,992 - __main__ - INFO - 🎯 Including specific HMO: מכבי
2025-05-30 23:59:00,992 - __main__ - INFO - 🎯 Including specific tier: זהב
2025-05-30 23:59:00,992 - __main__ - INFO - 📊 Final targets - HMOs: ['מכבי'], Tiers: ['זהב']
2025-05-30 23:59:00,992 - __main__ - INFO - 📋 Processing 6 services
2025-05-30 23:59:00,992 - __main__ - INFO - 🔄 Processing service: alternative
2025-05-30 23:59:00,992 - __main__ - INFO - ✅ Found alternative in knowledge base
2025-05-30 23:59:00,992 - __main__ - INFO - 🎯 Including specific HMO: מכבי
2025-05-30 23:59:00,992 - __main__ - INFO - 🎯 Including specific tier: זהב
2025-05-30 23:59:00,992 - __main__ - INFO - 📊 Final targets - HMOs: ['מכבי'], Tiers: ['זהב']
2025-05-30 23:59:00,992 - __main__ - INFO - 📋 Processing 6 services
2025-05-30 23:59:00,992 - __main__ - INFO - 🔄 Processing service: communication_clinic
2025-05-30 23:59:00,992 - __main__ - INFO - ✅ Found communication_clinic in knowledge base
2025-05-30 23:59:00,992 - __main__ - INFO - 🎯 Including specific HMO: מכבי
2025-05-30 23:59:00,992 - __main__ - INFO - 🎯 Including specific tier: זהב
2025-05-30 23:59:00,992 - __main__ - INFO - 📊 Final targets - HMOs: ['מכבי'], Tiers: ['זהב']
2025-05-30 23:59:00,992 - __main__ - INFO - 📋 Processing 6 services
2025-05-30 23:59:00,992 - __main__ - INFO - 🔄 Processing service: workshops
2025-05-30 23:59:00,992 - __main__ - INFO - ✅ Found workshops in knowledge base
2025-05-30 23:59:00,992 - __main__ - INFO - 🎯 Including specific HMO: מכבי
2025-05-30 23:59:00,992 - __main__ - INFO - 🎯 Including specific tier: זהב
2025-05-30 23:59:00,993 - __main__ - INFO - 📊 Final targets - HMOs: ['מכבי'], Tiers: ['זהב']
2025-05-30 23:59:00,993 - __main__ - INFO - 📋 Processing 6 services
2025-05-30 23:59:00,993 - __main__ - INFO - 📝 Final comprehensive context length: 4255 chars
2025-05-30 23:59:00,993 - __main__ - INFO - 📄 First 300 chars of context:
2025-05-30 23:59:00,993 - __main__ - INFO - 

=== מרפאות שיניים ===
תיאור: מרפאות שיניים מציעות מגוון רחב של שירותי בריאות הפה, כולל בדיקות שגרתיות, ניקויים, סתימות, טיפולי שורש, עקירות, והליכים קוסמטיים. מרפאות אלו מאוישות על ידי רופאי שיניים מורשים ושינניות המשתמשים בציוד מודרני כדי להבטיח טיפול איכותי לפציינטים מכל הגילאים.

** בדיקות וניק
2025-05-30 23:59:00,993 - __main__ - INFO - ==================================================
2025-05-30 23:59:00,993 - __main__ - INFO - 📝 Knowledge context length: 4255
2025-05-30 23:59:00,993 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-30 23:59:00,993 - __main__ - INFO - Knowledge context length: 4255 chars
2025-05-30 23:59:02,401 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-30 23:59:02,403 - __main__ - INFO - Chat response generated successfully - Length: 249 chars
2025-05-31 00:06:33,798 - __main__ - INFO - Azure OpenAI client initialized successfully
2025-05-31 00:06:35,302 - __main__ - INFO - health check
2025-05-31 00:06:36,347 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-31 00:06:36,347 - __main__ - INFO - message_lower: בואו נתחיל באיסוף המידע
2025-05-31 00:06:36,347 - __main__ - INFO - Skipping extraction - message appears to be from assistant: בואו נתחיל באיסוף המידע
2025-05-31 00:06:36,347 - __main__ - INFO - Updated user info: first_name=None last_name=None id_number=None gender=None age=None hmo_name=None hmo_card_number=None insurance_tier=None
2025-05-31 00:06:36,347 - __main__ - INFO - 🔄 DEBUG: Collection complete, checking for confirmation...
2025-05-31 00:06:36,347 - __main__ - INFO - 📝 DEBUG: User message: 'בואו נתחיל באיסוף המידע'
2025-05-31 00:06:36,347 - __main__ - INFO - Messege from user: בואו נתחיל באיסוף המידע
2025-05-31 00:06:36,347 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-31 00:06:36,347 - __main__ - INFO - 🔍 DEBUG: Confirmation words found: []
2025-05-31 00:06:36,347 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-31 00:06:36,347 - __main__ - INFO - ❌ DEBUG: No confirmation or question detected, staying in collection phase
2025-05-31 00:06:36,347 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-31 00:06:36,347 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-31 00:06:38,809 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-31 00:06:38,810 - __main__ - INFO - Chat response generated successfully - Length: 430 chars
2025-05-31 00:06:48,955 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-31 00:06:48,955 - __main__ - INFO - message_lower: אור מאירי
2025-05-31 00:06:48,955 - __main__ - INFO - Extracted full name: אור מאירי
2025-05-31 00:06:48,956 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number=None gender=None age=None hmo_name=None hmo_card_number=None insurance_tier=None
2025-05-31 00:06:48,956 - __main__ - INFO - 🔄 DEBUG: Collection complete, checking for confirmation...
2025-05-31 00:06:48,956 - __main__ - INFO - 📝 DEBUG: User message: 'אור מאירי'
2025-05-31 00:06:48,956 - __main__ - INFO - Messege from user: אור מאירי
2025-05-31 00:06:48,956 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-31 00:06:48,956 - __main__ - INFO - 🔍 DEBUG: Confirmation words found: []
2025-05-31 00:06:48,956 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-31 00:06:48,956 - __main__ - INFO - ❌ DEBUG: No confirmation or question detected, staying in collection phase
2025-05-31 00:06:48,956 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-31 00:06:48,956 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-31 00:06:50,227 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-31 00:06:50,229 - __main__ - INFO - Chat response generated successfully - Length: 126 chars
2025-05-31 00:06:54,986 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-31 00:06:54,986 - __main__ - INFO - message_lower: 123456789
2025-05-31 00:06:54,987 - __main__ - INFO - Extracted ID number: 123456789
2025-05-31 00:06:54,987 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number='123456789' gender=None age=None hmo_name=None hmo_card_number=None insurance_tier=None
2025-05-31 00:06:54,987 - __main__ - INFO - 🔄 DEBUG: Collection complete, checking for confirmation...
2025-05-31 00:06:54,987 - __main__ - INFO - 📝 DEBUG: User message: '123456789'
2025-05-31 00:06:54,987 - __main__ - INFO - Messege from user: 123456789
2025-05-31 00:06:54,987 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-31 00:06:54,987 - __main__ - INFO - 🔍 DEBUG: Confirmation words found: []
2025-05-31 00:06:54,987 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-31 00:06:54,987 - __main__ - INFO - ❌ DEBUG: No confirmation or question detected, staying in collection phase
2025-05-31 00:06:54,987 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-31 00:06:54,987 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-31 00:06:55,598 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-31 00:06:55,599 - __main__ - INFO - Chat response generated successfully - Length: 108 chars
2025-05-31 00:06:59,351 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-31 00:06:59,351 - __main__ - INFO - message_lower: זכר
2025-05-31 00:06:59,351 - __main__ - INFO - Extracted gender: זכר
2025-05-31 00:06:59,351 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number='123456789' gender='זכר' age=None hmo_name=None hmo_card_number=None insurance_tier=None
2025-05-31 00:06:59,351 - __main__ - INFO - 🔄 DEBUG: Collection complete, checking for confirmation...
2025-05-31 00:06:59,351 - __main__ - INFO - 📝 DEBUG: User message: 'זכר'
2025-05-31 00:06:59,351 - __main__ - INFO - Messege from user: זכר
2025-05-31 00:06:59,352 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-31 00:06:59,352 - __main__ - INFO - 🔍 DEBUG: Confirmation words found: []
2025-05-31 00:06:59,352 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-31 00:06:59,352 - __main__ - INFO - ❌ DEBUG: No confirmation or question detected, staying in collection phase
2025-05-31 00:06:59,352 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-31 00:06:59,352 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-31 00:07:00,109 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-31 00:07:00,110 - __main__ - INFO - Chat response generated successfully - Length: 90 chars
2025-05-31 00:07:01,736 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-31 00:07:01,736 - __main__ - INFO - message_lower: 2
2025-05-31 00:07:01,736 - __main__ - INFO - Extracted age: 2
2025-05-31 00:07:01,736 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number='123456789' gender='זכר' age=2 hmo_name=None hmo_card_number=None insurance_tier=None
2025-05-31 00:07:01,736 - __main__ - INFO - 🔄 DEBUG: Collection complete, checking for confirmation...
2025-05-31 00:07:01,737 - __main__ - INFO - 📝 DEBUG: User message: '2'
2025-05-31 00:07:01,737 - __main__ - INFO - Messege from user: 2
2025-05-31 00:07:01,737 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-31 00:07:01,737 - __main__ - INFO - 🔍 DEBUG: Confirmation words found: []
2025-05-31 00:07:01,737 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-31 00:07:01,737 - __main__ - INFO - ❌ DEBUG: No confirmation or question detected, staying in collection phase
2025-05-31 00:07:01,737 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-31 00:07:01,737 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-31 00:07:02,774 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-31 00:07:02,776 - __main__ - INFO - Chat response generated successfully - Length: 108 chars
2025-05-31 00:07:05,605 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-31 00:07:05,605 - __main__ - INFO - message_lower: כללית
2025-05-31 00:07:05,605 - __main__ - INFO - Extracted HMO: כללית
2025-05-31 00:07:05,605 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number='123456789' gender='זכר' age=2 hmo_name='כללית' hmo_card_number=None insurance_tier=None
2025-05-31 00:07:05,605 - __main__ - INFO - 🔄 DEBUG: Collection complete, checking for confirmation...
2025-05-31 00:07:05,605 - __main__ - INFO - 📝 DEBUG: User message: 'כללית'
2025-05-31 00:07:05,605 - __main__ - INFO - Messege from user: כללית
2025-05-31 00:07:05,605 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-31 00:07:05,605 - __main__ - INFO - 🔍 DEBUG: Confirmation words found: []
2025-05-31 00:07:05,605 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-31 00:07:05,605 - __main__ - INFO - ❌ DEBUG: No confirmation or question detected, staying in collection phase
2025-05-31 00:07:05,605 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-31 00:07:05,605 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-31 00:07:06,355 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-31 00:07:06,355 - __main__ - INFO - Chat response generated successfully - Length: 127 chars
2025-05-31 00:07:08,308 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-31 00:07:08,308 - __main__ - INFO - message_lower: 123456789
2025-05-31 00:07:08,308 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number='123456789' gender='זכר' age=2 hmo_name='כללית' hmo_card_number=None insurance_tier=None
2025-05-31 00:07:08,308 - __main__ - INFO - 🔄 DEBUG: Collection complete, checking for confirmation...
2025-05-31 00:07:08,308 - __main__ - INFO - 📝 DEBUG: User message: '123456789'
2025-05-31 00:07:08,308 - __main__ - INFO - Messege from user: 123456789
2025-05-31 00:07:08,308 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-31 00:07:08,308 - __main__ - INFO - 🔍 DEBUG: Confirmation words found: []
2025-05-31 00:07:08,308 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-31 00:07:08,308 - __main__ - INFO - ❌ DEBUG: No confirmation or question detected, staying in collection phase
2025-05-31 00:07:08,308 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-31 00:07:08,308 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-31 00:07:09,224 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-31 00:07:09,224 - __main__ - INFO - Chat response generated successfully - Length: 139 chars
2025-05-31 00:07:11,132 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-31 00:07:11,132 - __main__ - INFO - message_lower: כסף
2025-05-31 00:07:11,132 - __main__ - INFO - Extracted insurance tier: כסף
2025-05-31 00:07:11,132 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number='123456789' gender='זכר' age=2 hmo_name='כללית' hmo_card_number=None insurance_tier='כסף'
2025-05-31 00:07:11,133 - __main__ - INFO - 🔄 DEBUG: Collection complete, checking for confirmation...
2025-05-31 00:07:11,133 - __main__ - INFO - 📝 DEBUG: User message: 'כסף'
2025-05-31 00:07:11,133 - __main__ - INFO - Messege from user: כסף
2025-05-31 00:07:11,133 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: False
2025-05-31 00:07:11,133 - __main__ - INFO - 🔍 DEBUG: Confirmation words found: []
2025-05-31 00:07:11,133 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-31 00:07:11,133 - __main__ - INFO - ❌ DEBUG: No confirmation or question detected, staying in collection phase
2025-05-31 00:07:11,133 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-31 00:07:11,133 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-31 00:07:12,296 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-31 00:07:12,299 - __main__ - INFO - Chat response generated successfully - Length: 280 chars
2025-05-31 00:07:15,420 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-31 00:07:15,421 - __main__ - INFO - message_lower: נכון
2025-05-31 00:07:15,421 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number='123456789' gender='זכר' age=2 hmo_name='כללית' hmo_card_number=None insurance_tier='כסף'
2025-05-31 00:07:15,421 - __main__ - INFO - 🔄 DEBUG: Collection complete, checking for confirmation...
2025-05-31 00:07:15,421 - __main__ - INFO - 📝 DEBUG: User message: 'נכון'
2025-05-31 00:07:15,421 - __main__ - INFO - Messege from user: נכון
2025-05-31 00:07:15,421 - __main__ - INFO - ✅ DEBUG: Is confirmation detected: True
2025-05-31 00:07:15,421 - __main__ - INFO - 🔍 DEBUG: Confirmation words found: ['נכון', 'נכון']
2025-05-31 00:07:15,422 - __main__ - INFO - ❓ DEBUG: Is question detected: False
2025-05-31 00:07:15,422 - __main__ - INFO - 🎉 DEBUG: Transitioning to QA phase!
2025-05-31 00:07:25,630 - __main__ - INFO - Chat request received - Phase: qa, Language: hebrew
2025-05-31 00:07:25,631 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number='123456789' gender='זכר' age=2 hmo_name='כללית' hmo_card_number=None insurance_tier='כסף'
2025-05-31 00:07:25,631 - __main__ - INFO - 🤔 Hypothetical context detected: {'hmo': 'כללית', 'hmos': ['כללית'], 'tier': 'ארד', 'tiers': ['ארד'], 'is_comparison': False, 'multiple_hmos': False, 'multiple_tiers': False, 'is_followup_hypothetical': False}
2025-05-31 00:07:25,631 - __main__ - INFO - 📋 Identified relevant services: ['dental', 'optometry', 'pregnancy', 'alternative', 'communication_clinic', 'workshops']
2025-05-31 00:07:25,631 - __main__ - INFO - 🔍 Starting get_comprehensive_knowledge_context
2025-05-31 00:07:25,631 - __main__ - INFO - 👤 User info: HMO=כללית, Tier=כסף
2025-05-31 00:07:25,631 - __main__ - INFO - 🤔 Hypothetical context: {'hmo': 'כללית', 'hmos': ['כללית'], 'tier': 'ארד', 'tiers': ['ארד'], 'is_comparison': False, 'multiple_hmos': False, 'multiple_tiers': False, 'is_followup_hypothetical': False}
2025-05-31 00:07:25,631 - __main__ - INFO - 🌐 Hypothetical/general context detected - loading ALL knowledge base
2025-05-31 00:07:25,631 - __main__ - INFO - 📋 Using ALL services: ['dental', 'optometry', 'pregnancy', 'alternative', 'communication_clinic', 'workshops']
2025-05-31 00:07:25,631 - __main__ - INFO - 🎯 Final relevant services: ['dental', 'optometry', 'pregnancy', 'alternative', 'communication_clinic', 'workshops']
2025-05-31 00:07:25,631 - __main__ - INFO - 📚 Available services in knowledge base: ['dental', 'optometry', 'pregnancy', 'alternative', 'communication_clinic', 'workshops']
2025-05-31 00:07:25,631 - __main__ - INFO - 🔄 Processing service: dental
2025-05-31 00:07:25,631 - __main__ - INFO - ✅ Found dental in knowledge base
2025-05-31 00:07:25,631 - __main__ - INFO - 🎯 Including specific HMO: כללית
2025-05-31 00:07:25,631 - __main__ - INFO - 🎯 Including specific tier: ארד
2025-05-31 00:07:25,631 - __main__ - INFO - 📊 Final targets - HMOs: ['כללית'], Tiers: ['ארד']
2025-05-31 00:07:25,631 - __main__ - INFO - 📋 Processing 6 services
2025-05-31 00:07:25,631 - __main__ - INFO - 🔄 Processing service: optometry
2025-05-31 00:07:25,632 - __main__ - INFO - ✅ Found optometry in knowledge base
2025-05-31 00:07:25,632 - __main__ - INFO - 🎯 Including specific HMO: כללית
2025-05-31 00:07:25,632 - __main__ - INFO - 🎯 Including specific tier: ארד
2025-05-31 00:07:25,632 - __main__ - INFO - 📊 Final targets - HMOs: ['כללית'], Tiers: ['ארד']
2025-05-31 00:07:25,632 - __main__ - INFO - 📋 Processing 6 services
2025-05-31 00:07:25,632 - __main__ - INFO - 🔄 Processing service: pregnancy
2025-05-31 00:07:25,632 - __main__ - INFO - ✅ Found pregnancy in knowledge base
2025-05-31 00:07:25,632 - __main__ - INFO - 🎯 Including specific HMO: כללית
2025-05-31 00:07:25,632 - __main__ - INFO - 🎯 Including specific tier: ארד
2025-05-31 00:07:25,632 - __main__ - INFO - 📊 Final targets - HMOs: ['כללית'], Tiers: ['ארד']
2025-05-31 00:07:25,632 - __main__ - INFO - 📋 Processing 6 services
2025-05-31 00:07:25,632 - __main__ - INFO - 🔄 Processing service: alternative
2025-05-31 00:07:25,632 - __main__ - INFO - ✅ Found alternative in knowledge base
2025-05-31 00:07:25,632 - __main__ - INFO - 🎯 Including specific HMO: כללית
2025-05-31 00:07:25,632 - __main__ - INFO - 🎯 Including specific tier: ארד
2025-05-31 00:07:25,632 - __main__ - INFO - 📊 Final targets - HMOs: ['כללית'], Tiers: ['ארד']
2025-05-31 00:07:25,632 - __main__ - INFO - 📋 Processing 6 services
2025-05-31 00:07:25,632 - __main__ - INFO - 🔄 Processing service: communication_clinic
2025-05-31 00:07:25,632 - __main__ - INFO - ✅ Found communication_clinic in knowledge base
2025-05-31 00:07:25,632 - __main__ - INFO - 🎯 Including specific HMO: כללית
2025-05-31 00:07:25,632 - __main__ - INFO - 🎯 Including specific tier: ארד
2025-05-31 00:07:25,632 - __main__ - INFO - 📊 Final targets - HMOs: ['כללית'], Tiers: ['ארד']
2025-05-31 00:07:25,632 - __main__ - INFO - 📋 Processing 6 services
2025-05-31 00:07:25,632 - __main__ - INFO - 🔄 Processing service: workshops
2025-05-31 00:07:25,632 - __main__ - INFO - ✅ Found workshops in knowledge base
2025-05-31 00:07:25,632 - __main__ - INFO - 🎯 Including specific HMO: כללית
2025-05-31 00:07:25,632 - __main__ - INFO - 🎯 Including specific tier: ארד
2025-05-31 00:07:25,632 - __main__ - INFO - 📊 Final targets - HMOs: ['כללית'], Tiers: ['ארד']
2025-05-31 00:07:25,632 - __main__ - INFO - 📋 Processing 6 services
2025-05-31 00:07:25,633 - __main__ - INFO - 📝 Final comprehensive context length: 3853 chars
2025-05-31 00:07:25,633 - __main__ - INFO - 📄 First 300 chars of context:
2025-05-31 00:07:25,633 - __main__ - INFO - 

=== מרפאות שיניים ===
תיאור: מרפאות שיניים מציעות מגוון רחב של שירותי בריאות הפה, כולל בדיקות שגרתיות, ניקויים, סתימות, טיפולי שורש, עקירות, והליכים קוסמטיים. מרפאות אלו מאוישות על ידי רופאי שיניים מורשים ושינניות המשתמשים בציוד מודרני כדי להבטיח טיפול איכותי לפציינטים מכל הגילאים.

** בדיקות וניק
2025-05-31 00:07:25,633 - __main__ - INFO - ==================================================
2025-05-31 00:07:25,633 - __main__ - INFO - 📝 Knowledge context length: 3853
2025-05-31 00:07:25,633 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-31 00:07:25,633 - __main__ - INFO - Knowledge context length: 3853 chars
2025-05-31 00:07:34,007 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-31 00:07:34,010 - __main__ - INFO - Chat response generated successfully - Length: 1634 chars
2025-05-31 00:07:51,934 - __main__ - INFO - Chat request received - Phase: qa, Language: hebrew
2025-05-31 00:07:51,935 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number='123456789' gender='זכר' age=2 hmo_name='כללית' hmo_card_number=None insurance_tier='כסף'
2025-05-31 00:07:51,935 - __main__ - INFO - 🤔 Hypothetical context detected: {'hmo': 'מכבי', 'hmos': ['מכבי'], 'tier': 'ארד', 'tiers': ['ארד'], 'is_comparison': True, 'multiple_hmos': False, 'multiple_tiers': False, 'is_followup_hypothetical': True}
2025-05-31 00:07:51,935 - __main__ - INFO - 📋 Identified relevant services: ['dental']
2025-05-31 00:07:51,935 - __main__ - INFO - 🔍 Starting get_comprehensive_knowledge_context
2025-05-31 00:07:51,935 - __main__ - INFO - 👤 User info: HMO=כללית, Tier=כסף
2025-05-31 00:07:51,935 - __main__ - INFO - 🤔 Hypothetical context: {'hmo': 'מכבי', 'hmos': ['מכבי'], 'tier': 'ארד', 'tiers': ['ארד'], 'is_comparison': True, 'multiple_hmos': False, 'multiple_tiers': False, 'is_followup_hypothetical': True}
2025-05-31 00:07:51,935 - __main__ - INFO - 🌐 Hypothetical/general context detected - loading ALL knowledge base
2025-05-31 00:07:51,935 - __main__ - INFO - 📋 Using ALL services: ['dental', 'optometry', 'pregnancy', 'alternative', 'communication_clinic', 'workshops']
2025-05-31 00:07:51,935 - __main__ - INFO - 🎯 Final relevant services: ['dental', 'optometry', 'pregnancy', 'alternative', 'communication_clinic', 'workshops']
2025-05-31 00:07:51,935 - __main__ - INFO - 📚 Available services in knowledge base: ['dental', 'optometry', 'pregnancy', 'alternative', 'communication_clinic', 'workshops']
2025-05-31 00:07:51,935 - __main__ - INFO - 🔄 Processing service: dental
2025-05-31 00:07:51,935 - __main__ - INFO - ✅ Found dental in knowledge base
2025-05-31 00:07:51,936 - __main__ - INFO - 🎯 Follow-up hypothetical detected - using: מכבי
2025-05-31 00:07:51,936 - __main__ - INFO - 🎯 Follow-up hypothetical tier detected - using: ארד
2025-05-31 00:07:51,936 - __main__ - INFO - 📊 Final targets - HMOs: ['מכבי'], Tiers: ['ארד']
2025-05-31 00:07:51,936 - __main__ - INFO - 📋 Processing 6 services
2025-05-31 00:07:51,936 - __main__ - INFO - 🔄 Processing service: optometry
2025-05-31 00:07:51,936 - __main__ - INFO - ✅ Found optometry in knowledge base
2025-05-31 00:07:51,936 - __main__ - INFO - 🎯 Follow-up hypothetical detected - using: מכבי
2025-05-31 00:07:51,936 - __main__ - INFO - 🎯 Follow-up hypothetical tier detected - using: ארד
2025-05-31 00:07:51,936 - __main__ - INFO - 📊 Final targets - HMOs: ['מכבי'], Tiers: ['ארד']
2025-05-31 00:07:51,936 - __main__ - INFO - 📋 Processing 6 services
2025-05-31 00:07:51,936 - __main__ - INFO - 🔄 Processing service: pregnancy
2025-05-31 00:07:51,936 - __main__ - INFO - ✅ Found pregnancy in knowledge base
2025-05-31 00:07:51,936 - __main__ - INFO - 🎯 Follow-up hypothetical detected - using: מכבי
2025-05-31 00:07:51,936 - __main__ - INFO - 🎯 Follow-up hypothetical tier detected - using: ארד
2025-05-31 00:07:51,936 - __main__ - INFO - 📊 Final targets - HMOs: ['מכבי'], Tiers: ['ארד']
2025-05-31 00:07:51,936 - __main__ - INFO - 📋 Processing 6 services
2025-05-31 00:07:51,936 - __main__ - INFO - 🔄 Processing service: alternative
2025-05-31 00:07:51,936 - __main__ - INFO - ✅ Found alternative in knowledge base
2025-05-31 00:07:51,936 - __main__ - INFO - 🎯 Follow-up hypothetical detected - using: מכבי
2025-05-31 00:07:51,936 - __main__ - INFO - 🎯 Follow-up hypothetical tier detected - using: ארד
2025-05-31 00:07:51,936 - __main__ - INFO - 📊 Final targets - HMOs: ['מכבי'], Tiers: ['ארד']
2025-05-31 00:07:51,936 - __main__ - INFO - 📋 Processing 6 services
2025-05-31 00:07:51,936 - __main__ - INFO - 🔄 Processing service: communication_clinic
2025-05-31 00:07:51,936 - __main__ - INFO - ✅ Found communication_clinic in knowledge base
2025-05-31 00:07:51,936 - __main__ - INFO - 🎯 Follow-up hypothetical detected - using: מכבי
2025-05-31 00:07:51,936 - __main__ - INFO - 🎯 Follow-up hypothetical tier detected - using: ארד
2025-05-31 00:07:51,936 - __main__ - INFO - 📊 Final targets - HMOs: ['מכבי'], Tiers: ['ארד']
2025-05-31 00:07:51,937 - __main__ - INFO - 📋 Processing 6 services
2025-05-31 00:07:51,937 - __main__ - INFO - 🔄 Processing service: workshops
2025-05-31 00:07:51,937 - __main__ - INFO - ✅ Found workshops in knowledge base
2025-05-31 00:07:51,937 - __main__ - INFO - 🎯 Follow-up hypothetical detected - using: מכבי
2025-05-31 00:07:51,937 - __main__ - INFO - 🎯 Follow-up hypothetical tier detected - using: ארד
2025-05-31 00:07:51,937 - __main__ - INFO - 📊 Final targets - HMOs: ['מכבי'], Tiers: ['ארד']
2025-05-31 00:07:51,937 - __main__ - INFO - 📋 Processing 6 services
2025-05-31 00:07:51,937 - __main__ - INFO - 📝 Final comprehensive context length: 3807 chars
2025-05-31 00:07:51,937 - __main__ - INFO - 📄 First 300 chars of context:
2025-05-31 00:07:51,937 - __main__ - INFO - 

=== מרפאות שיניים ===
תיאור: מרפאות שיניים מציעות מגוון רחב של שירותי בריאות הפה, כולל בדיקות שגרתיות, ניקויים, סתימות, טיפולי שורש, עקירות, והליכים קוסמטיים. מרפאות אלו מאוישות על ידי רופאי שיניים מורשים ושינניות המשתמשים בציוד מודרני כדי להבטיח טיפול איכותי לפציינטים מכל הגילאים.

** בדיקות וניק
2025-05-31 00:07:51,937 - __main__ - INFO - ==================================================
2025-05-31 00:07:51,937 - __main__ - INFO - 📝 Knowledge context length: 3807
2025-05-31 00:07:51,937 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-31 00:07:51,937 - __main__ - INFO - Knowledge context length: 3807 chars
2025-05-31 00:07:54,132 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-31 00:07:54,133 - __main__ - INFO - Chat response generated successfully - Length: 388 chars
2025-05-31 00:27:34,410 - __main__ - INFO - Azure OpenAI client initialized successfully
2025-05-31 00:27:35,862 - __main__ - INFO - health check
2025-05-31 00:27:36,881 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-31 00:27:36,882 - __main__ - INFO - message_lower: בואו נתחיל באיסוף המידע
2025-05-31 00:27:36,882 - __main__ - INFO - Skipping extraction - message appears to be from assistant: בואו נתחיל באיסוף המידע
2025-05-31 00:27:36,882 - __main__ - INFO - Updated user info: first_name=None last_name=None id_number=None gender=None age=None hmo_name=None hmo_card_number=None insurance_tier=None
2025-05-31 00:27:36,882 - __main__ - INFO - 🔄 DEBUG: Collection phase, checking for transition...
2025-05-31 00:27:36,882 - __main__ - INFO - ❌ DEBUG: No confirmation or question detected, staying in collection phase
2025-05-31 00:27:36,882 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-31 00:27:36,882 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-31 00:27:40,068 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-31 00:27:40,074 - __main__ - INFO - Chat response generated successfully - Length: 403 chars
2025-05-31 00:27:42,123 - __main__ - INFO - Chat request received - Phase: collection, Language: english
2025-05-31 00:27:42,123 - __main__ - INFO - message_lower: let's start collecting the information
2025-05-31 00:27:42,123 - __main__ - INFO - Extracted gender: זכר
2025-05-31 00:27:42,124 - __main__ - INFO - Updated user info: first_name=None last_name=None id_number=None gender='זכר' age=None hmo_name=None hmo_card_number=None insurance_tier=None
2025-05-31 00:27:42,124 - __main__ - INFO - 🔄 DEBUG: Collection phase, checking for transition...
2025-05-31 00:27:42,124 - __main__ - INFO - ❌ DEBUG: No confirmation or question detected, staying in collection phase
2025-05-31 00:27:42,124 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-31 00:27:42,124 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-31 00:27:44,711 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-31 00:27:44,713 - __main__ - INFO - Chat response generated successfully - Length: 551 chars
2025-05-31 00:27:49,442 - __main__ - INFO - Chat request received - Phase: collection, Language: english
2025-05-31 00:27:49,442 - __main__ - INFO - message_lower: or meiri
2025-05-31 00:27:49,442 - __main__ - INFO - Updated user info: first_name=None last_name=None id_number=None gender='זכר' age=None hmo_name=None hmo_card_number=None insurance_tier=None
2025-05-31 00:27:49,442 - __main__ - INFO - 🔄 DEBUG: Collection phase, checking for transition...
2025-05-31 00:27:49,442 - __main__ - INFO - ❌ DEBUG: No confirmation or question detected, staying in collection phase
2025-05-31 00:27:49,442 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-31 00:27:49,442 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-31 00:27:50,018 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-31 00:27:50,020 - __main__ - INFO - Chat response generated successfully - Length: 98 chars
2025-05-31 00:27:53,957 - __main__ - INFO - Chat request received - Phase: collection, Language: english
2025-05-31 00:27:53,957 - __main__ - INFO - message_lower: 123456789
2025-05-31 00:27:53,957 - __main__ - INFO - Updated user info: first_name=None last_name=None id_number=None gender='זכר' age=None hmo_name=None hmo_card_number=None insurance_tier=None
2025-05-31 00:27:53,958 - __main__ - INFO - 🔄 DEBUG: Collection phase, checking for transition...
2025-05-31 00:27:53,958 - __main__ - INFO - ❌ DEBUG: No confirmation or question detected, staying in collection phase
2025-05-31 00:27:53,958 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-31 00:27:53,958 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-31 00:27:54,598 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-31 00:27:54,600 - __main__ - INFO - Chat response generated successfully - Length: 123 chars
2025-05-31 00:27:57,545 - __main__ - INFO - Chat request received - Phase: collection, Language: english
2025-05-31 00:27:57,545 - __main__ - INFO - message_lower: male
2025-05-31 00:27:57,545 - __main__ - INFO - Updated user info: first_name=None last_name=None id_number=None gender='זכר' age=None hmo_name=None hmo_card_number=None insurance_tier=None
2025-05-31 00:27:57,545 - __main__ - INFO - 🔄 DEBUG: Collection phase, checking for transition...
2025-05-31 00:27:57,545 - __main__ - INFO - ❌ DEBUG: No confirmation or question detected, staying in collection phase
2025-05-31 00:27:57,545 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-31 00:27:57,545 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-31 00:27:58,173 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-31 00:27:58,174 - __main__ - INFO - Chat response generated successfully - Length: 117 chars
2025-05-31 00:28:00,215 - __main__ - INFO - Chat request received - Phase: collection, Language: english
2025-05-31 00:28:00,216 - __main__ - INFO - message_lower: 2
2025-05-31 00:28:00,216 - __main__ - INFO - Extracted age: 2
2025-05-31 00:28:00,216 - __main__ - INFO - Updated user info: first_name=None last_name=None id_number=None gender='זכר' age=2 hmo_name=None hmo_card_number=None insurance_tier=None
2025-05-31 00:28:00,216 - __main__ - INFO - 🔄 DEBUG: Collection phase, checking for transition...
2025-05-31 00:28:00,216 - __main__ - INFO - ❌ DEBUG: No confirmation or question detected, staying in collection phase
2025-05-31 00:28:00,216 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-31 00:28:00,216 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-31 00:28:00,865 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-31 00:28:00,866 - __main__ - INFO - Chat response generated successfully - Length: 138 chars
2025-05-31 00:28:07,574 - __main__ - INFO - Chat request received - Phase: collection, Language: english
2025-05-31 00:28:07,575 - __main__ - INFO - message_lower: clalit
2025-05-31 00:28:07,575 - __main__ - INFO - Extracted HMO: כללית
2025-05-31 00:28:07,575 - __main__ - INFO - Updated user info: first_name=None last_name=None id_number=None gender='זכר' age=2 hmo_name='כללית' hmo_card_number=None insurance_tier=None
2025-05-31 00:28:07,575 - __main__ - INFO - 🔄 DEBUG: Collection phase, checking for transition...
2025-05-31 00:28:07,575 - __main__ - INFO - ❌ DEBUG: No confirmation or question detected, staying in collection phase
2025-05-31 00:28:07,575 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-31 00:28:07,575 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-31 00:28:08,798 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-31 00:28:08,800 - __main__ - INFO - Chat response generated successfully - Length: 151 chars
2025-05-31 00:28:11,348 - __main__ - INFO - Chat request received - Phase: collection, Language: english
2025-05-31 00:28:11,349 - __main__ - INFO - message_lower: 123456789
2025-05-31 00:28:11,349 - __main__ - INFO - Updated user info: first_name=None last_name=None id_number=None gender='זכר' age=2 hmo_name='כללית' hmo_card_number=None insurance_tier=None
2025-05-31 00:28:11,349 - __main__ - INFO - 🔄 DEBUG: Collection phase, checking for transition...
2025-05-31 00:28:11,349 - __main__ - INFO - ❌ DEBUG: No confirmation or question detected, staying in collection phase
2025-05-31 00:28:11,349 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-31 00:28:11,349 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-31 00:28:11,932 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-31 00:28:11,934 - __main__ - INFO - Chat response generated successfully - Length: 155 chars
2025-05-31 00:28:16,151 - __main__ - INFO - Chat request received - Phase: collection, Language: english
2025-05-31 00:28:16,151 - __main__ - INFO - message_lower: gold
2025-05-31 00:28:16,151 - __main__ - INFO - Extracted insurance tier: זהב
2025-05-31 00:28:16,151 - __main__ - INFO - Updated user info: first_name=None last_name=None id_number=None gender='זכר' age=2 hmo_name='כללית' hmo_card_number=None insurance_tier='זהב'
2025-05-31 00:28:16,151 - __main__ - INFO - 🔄 DEBUG: Collection phase, checking for transition...
2025-05-31 00:28:16,151 - __main__ - INFO - ❌ DEBUG: No confirmation or question detected, staying in collection phase
2025-05-31 00:28:16,151 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-31 00:28:16,151 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-31 00:28:17,479 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-31 00:28:17,481 - __main__ - INFO - Chat response generated successfully - Length: 532 chars
2025-05-31 00:28:19,478 - __main__ - INFO - Chat request received - Phase: collection, Language: english
2025-05-31 00:28:19,478 - __main__ - INFO - message_lower: yes
2025-05-31 00:28:19,479 - __main__ - INFO - Updated user info: first_name=None last_name=None id_number=None gender='זכר' age=2 hmo_name='כללית' hmo_card_number=None insurance_tier='זהב'
2025-05-31 00:28:19,479 - __main__ - INFO - 🔄 DEBUG: Collection phase, checking for transition...
2025-05-31 00:28:19,479 - __main__ - INFO - 🎉 DEBUG: Transitioning to QA phase!
2025-05-31 00:28:51,252 - __main__ - INFO - Chat request received - Phase: qa, Language: english
2025-05-31 00:28:51,253 - __main__ - INFO - Updated user info: first_name=None last_name=None id_number=None gender='זכר' age=2 hmo_name='כללית' hmo_card_number=None insurance_tier='זהב'
2025-05-31 00:28:51,253 - __main__ - INFO - 🤔 Hypothetical context detected: {'hmo': 'מאוחדת', 'hmos': ['מאוחדת'], 'tier': 'ארד', 'tiers': ['ארד'], 'is_comparison': False, 'multiple_hmos': False, 'multiple_tiers': False, 'is_followup_hypothetical': False}
2025-05-31 00:28:51,253 - __main__ - INFO - 📋 Identified relevant services: ['dental', 'optometry', 'pregnancy', 'alternative', 'communication_clinic', 'workshops']
2025-05-31 00:28:51,253 - __main__ - INFO - 🔍 Starting get_comprehensive_knowledge_context
2025-05-31 00:28:51,253 - __main__ - INFO - 👤 User info: HMO=כללית, Tier=זהב
2025-05-31 00:28:51,253 - __main__ - INFO - 🤔 Hypothetical context: {'hmo': 'מאוחדת', 'hmos': ['מאוחדת'], 'tier': 'ארד', 'tiers': ['ארד'], 'is_comparison': False, 'multiple_hmos': False, 'multiple_tiers': False, 'is_followup_hypothetical': False}
2025-05-31 00:28:51,253 - __main__ - INFO - 🌐 Hypothetical/general context detected - loading ALL knowledge base
2025-05-31 00:28:51,253 - __main__ - INFO - 📋 Using ALL services: ['dental', 'optometry', 'pregnancy', 'alternative', 'communication_clinic', 'workshops']
2025-05-31 00:28:51,253 - __main__ - INFO - 🎯 Final relevant services: ['dental', 'optometry', 'pregnancy', 'alternative', 'communication_clinic', 'workshops']
2025-05-31 00:28:51,254 - __main__ - INFO - 📚 Available services in knowledge base: ['dental', 'optometry', 'pregnancy', 'alternative', 'communication_clinic', 'workshops']
2025-05-31 00:28:51,254 - __main__ - INFO - 🔄 Processing service: dental
2025-05-31 00:28:51,254 - __main__ - INFO - ✅ Found dental in knowledge base
2025-05-31 00:28:51,254 - __main__ - INFO - 🎯 Including specific HMO: מאוחדת
2025-05-31 00:28:51,254 - __main__ - INFO - 🎯 Including specific tier: ארד
2025-05-31 00:28:51,254 - __main__ - INFO - 📊 Final targets - HMOs: ['מאוחדת'], Tiers: ['ארד']
2025-05-31 00:28:51,254 - __main__ - INFO - 📋 Processing 6 services
2025-05-31 00:28:51,254 - __main__ - INFO - 🔄 Processing service: optometry
2025-05-31 00:28:51,254 - __main__ - INFO - ✅ Found optometry in knowledge base
2025-05-31 00:28:51,254 - __main__ - INFO - 🎯 Including specific HMO: מאוחדת
2025-05-31 00:28:51,254 - __main__ - INFO - 🎯 Including specific tier: ארד
2025-05-31 00:28:51,254 - __main__ - INFO - 📊 Final targets - HMOs: ['מאוחדת'], Tiers: ['ארד']
2025-05-31 00:28:51,254 - __main__ - INFO - 📋 Processing 6 services
2025-05-31 00:28:51,254 - __main__ - INFO - 🔄 Processing service: pregnancy
2025-05-31 00:28:51,254 - __main__ - INFO - ✅ Found pregnancy in knowledge base
2025-05-31 00:28:51,254 - __main__ - INFO - 🎯 Including specific HMO: מאוחדת
2025-05-31 00:28:51,254 - __main__ - INFO - 🎯 Including specific tier: ארד
2025-05-31 00:28:51,254 - __main__ - INFO - 📊 Final targets - HMOs: ['מאוחדת'], Tiers: ['ארד']
2025-05-31 00:28:51,254 - __main__ - INFO - 📋 Processing 6 services
2025-05-31 00:28:51,254 - __main__ - INFO - 🔄 Processing service: alternative
2025-05-31 00:28:51,254 - __main__ - INFO - ✅ Found alternative in knowledge base
2025-05-31 00:28:51,254 - __main__ - INFO - 🎯 Including specific HMO: מאוחדת
2025-05-31 00:28:51,254 - __main__ - INFO - 🎯 Including specific tier: ארד
2025-05-31 00:28:51,254 - __main__ - INFO - 📊 Final targets - HMOs: ['מאוחדת'], Tiers: ['ארד']
2025-05-31 00:28:51,254 - __main__ - INFO - 📋 Processing 6 services
2025-05-31 00:28:51,254 - __main__ - INFO - 🔄 Processing service: communication_clinic
2025-05-31 00:28:51,255 - __main__ - INFO - ✅ Found communication_clinic in knowledge base
2025-05-31 00:28:51,255 - __main__ - INFO - 🎯 Including specific HMO: מאוחדת
2025-05-31 00:28:51,255 - __main__ - INFO - 🎯 Including specific tier: ארד
2025-05-31 00:28:51,255 - __main__ - INFO - 📊 Final targets - HMOs: ['מאוחדת'], Tiers: ['ארד']
2025-05-31 00:28:51,255 - __main__ - INFO - 📋 Processing 6 services
2025-05-31 00:28:51,255 - __main__ - INFO - 🔄 Processing service: workshops
2025-05-31 00:28:51,255 - __main__ - INFO - ✅ Found workshops in knowledge base
2025-05-31 00:28:51,255 - __main__ - INFO - 🎯 Including specific HMO: מאוחדת
2025-05-31 00:28:51,255 - __main__ - INFO - 🎯 Including specific tier: ארד
2025-05-31 00:28:51,255 - __main__ - INFO - 📊 Final targets - HMOs: ['מאוחדת'], Tiers: ['ארד']
2025-05-31 00:28:51,255 - __main__ - INFO - 📋 Processing 6 services
2025-05-31 00:28:51,255 - __main__ - INFO - 📝 Final comprehensive context length: 3879 chars
2025-05-31 00:28:51,255 - __main__ - INFO - 📄 First 300 chars of context:
2025-05-31 00:28:51,255 - __main__ - INFO - 

=== מרפאות שיניים ===
תיאור: מרפאות שיניים מציעות מגוון רחב של שירותי בריאות הפה, כולל בדיקות שגרתיות, ניקויים, סתימות, טיפולי שורש, עקירות, והליכים קוסמטיים. מרפאות אלו מאוישות על ידי רופאי שיניים מורשים ושינניות המשתמשים בציוד מודרני כדי להבטיח טיפול איכותי לפציינטים מכל הגילאים.

** בדיקות וניק
2025-05-31 00:28:51,255 - __main__ - INFO - ==================================================
2025-05-31 00:28:51,255 - __main__ - INFO - 📝 Knowledge context length: 3879
2025-05-31 00:28:51,255 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-31 00:28:51,255 - __main__ - INFO - Knowledge context length: 3879 chars
2025-05-31 00:29:02,843 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-31 00:29:02,845 - __main__ - INFO - Chat response generated successfully - Length: 2164 chars
2025-05-31 00:29:23,760 - __main__ - INFO - Chat request received - Phase: qa, Language: english
2025-05-31 00:29:23,761 - __main__ - INFO - Updated user info: first_name=None last_name=None id_number=None gender='זכר' age=2 hmo_name='כללית' hmo_card_number=None insurance_tier='זהב'
2025-05-31 00:29:23,761 - __main__ - INFO - 🤔 Hypothetical context detected: {'hmo': None, 'hmos': ['מכבי', 'כללית'], 'tier': None, 'tiers': [], 'is_comparison': True, 'multiple_hmos': True, 'multiple_tiers': False, 'is_followup_hypothetical': False}
2025-05-31 00:29:23,761 - __main__ - INFO - 📋 Identified relevant services: ['pregnancy']
2025-05-31 00:29:23,761 - __main__ - INFO - 🔍 Starting get_comprehensive_knowledge_context
2025-05-31 00:29:23,761 - __main__ - INFO - 👤 User info: HMO=כללית, Tier=זהב
2025-05-31 00:29:23,761 - __main__ - INFO - 🤔 Hypothetical context: {'hmo': None, 'hmos': ['מכבי', 'כללית'], 'tier': None, 'tiers': [], 'is_comparison': True, 'multiple_hmos': True, 'multiple_tiers': False, 'is_followup_hypothetical': False}
2025-05-31 00:29:23,761 - __main__ - INFO - 🌐 Hypothetical/general context detected - loading ALL knowledge base
2025-05-31 00:29:23,761 - __main__ - INFO - 📋 Using ALL services: ['dental', 'optometry', 'pregnancy', 'alternative', 'communication_clinic', 'workshops']
2025-05-31 00:29:23,761 - __main__ - INFO - 🎯 Final relevant services: ['dental', 'optometry', 'pregnancy', 'alternative', 'communication_clinic', 'workshops']
2025-05-31 00:29:23,761 - __main__ - INFO - 📚 Available services in knowledge base: ['dental', 'optometry', 'pregnancy', 'alternative', 'communication_clinic', 'workshops']
2025-05-31 00:29:23,761 - __main__ - INFO - 🔄 Processing service: dental
2025-05-31 00:29:23,761 - __main__ - INFO - ✅ Found dental in knowledge base
2025-05-31 00:29:23,761 - __main__ - INFO - 🔄 Including all HMOs for comparison
2025-05-31 00:29:23,761 - __main__ - INFO - 🔄 Including all tiers for comparison
2025-05-31 00:29:23,761 - __main__ - INFO - 📊 Final targets - HMOs: ['מכבי', 'מאוחדת', 'כללית'], Tiers: ['זהב', 'כסף', 'ארד']
2025-05-31 00:29:23,761 - __main__ - INFO - 📋 Processing 6 services
2025-05-31 00:29:23,761 - __main__ - INFO - 🔄 Processing service: optometry
2025-05-31 00:29:23,761 - __main__ - INFO - ✅ Found optometry in knowledge base
2025-05-31 00:29:23,761 - __main__ - INFO - 🔄 Including all HMOs for comparison
2025-05-31 00:29:23,761 - __main__ - INFO - 🔄 Including all tiers for comparison
2025-05-31 00:29:23,761 - __main__ - INFO - 📊 Final targets - HMOs: ['מכבי', 'מאוחדת', 'כללית'], Tiers: ['זהב', 'כסף', 'ארד']
2025-05-31 00:29:23,762 - __main__ - INFO - 📋 Processing 6 services
2025-05-31 00:29:23,762 - __main__ - INFO - 🔄 Processing service: pregnancy
2025-05-31 00:29:23,762 - __main__ - INFO - ✅ Found pregnancy in knowledge base
2025-05-31 00:29:23,762 - __main__ - INFO - 🔄 Including all HMOs for comparison
2025-05-31 00:29:23,762 - __main__ - INFO - 🔄 Including all tiers for comparison
2025-05-31 00:29:23,762 - __main__ - INFO - 📊 Final targets - HMOs: ['מכבי', 'מאוחדת', 'כללית'], Tiers: ['זהב', 'כסף', 'ארד']
2025-05-31 00:29:23,762 - __main__ - INFO - 📋 Processing 6 services
2025-05-31 00:29:23,762 - __main__ - INFO - 🔄 Processing service: alternative
2025-05-31 00:29:23,762 - __main__ - INFO - ✅ Found alternative in knowledge base
2025-05-31 00:29:23,762 - __main__ - INFO - 🔄 Including all HMOs for comparison
2025-05-31 00:29:23,762 - __main__ - INFO - 🔄 Including all tiers for comparison
2025-05-31 00:29:23,762 - __main__ - INFO - 📊 Final targets - HMOs: ['מכבי', 'מאוחדת', 'כללית'], Tiers: ['זהב', 'כסף', 'ארד']
2025-05-31 00:29:23,762 - __main__ - INFO - 📋 Processing 6 services
2025-05-31 00:29:23,762 - __main__ - INFO - 🔄 Processing service: communication_clinic
2025-05-31 00:29:23,762 - __main__ - INFO - ✅ Found communication_clinic in knowledge base
2025-05-31 00:29:23,762 - __main__ - INFO - 🔄 Including all HMOs for comparison
2025-05-31 00:29:23,762 - __main__ - INFO - 🔄 Including all tiers for comparison
2025-05-31 00:29:23,762 - __main__ - INFO - 📊 Final targets - HMOs: ['מכבי', 'מאוחדת', 'כללית'], Tiers: ['זהב', 'כסף', 'ארד']
2025-05-31 00:29:23,762 - __main__ - INFO - 📋 Processing 6 services
2025-05-31 00:29:23,762 - __main__ - INFO - 🔄 Processing service: workshops
2025-05-31 00:29:23,762 - __main__ - INFO - ✅ Found workshops in knowledge base
2025-05-31 00:29:23,762 - __main__ - INFO - 🔄 Including all HMOs for comparison
2025-05-31 00:29:23,762 - __main__ - INFO - 🔄 Including all tiers for comparison
2025-05-31 00:29:23,762 - __main__ - INFO - 📊 Final targets - HMOs: ['מכבי', 'מאוחדת', 'כללית'], Tiers: ['זהב', 'כסף', 'ארד']
2025-05-31 00:29:23,762 - __main__ - INFO - 📋 Processing 6 services
2025-05-31 00:29:23,762 - __main__ - INFO - 📝 Final comprehensive context length: 13999 chars
2025-05-31 00:29:23,762 - __main__ - INFO - 📄 First 300 chars of context:
2025-05-31 00:29:23,762 - __main__ - INFO - 

=== מרפאות שיניים ===
תיאור: מרפאות שיניים מציעות מגוון רחב של שירותי בריאות הפה, כולל בדיקות שגרתיות, ניקויים, סתימות, טיפולי שורש, עקירות, והליכים קוסמטיים. מרפאות אלו מאוישות על ידי רופאי שיניים מורשים ושינניות המשתמשים בציוד מודרני כדי להבטיח טיפול איכותי לפציינטים מכל הגילאים.

** בדיקות וניק
2025-05-31 00:29:23,763 - __main__ - INFO - ==================================================
2025-05-31 00:29:23,763 - __main__ - INFO - 📝 Knowledge context length: 13999
2025-05-31 00:29:23,763 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-31 00:29:23,763 - __main__ - INFO - Knowledge context length: 13999 chars
2025-05-31 00:29:43,087 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-31 00:29:43,090 - __main__ - INFO - Chat response generated successfully - Length: 5140 chars
2025-05-31 00:33:14,291 - __main__ - INFO - Azure OpenAI client initialized successfully
2025-05-31 00:33:15,793 - __main__ - INFO - health check
2025-05-31 00:33:16,844 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-31 00:33:16,844 - __main__ - INFO - message_lower: בואו נתחיל באיסוף המידע
2025-05-31 00:33:16,844 - __main__ - INFO - Skipping extraction - message appears to be from assistant: בואו נתחיל באיסוף המידע
2025-05-31 00:33:16,844 - __main__ - INFO - Updated user info: first_name=None last_name=None id_number=None gender=None age=None hmo_name=None hmo_card_number=None insurance_tier=None
2025-05-31 00:33:16,844 - __main__ - INFO - 🔄 DEBUG: Collection phase, checking for transition...
2025-05-31 00:33:16,844 - __main__ - INFO - ❌ DEBUG: No confirmation or question detected, staying in collection phase
2025-05-31 00:33:16,844 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-31 00:33:16,844 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-31 00:33:19,665 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-31 00:33:19,671 - __main__ - INFO - Chat response generated successfully - Length: 422 chars
2025-05-31 00:33:22,573 - __main__ - INFO - Chat request received - Phase: collection, Language: english
2025-05-31 00:33:22,573 - __main__ - INFO - message_lower: let's start collecting the information
2025-05-31 00:33:22,573 - __main__ - INFO - Extracted gender: זכר
2025-05-31 00:33:22,573 - __main__ - INFO - Extracted full name: Let's start collecting the information
2025-05-31 00:33:22,573 - __main__ - INFO - Updated user info: first_name="Let's" last_name='start collecting the information' id_number=None gender='זכר' age=None hmo_name=None hmo_card_number=None insurance_tier=None
2025-05-31 00:33:22,574 - __main__ - INFO - 🔄 DEBUG: Collection phase, checking for transition...
2025-05-31 00:33:22,574 - __main__ - INFO - ❌ DEBUG: No confirmation or question detected, staying in collection phase
2025-05-31 00:33:22,574 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-31 00:33:22,574 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-31 00:33:24,272 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-31 00:33:24,273 - __main__ - INFO - Chat response generated successfully - Length: 608 chars
2025-05-31 00:33:30,042 - __main__ - INFO - Chat request received - Phase: collection, Language: english
2025-05-31 00:33:30,043 - __main__ - INFO - message_lower: or meiri
2025-05-31 00:33:30,043 - __main__ - INFO - Updated user info: first_name="Let's" last_name='start collecting the information' id_number=None gender='זכר' age=None hmo_name=None hmo_card_number=None insurance_tier=None
2025-05-31 00:33:30,043 - __main__ - INFO - 🔄 DEBUG: Collection phase, checking for transition...
2025-05-31 00:33:30,043 - __main__ - INFO - ❌ DEBUG: No confirmation or question detected, staying in collection phase
2025-05-31 00:33:30,043 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-31 00:33:30,043 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-31 00:33:31,203 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-31 00:33:31,203 - __main__ - INFO - Chat response generated successfully - Length: 146 chars
2025-05-31 00:33:36,765 - __main__ - INFO - Chat request received - Phase: collection, Language: english
2025-05-31 00:33:36,765 - __main__ - INFO - message_lower: 123456789
2025-05-31 00:33:36,765 - __main__ - INFO - Extracted ID number: 123456789
2025-05-31 00:33:36,765 - __main__ - INFO - Updated user info: first_name="Let's" last_name='start collecting the information' id_number='123456789' gender='זכר' age=None hmo_name=None hmo_card_number=None insurance_tier=None
2025-05-31 00:33:36,765 - __main__ - INFO - 🔄 DEBUG: Collection phase, checking for transition...
2025-05-31 00:33:36,765 - __main__ - INFO - ❌ DEBUG: No confirmation or question detected, staying in collection phase
2025-05-31 00:33:36,765 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-31 00:33:36,765 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-31 00:33:37,790 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-31 00:33:37,792 - __main__ - INFO - Chat response generated successfully - Length: 126 chars
2025-05-31 00:33:41,187 - __main__ - INFO - Chat request received - Phase: collection, Language: english
2025-05-31 00:33:41,189 - __main__ - INFO - message_lower: male
2025-05-31 00:33:41,189 - __main__ - INFO - Updated user info: first_name="Let's" last_name='start collecting the information' id_number='123456789' gender='זכר' age=None hmo_name=None hmo_card_number=None insurance_tier=None
2025-05-31 00:33:41,189 - __main__ - INFO - 🔄 DEBUG: Collection phase, checking for transition...
2025-05-31 00:33:41,189 - __main__ - INFO - ❌ DEBUG: No confirmation or question detected, staying in collection phase
2025-05-31 00:33:41,189 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-31 00:33:41,189 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-31 00:33:41,742 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-31 00:33:41,744 - __main__ - INFO - Chat response generated successfully - Length: 127 chars
2025-05-31 00:33:44,211 - __main__ - INFO - Chat request received - Phase: collection, Language: english
2025-05-31 00:33:44,211 - __main__ - INFO - message_lower: 2
2025-05-31 00:33:44,211 - __main__ - INFO - Extracted age: 2
2025-05-31 00:33:44,211 - __main__ - INFO - Updated user info: first_name="Let's" last_name='start collecting the information' id_number='123456789' gender='זכר' age=2 hmo_name=None hmo_card_number=None insurance_tier=None
2025-05-31 00:33:44,211 - __main__ - INFO - 🔄 DEBUG: Collection phase, checking for transition...
2025-05-31 00:33:44,211 - __main__ - INFO - ❌ DEBUG: No confirmation or question detected, staying in collection phase
2025-05-31 00:33:44,211 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-31 00:33:44,211 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-31 00:33:44,958 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-31 00:33:44,960 - __main__ - INFO - Chat response generated successfully - Length: 140 chars
2025-05-31 00:33:48,511 - __main__ - INFO - Chat request received - Phase: collection, Language: english
2025-05-31 00:33:48,512 - __main__ - INFO - message_lower: clalit
2025-05-31 00:33:48,512 - __main__ - INFO - Extracted HMO: כללית
2025-05-31 00:33:48,512 - __main__ - INFO - Updated user info: first_name="Let's" last_name='start collecting the information' id_number='123456789' gender='זכר' age=2 hmo_name='כללית' hmo_card_number=None insurance_tier=None
2025-05-31 00:33:48,512 - __main__ - INFO - 🔄 DEBUG: Collection phase, checking for transition...
2025-05-31 00:33:48,512 - __main__ - INFO - ❌ DEBUG: No confirmation or question detected, staying in collection phase
2025-05-31 00:33:48,512 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-31 00:33:48,512 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-31 00:33:49,181 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-31 00:33:49,184 - __main__ - INFO - Chat response generated successfully - Length: 152 chars
2025-05-31 00:33:52,397 - __main__ - INFO - Chat request received - Phase: collection, Language: english
2025-05-31 00:33:52,397 - __main__ - INFO - message_lower: 123456789
2025-05-31 00:33:52,398 - __main__ - INFO - Updated user info: first_name="Let's" last_name='start collecting the information' id_number='123456789' gender='זכר' age=2 hmo_name='כללית' hmo_card_number=None insurance_tier=None
2025-05-31 00:33:52,398 - __main__ - INFO - 🔄 DEBUG: Collection phase, checking for transition...
2025-05-31 00:33:52,398 - __main__ - INFO - ❌ DEBUG: No confirmation or question detected, staying in collection phase
2025-05-31 00:33:52,398 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-31 00:33:52,398 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-31 00:33:52,976 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-31 00:33:52,978 - __main__ - INFO - Chat response generated successfully - Length: 157 chars
2025-05-31 00:33:55,083 - __main__ - INFO - Chat request received - Phase: collection, Language: english
2025-05-31 00:33:55,083 - __main__ - INFO - message_lower: gold
2025-05-31 00:33:55,083 - __main__ - INFO - Extracted insurance tier: זהב
2025-05-31 00:33:55,083 - __main__ - INFO - Updated user info: first_name="Let's" last_name='start collecting the information' id_number='123456789' gender='זכר' age=2 hmo_name='כללית' hmo_card_number=None insurance_tier='זהב'
2025-05-31 00:33:55,083 - __main__ - INFO - 🔄 DEBUG: Collection phase, checking for transition...
2025-05-31 00:33:55,083 - __main__ - INFO - ❌ DEBUG: No confirmation or question detected, staying in collection phase
2025-05-31 00:33:55,084 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-31 00:33:55,084 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-31 00:33:56,529 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-31 00:33:56,532 - __main__ - INFO - Chat response generated successfully - Length: 462 chars
2025-05-31 00:44:59,652 - __main__ - INFO - Azure OpenAI client initialized successfully
2025-05-31 00:45:01,161 - __main__ - INFO - health check
2025-05-31 00:45:02,210 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-31 00:45:02,210 - __main__ - INFO - message_lower: בואו נתחיל באיסוף המידע
2025-05-31 00:45:02,210 - __main__ - INFO - Skipping extraction - message appears to be from assistant: בואו נתחיל באיסוף המידע
2025-05-31 00:45:02,210 - __main__ - INFO - Updated user info: first_name=None last_name=None id_number=None gender=None age=None hmo_name=None hmo_card_number=None insurance_tier=None
2025-05-31 00:45:02,210 - __main__ - INFO - 🔄 DEBUG: Collection phase, checking for transition...
2025-05-31 00:45:02,210 - __main__ - INFO - ❌ DEBUG: No confirmation or question detected, staying in collection phase
2025-05-31 00:45:02,210 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-31 00:45:02,210 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-31 00:45:05,085 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-31 00:45:05,091 - __main__ - INFO - Chat response generated successfully - Length: 344 chars
2025-05-31 00:45:07,395 - __main__ - INFO - Chat request received - Phase: collection, Language: english
2025-05-31 00:45:07,395 - __main__ - INFO - message_lower: let's start collecting the information
2025-05-31 00:45:07,395 - __main__ - INFO - Skipping extraction - message appears to be from assistant: Let's start collecting the information
2025-05-31 00:45:07,395 - __main__ - INFO - Updated user info: first_name=None last_name=None id_number=None gender=None age=None hmo_name=None hmo_card_number=None insurance_tier=None
2025-05-31 00:45:07,396 - __main__ - INFO - 🔄 DEBUG: Collection phase, checking for transition...
2025-05-31 00:45:07,396 - __main__ - INFO - ❌ DEBUG: No confirmation or question detected, staying in collection phase
2025-05-31 00:45:07,396 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-31 00:45:07,396 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-31 00:45:08,771 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-31 00:45:08,772 - __main__ - INFO - Chat response generated successfully - Length: 441 chars
2025-05-31 00:45:17,317 - __main__ - INFO - Chat request received - Phase: collection, Language: english
2025-05-31 00:45:17,317 - __main__ - INFO - message_lower: or meiri
2025-05-31 00:45:17,317 - __main__ - INFO - Extracted gender: זכר
2025-05-31 00:45:17,318 - __main__ - INFO - Extracted full name: Or Meiri
2025-05-31 00:45:17,318 - __main__ - INFO - Updated user info: first_name='Or' last_name='Meiri' id_number=None gender='זכר' age=None hmo_name=None hmo_card_number=None insurance_tier=None
2025-05-31 00:45:17,318 - __main__ - INFO - 🔄 DEBUG: Collection phase, checking for transition...
2025-05-31 00:45:17,318 - __main__ - INFO - ❌ DEBUG: No confirmation or question detected, staying in collection phase
2025-05-31 00:45:17,318 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-31 00:45:17,318 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-31 00:45:18,395 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-31 00:45:18,398 - __main__ - INFO - Chat response generated successfully - Length: 167 chars
2025-05-31 00:45:23,711 - __main__ - INFO - Chat request received - Phase: collection, Language: english
2025-05-31 00:45:23,711 - __main__ - INFO - message_lower: 123456789
2025-05-31 00:45:23,711 - __main__ - INFO - Extracted ID number: 123456789
2025-05-31 00:45:23,711 - __main__ - INFO - Updated user info: first_name='Or' last_name='Meiri' id_number='123456789' gender='זכר' age=None hmo_name=None hmo_card_number=None insurance_tier=None
2025-05-31 00:45:23,711 - __main__ - INFO - 🔄 DEBUG: Collection phase, checking for transition...
2025-05-31 00:45:23,711 - __main__ - INFO - ❌ DEBUG: No confirmation or question detected, staying in collection phase
2025-05-31 00:45:23,711 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-31 00:45:23,711 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-31 00:45:24,745 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-31 00:45:24,745 - __main__ - INFO - Chat response generated successfully - Length: 139 chars
2025-05-31 00:45:27,258 - __main__ - INFO - Chat request received - Phase: collection, Language: english
2025-05-31 00:45:27,258 - __main__ - INFO - message_lower: male
2025-05-31 00:45:27,259 - __main__ - INFO - Updated user info: first_name='Or' last_name='Meiri' id_number='123456789' gender='זכר' age=None hmo_name=None hmo_card_number=None insurance_tier=None
2025-05-31 00:45:27,259 - __main__ - INFO - 🔄 DEBUG: Collection phase, checking for transition...
2025-05-31 00:45:27,259 - __main__ - INFO - ❌ DEBUG: No confirmation or question detected, staying in collection phase
2025-05-31 00:45:27,259 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-31 00:45:27,259 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-31 00:45:27,963 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-31 00:45:27,965 - __main__ - INFO - Chat response generated successfully - Length: 126 chars
2025-05-31 00:45:30,394 - __main__ - INFO - Chat request received - Phase: collection, Language: english
2025-05-31 00:45:30,394 - __main__ - INFO - message_lower: 2
2025-05-31 00:45:30,395 - __main__ - INFO - Extracted age: 2
2025-05-31 00:45:30,395 - __main__ - INFO - Updated user info: first_name='Or' last_name='Meiri' id_number='123456789' gender='זכר' age=2 hmo_name=None hmo_card_number=None insurance_tier=None
2025-05-31 00:45:30,395 - __main__ - INFO - 🔄 DEBUG: Collection phase, checking for transition...
2025-05-31 00:45:30,395 - __main__ - INFO - ❌ DEBUG: No confirmation or question detected, staying in collection phase
2025-05-31 00:45:30,395 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-31 00:45:30,395 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-31 00:45:31,093 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-31 00:45:31,095 - __main__ - INFO - Chat response generated successfully - Length: 189 chars
2025-05-31 00:45:38,182 - __main__ - INFO - Chat request received - Phase: collection, Language: english
2025-05-31 00:45:38,182 - __main__ - INFO - message_lower: maccabi
2025-05-31 00:45:38,182 - __main__ - INFO - Extracted HMO: מכבי
2025-05-31 00:45:38,182 - __main__ - INFO - Updated user info: first_name='Or' last_name='Meiri' id_number='123456789' gender='זכר' age=2 hmo_name='מכבי' hmo_card_number=None insurance_tier=None
2025-05-31 00:45:38,182 - __main__ - INFO - 🔄 DEBUG: Collection phase, checking for transition...
2025-05-31 00:45:38,182 - __main__ - INFO - ❌ DEBUG: No confirmation or question detected, staying in collection phase
2025-05-31 00:45:38,182 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-31 00:45:38,182 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-31 00:45:39,286 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-31 00:45:39,287 - __main__ - INFO - Chat response generated successfully - Length: 147 chars
2025-05-31 00:45:42,895 - __main__ - INFO - Chat request received - Phase: collection, Language: english
2025-05-31 00:45:42,895 - __main__ - INFO - message_lower: 123456789
2025-05-31 00:45:42,895 - __main__ - INFO - Updated user info: first_name='Or' last_name='Meiri' id_number='123456789' gender='זכר' age=2 hmo_name='מכבי' hmo_card_number=None insurance_tier=None
2025-05-31 00:45:42,896 - __main__ - INFO - 🔄 DEBUG: Collection phase, checking for transition...
2025-05-31 00:45:42,896 - __main__ - INFO - ❌ DEBUG: No confirmation or question detected, staying in collection phase
2025-05-31 00:45:42,896 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-31 00:45:42,896 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-31 00:45:43,526 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-31 00:45:43,527 - __main__ - INFO - Chat response generated successfully - Length: 157 chars
2025-05-31 00:45:46,586 - __main__ - INFO - Chat request received - Phase: collection, Language: english
2025-05-31 00:45:46,586 - __main__ - INFO - message_lower: gold
2025-05-31 00:45:46,586 - __main__ - INFO - Extracted insurance tier: זהב
2025-05-31 00:45:46,586 - __main__ - INFO - Updated user info: first_name='Or' last_name='Meiri' id_number='123456789' gender='זכר' age=2 hmo_name='מכבי' hmo_card_number=None insurance_tier='זהב'
2025-05-31 00:45:46,586 - __main__ - INFO - 🔄 DEBUG: Collection phase, checking for transition...
2025-05-31 00:45:46,587 - __main__ - INFO - ❌ DEBUG: No confirmation or question detected, staying in collection phase
2025-05-31 00:45:46,587 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-31 00:45:46,587 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-31 00:45:47,908 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-31 00:45:47,910 - __main__ - INFO - Chat response generated successfully - Length: 387 chars
2025-05-31 00:45:56,567 - __main__ - INFO - Chat request received - Phase: collection, Language: english
2025-05-31 00:45:56,567 - __main__ - INFO - message_lower: yes
2025-05-31 00:45:56,567 - __main__ - INFO - Updated user info: first_name='Or' last_name='Meiri' id_number='123456789' gender='זכר' age=2 hmo_name='מכבי' hmo_card_number=None insurance_tier='זהב'
2025-05-31 00:45:56,567 - __main__ - INFO - 🔄 DEBUG: Collection phase, checking for transition...
2025-05-31 00:45:56,567 - __main__ - INFO - 🎉 DEBUG: Transitioning to QA phase!
2025-05-31 00:46:26,924 - __main__ - INFO - Chat request received - Phase: qa, Language: english
2025-05-31 00:46:26,925 - __main__ - INFO - Updated user info: first_name='Or' last_name='Meiri' id_number='123456789' gender='זכר' age=2 hmo_name='מכבי' hmo_card_number=None insurance_tier='זהב'
2025-05-31 00:46:26,925 - __main__ - INFO - 🤔 Hypothetical context detected: {'hmo': None, 'hmos': ['מכבי', 'כללית'], 'tier': None, 'tiers': [], 'is_comparison': True, 'multiple_hmos': True, 'multiple_tiers': False, 'is_followup_hypothetical': False}
2025-05-31 00:46:26,925 - __main__ - INFO - 📋 Identified relevant services: []
2025-05-31 00:46:26,925 - __main__ - INFO - 🔍 Starting get_comprehensive_knowledge_context
2025-05-31 00:46:26,925 - __main__ - INFO - 👤 User info: HMO=מכבי, Tier=זהב
2025-05-31 00:46:26,925 - __main__ - INFO - 🤔 Hypothetical context: {'hmo': None, 'hmos': ['מכבי', 'כללית'], 'tier': None, 'tiers': [], 'is_comparison': True, 'multiple_hmos': True, 'multiple_tiers': False, 'is_followup_hypothetical': False}
2025-05-31 00:46:26,925 - __main__ - INFO - 🌐 Hypothetical/general context detected - loading ALL knowledge base
2025-05-31 00:46:26,925 - __main__ - INFO - 📋 Using ALL services: ['dental', 'optometry', 'pregnancy', 'alternative', 'communication_clinic', 'workshops']
2025-05-31 00:46:26,925 - __main__ - INFO - 🎯 Final relevant services: ['dental', 'optometry', 'pregnancy', 'alternative', 'communication_clinic', 'workshops']
2025-05-31 00:46:26,925 - __main__ - INFO - 📚 Available services in knowledge base: ['dental', 'optometry', 'pregnancy', 'alternative', 'communication_clinic', 'workshops']
2025-05-31 00:46:26,925 - __main__ - INFO - 🔄 Processing service: dental
2025-05-31 00:46:26,926 - __main__ - INFO - ✅ Found dental in knowledge base
2025-05-31 00:46:26,926 - __main__ - INFO - 🔄 Including all HMOs for comparison
2025-05-31 00:46:26,926 - __main__ - INFO - 🔄 Including all tiers for comparison
2025-05-31 00:46:26,926 - __main__ - INFO - 📊 Final targets - HMOs: ['מכבי', 'מאוחדת', 'כללית'], Tiers: ['זהב', 'כסף', 'ארד']
2025-05-31 00:46:26,926 - __main__ - INFO - 📋 Processing 6 services
2025-05-31 00:46:26,926 - __main__ - INFO - 🔄 Processing service: optometry
2025-05-31 00:46:26,926 - __main__ - INFO - ✅ Found optometry in knowledge base
2025-05-31 00:46:26,926 - __main__ - INFO - 🔄 Including all HMOs for comparison
2025-05-31 00:46:26,926 - __main__ - INFO - 🔄 Including all tiers for comparison
2025-05-31 00:46:26,926 - __main__ - INFO - 📊 Final targets - HMOs: ['מכבי', 'מאוחדת', 'כללית'], Tiers: ['זהב', 'כסף', 'ארד']
2025-05-31 00:46:26,926 - __main__ - INFO - 📋 Processing 6 services
2025-05-31 00:46:26,926 - __main__ - INFO - 🔄 Processing service: pregnancy
2025-05-31 00:46:26,926 - __main__ - INFO - ✅ Found pregnancy in knowledge base
2025-05-31 00:46:26,926 - __main__ - INFO - 🔄 Including all HMOs for comparison
2025-05-31 00:46:26,926 - __main__ - INFO - 🔄 Including all tiers for comparison
2025-05-31 00:46:26,926 - __main__ - INFO - 📊 Final targets - HMOs: ['מכבי', 'מאוחדת', 'כללית'], Tiers: ['זהב', 'כסף', 'ארד']
2025-05-31 00:46:26,926 - __main__ - INFO - 📋 Processing 6 services
2025-05-31 00:46:26,926 - __main__ - INFO - 🔄 Processing service: alternative
2025-05-31 00:46:26,926 - __main__ - INFO - ✅ Found alternative in knowledge base
2025-05-31 00:46:26,926 - __main__ - INFO - 🔄 Including all HMOs for comparison
2025-05-31 00:46:26,926 - __main__ - INFO - 🔄 Including all tiers for comparison
2025-05-31 00:46:26,926 - __main__ - INFO - 📊 Final targets - HMOs: ['מכבי', 'מאוחדת', 'כללית'], Tiers: ['זהב', 'כסף', 'ארד']
2025-05-31 00:46:26,926 - __main__ - INFO - 📋 Processing 6 services
2025-05-31 00:46:26,926 - __main__ - INFO - 🔄 Processing service: communication_clinic
2025-05-31 00:46:26,926 - __main__ - INFO - ✅ Found communication_clinic in knowledge base
2025-05-31 00:46:26,926 - __main__ - INFO - 🔄 Including all HMOs for comparison
2025-05-31 00:46:26,926 - __main__ - INFO - 🔄 Including all tiers for comparison
2025-05-31 00:46:26,927 - __main__ - INFO - 📊 Final targets - HMOs: ['מכבי', 'מאוחדת', 'כללית'], Tiers: ['זהב', 'כסף', 'ארד']
2025-05-31 00:46:26,927 - __main__ - INFO - 📋 Processing 6 services
2025-05-31 00:46:26,927 - __main__ - INFO - 🔄 Processing service: workshops
2025-05-31 00:46:26,927 - __main__ - INFO - ✅ Found workshops in knowledge base
2025-05-31 00:46:26,927 - __main__ - INFO - 🔄 Including all HMOs for comparison
2025-05-31 00:46:26,927 - __main__ - INFO - 🔄 Including all tiers for comparison
2025-05-31 00:46:26,927 - __main__ - INFO - 📊 Final targets - HMOs: ['מכבי', 'מאוחדת', 'כללית'], Tiers: ['זהב', 'כסף', 'ארד']
2025-05-31 00:46:26,927 - __main__ - INFO - 📋 Processing 6 services
2025-05-31 00:46:26,927 - __main__ - INFO - 📝 Final comprehensive context length: 13999 chars
2025-05-31 00:46:26,927 - __main__ - INFO - 📄 First 300 chars of context:
2025-05-31 00:46:26,927 - __main__ - INFO - 

=== מרפאות שיניים ===
תיאור: מרפאות שיניים מציעות מגוון רחב של שירותי בריאות הפה, כולל בדיקות שגרתיות, ניקויים, סתימות, טיפולי שורש, עקירות, והליכים קוסמטיים. מרפאות אלו מאוישות על ידי רופאי שיניים מורשים ושינניות המשתמשים בציוד מודרני כדי להבטיח טיפול איכותי לפציינטים מכל הגילאים.

** בדיקות וניק
2025-05-31 00:46:26,927 - __main__ - INFO - ==================================================
2025-05-31 00:46:26,927 - __main__ - INFO - 📝 Knowledge context length: 13999
2025-05-31 00:46:26,927 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-31 00:46:26,927 - __main__ - INFO - Knowledge context length: 13999 chars
2025-05-31 00:46:44,311 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-31 00:46:44,314 - __main__ - INFO - Chat response generated successfully - Length: 4474 chars
2025-05-31 00:47:05,237 - __main__ - INFO - Chat request received - Phase: qa, Language: english
2025-05-31 00:47:05,238 - __main__ - INFO - Updated user info: first_name='Or' last_name='Meiri' id_number='123456789' gender='זכר' age=2 hmo_name='מכבי' hmo_card_number=None insurance_tier='זהב'
2025-05-31 00:47:05,238 - __main__ - INFO - 🤔 Hypothetical context detected: {'hmo': 'מכבי', 'hmos': ['מכבי'], 'tier': 'זהב', 'tiers': ['זהב'], 'is_comparison': False, 'multiple_hmos': False, 'multiple_tiers': False, 'is_followup_hypothetical': False}
2025-05-31 00:47:05,238 - __main__ - INFO - 📋 Identified relevant services: ['dental']
2025-05-31 00:47:05,238 - __main__ - INFO - 🔍 Starting get_comprehensive_knowledge_context
2025-05-31 00:47:05,238 - __main__ - INFO - 👤 User info: HMO=מכבי, Tier=זהב
2025-05-31 00:47:05,238 - __main__ - INFO - 🤔 Hypothetical context: {'hmo': 'מכבי', 'hmos': ['מכבי'], 'tier': 'זהב', 'tiers': ['זהב'], 'is_comparison': False, 'multiple_hmos': False, 'multiple_tiers': False, 'is_followup_hypothetical': False}
2025-05-31 00:47:05,238 - __main__ - INFO - 🌐 Hypothetical/general context detected - loading ALL knowledge base
2025-05-31 00:47:05,238 - __main__ - INFO - 📋 Using ALL services: ['dental', 'optometry', 'pregnancy', 'alternative', 'communication_clinic', 'workshops']
2025-05-31 00:47:05,239 - __main__ - INFO - 🎯 Final relevant services: ['dental', 'optometry', 'pregnancy', 'alternative', 'communication_clinic', 'workshops']
2025-05-31 00:47:05,239 - __main__ - INFO - 📚 Available services in knowledge base: ['dental', 'optometry', 'pregnancy', 'alternative', 'communication_clinic', 'workshops']
2025-05-31 00:47:05,239 - __main__ - INFO - 🔄 Processing service: dental
2025-05-31 00:47:05,239 - __main__ - INFO - ✅ Found dental in knowledge base
2025-05-31 00:47:05,239 - __main__ - INFO - 🎯 Including specific HMO: מכבי
2025-05-31 00:47:05,239 - __main__ - INFO - 🎯 Including specific tier: זהב
2025-05-31 00:47:05,239 - __main__ - INFO - 📊 Final targets - HMOs: ['מכבי'], Tiers: ['זהב']
2025-05-31 00:47:05,239 - __main__ - INFO - 📋 Processing 6 services
2025-05-31 00:47:05,239 - __main__ - INFO - 🔄 Processing service: optometry
2025-05-31 00:47:05,239 - __main__ - INFO - ✅ Found optometry in knowledge base
2025-05-31 00:47:05,239 - __main__ - INFO - 🎯 Including specific HMO: מכבי
2025-05-31 00:47:05,239 - __main__ - INFO - 🎯 Including specific tier: זהב
2025-05-31 00:47:05,239 - __main__ - INFO - 📊 Final targets - HMOs: ['מכבי'], Tiers: ['זהב']
2025-05-31 00:47:05,239 - __main__ - INFO - 📋 Processing 6 services
2025-05-31 00:47:05,239 - __main__ - INFO - 🔄 Processing service: pregnancy
2025-05-31 00:47:05,239 - __main__ - INFO - ✅ Found pregnancy in knowledge base
2025-05-31 00:47:05,239 - __main__ - INFO - 🎯 Including specific HMO: מכבי
2025-05-31 00:47:05,239 - __main__ - INFO - 🎯 Including specific tier: זהב
2025-05-31 00:47:05,239 - __main__ - INFO - 📊 Final targets - HMOs: ['מכבי'], Tiers: ['זהב']
2025-05-31 00:47:05,239 - __main__ - INFO - 📋 Processing 6 services
2025-05-31 00:47:05,239 - __main__ - INFO - 🔄 Processing service: alternative
2025-05-31 00:47:05,239 - __main__ - INFO - ✅ Found alternative in knowledge base
2025-05-31 00:47:05,239 - __main__ - INFO - 🎯 Including specific HMO: מכבי
2025-05-31 00:47:05,239 - __main__ - INFO - 🎯 Including specific tier: זהב
2025-05-31 00:47:05,239 - __main__ - INFO - 📊 Final targets - HMOs: ['מכבי'], Tiers: ['זהב']
2025-05-31 00:47:05,239 - __main__ - INFO - 📋 Processing 6 services
2025-05-31 00:47:05,239 - __main__ - INFO - 🔄 Processing service: communication_clinic
2025-05-31 00:47:05,239 - __main__ - INFO - ✅ Found communication_clinic in knowledge base
2025-05-31 00:47:05,239 - __main__ - INFO - 🎯 Including specific HMO: מכבי
2025-05-31 00:47:05,239 - __main__ - INFO - 🎯 Including specific tier: זהב
2025-05-31 00:47:05,239 - __main__ - INFO - 📊 Final targets - HMOs: ['מכבי'], Tiers: ['זהב']
2025-05-31 00:47:05,239 - __main__ - INFO - 📋 Processing 6 services
2025-05-31 00:47:05,240 - __main__ - INFO - 🔄 Processing service: workshops
2025-05-31 00:47:05,240 - __main__ - INFO - ✅ Found workshops in knowledge base
2025-05-31 00:47:05,240 - __main__ - INFO - 🎯 Including specific HMO: מכבי
2025-05-31 00:47:05,240 - __main__ - INFO - 🎯 Including specific tier: זהב
2025-05-31 00:47:05,240 - __main__ - INFO - 📊 Final targets - HMOs: ['מכבי'], Tiers: ['זהב']
2025-05-31 00:47:05,240 - __main__ - INFO - 📋 Processing 6 services
2025-05-31 00:47:05,240 - __main__ - INFO - 📝 Final comprehensive context length: 4255 chars
2025-05-31 00:47:05,240 - __main__ - INFO - 📄 First 300 chars of context:
2025-05-31 00:47:05,240 - __main__ - INFO - 

=== מרפאות שיניים ===
תיאור: מרפאות שיניים מציעות מגוון רחב של שירותי בריאות הפה, כולל בדיקות שגרתיות, ניקויים, סתימות, טיפולי שורש, עקירות, והליכים קוסמטיים. מרפאות אלו מאוישות על ידי רופאי שיניים מורשים ושינניות המשתמשים בציוד מודרני כדי להבטיח טיפול איכותי לפציינטים מכל הגילאים.

** בדיקות וניק
2025-05-31 00:47:05,240 - __main__ - INFO - ==================================================
2025-05-31 00:47:05,240 - __main__ - INFO - 📝 Knowledge context length: 4255
2025-05-31 00:47:05,240 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-31 00:47:05,240 - __main__ - INFO - Knowledge context length: 4255 chars
2025-05-31 00:47:09,519 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-31 00:47:09,521 - __main__ - INFO - Chat response generated successfully - Length: 534 chars
2025-05-31 00:47:14,864 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-31 00:47:14,864 - __main__ - INFO - message_lower: בואו נתחיל באיסוף המידע
2025-05-31 00:47:14,864 - __main__ - INFO - Skipping extraction - message appears to be from assistant: בואו נתחיל באיסוף המידע
2025-05-31 00:47:14,864 - __main__ - INFO - Updated user info: first_name=None last_name=None id_number=None gender=None age=None hmo_name=None hmo_card_number=None insurance_tier=None
2025-05-31 00:47:14,864 - __main__ - INFO - 🔄 DEBUG: Collection phase, checking for transition...
2025-05-31 00:47:14,865 - __main__ - INFO - ❌ DEBUG: No confirmation or question detected, staying in collection phase
2025-05-31 00:47:14,865 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-31 00:47:14,865 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-31 00:47:17,387 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-31 00:47:17,388 - __main__ - INFO - Chat response generated successfully - Length: 432 chars
2025-05-31 00:47:22,084 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-31 00:47:22,084 - __main__ - INFO - message_lower: אור מאירי
2025-05-31 00:47:22,084 - __main__ - INFO - Extracted full name: אור מאירי
2025-05-31 00:47:22,084 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number=None gender=None age=None hmo_name=None hmo_card_number=None insurance_tier=None
2025-05-31 00:47:22,085 - __main__ - INFO - 🔄 DEBUG: Collection phase, checking for transition...
2025-05-31 00:47:22,085 - __main__ - INFO - ❌ DEBUG: No confirmation or question detected, staying in collection phase
2025-05-31 00:47:22,085 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-31 00:47:22,085 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-31 00:47:22,865 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-31 00:47:22,867 - __main__ - INFO - Chat response generated successfully - Length: 126 chars
2025-05-31 00:47:26,339 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-31 00:47:26,339 - __main__ - INFO - message_lower: 123456789
2025-05-31 00:47:26,340 - __main__ - INFO - Extracted ID number: 123456789
2025-05-31 00:47:26,340 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number='123456789' gender=None age=None hmo_name=None hmo_card_number=None insurance_tier=None
2025-05-31 00:47:26,340 - __main__ - INFO - 🔄 DEBUG: Collection phase, checking for transition...
2025-05-31 00:47:26,340 - __main__ - INFO - ❌ DEBUG: No confirmation or question detected, staying in collection phase
2025-05-31 00:47:26,340 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-31 00:47:26,340 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-31 00:47:26,932 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-31 00:47:26,934 - __main__ - INFO - Chat response generated successfully - Length: 87 chars
2025-05-31 00:47:29,595 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-31 00:47:29,596 - __main__ - INFO - message_lower: זכר
2025-05-31 00:47:29,596 - __main__ - INFO - Extracted gender: זכר
2025-05-31 00:47:29,596 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number='123456789' gender='זכר' age=None hmo_name=None hmo_card_number=None insurance_tier=None
2025-05-31 00:47:29,596 - __main__ - INFO - 🔄 DEBUG: Collection phase, checking for transition...
2025-05-31 00:47:29,596 - __main__ - INFO - ❌ DEBUG: No confirmation or question detected, staying in collection phase
2025-05-31 00:47:29,596 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-31 00:47:29,596 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-31 00:47:30,283 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-31 00:47:30,285 - __main__ - INFO - Chat response generated successfully - Length: 72 chars
2025-05-31 00:47:32,212 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-31 00:47:32,212 - __main__ - INFO - message_lower: 2
2025-05-31 00:47:32,212 - __main__ - INFO - Extracted age: 2
2025-05-31 00:47:32,212 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number='123456789' gender='זכר' age=2 hmo_name=None hmo_card_number=None insurance_tier=None
2025-05-31 00:47:32,212 - __main__ - INFO - 🔄 DEBUG: Collection phase, checking for transition...
2025-05-31 00:47:32,213 - __main__ - INFO - ❌ DEBUG: No confirmation or question detected, staying in collection phase
2025-05-31 00:47:32,213 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-31 00:47:32,213 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-31 00:47:32,885 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-31 00:47:32,887 - __main__ - INFO - Chat response generated successfully - Length: 107 chars
2025-05-31 00:47:40,147 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-31 00:47:40,147 - __main__ - INFO - message_lower: מאוחדת
2025-05-31 00:47:40,147 - __main__ - INFO - Extracted HMO: מאוחדת
2025-05-31 00:47:40,148 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number='123456789' gender='זכר' age=2 hmo_name='מאוחדת' hmo_card_number=None insurance_tier=None
2025-05-31 00:47:40,148 - __main__ - INFO - 🔄 DEBUG: Collection phase, checking for transition...
2025-05-31 00:47:40,148 - __main__ - INFO - ❌ DEBUG: No confirmation or question detected, staying in collection phase
2025-05-31 00:47:40,148 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-31 00:47:40,148 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-31 00:47:41,245 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-31 00:47:41,247 - __main__ - INFO - Chat response generated successfully - Length: 112 chars
2025-05-31 00:47:43,358 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-31 00:47:43,358 - __main__ - INFO - message_lower: 123456789
2025-05-31 00:47:43,359 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number='123456789' gender='זכר' age=2 hmo_name='מאוחדת' hmo_card_number=None insurance_tier=None
2025-05-31 00:47:43,359 - __main__ - INFO - 🔄 DEBUG: Collection phase, checking for transition...
2025-05-31 00:47:43,359 - __main__ - INFO - ❌ DEBUG: No confirmation or question detected, staying in collection phase
2025-05-31 00:47:43,359 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-31 00:47:43,359 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-31 00:47:44,113 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-31 00:47:44,115 - __main__ - INFO - Chat response generated successfully - Length: 90 chars
2025-05-31 00:47:45,788 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-31 00:47:45,789 - __main__ - INFO - message_lower: כסף
2025-05-31 00:47:45,789 - __main__ - INFO - Extracted insurance tier: כסף
2025-05-31 00:47:45,789 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number='123456789' gender='זכר' age=2 hmo_name='מאוחדת' hmo_card_number=None insurance_tier='כסף'
2025-05-31 00:47:45,789 - __main__ - INFO - 🔄 DEBUG: Collection phase, checking for transition...
2025-05-31 00:47:45,789 - __main__ - INFO - ❌ DEBUG: No confirmation or question detected, staying in collection phase
2025-05-31 00:47:45,789 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-31 00:47:45,789 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-31 00:47:47,184 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-31 00:47:47,186 - __main__ - INFO - Chat response generated successfully - Length: 249 chars
2025-05-31 00:47:54,622 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-31 00:47:54,622 - __main__ - INFO - message_lower: המידע נכון
2025-05-31 00:47:54,622 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number='123456789' gender='זכר' age=2 hmo_name='מאוחדת' hmo_card_number=None insurance_tier='כסף'
2025-05-31 00:47:54,622 - __main__ - INFO - 🔄 DEBUG: Collection phase, checking for transition...
2025-05-31 00:47:54,622 - __main__ - INFO - 🎉 DEBUG: Transitioning to QA phase!
2025-05-31 00:49:23,585 - __main__ - INFO - Azure OpenAI client initialized successfully
2025-05-31 00:49:25,096 - __main__ - INFO - health check
2025-05-31 00:49:26,139 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-31 00:49:26,139 - __main__ - INFO - message_lower: בואו נתחיל באיסוף המידע
2025-05-31 00:49:26,139 - __main__ - INFO - Skipping extraction - message appears to be from assistant: בואו נתחיל באיסוף המידע
2025-05-31 00:49:26,139 - __main__ - INFO - Updated user info: first_name=None last_name=None id_number=None gender=None age=None hmo_name=None hmo_card_number=None insurance_tier=None
2025-05-31 00:49:26,139 - __main__ - INFO - 🔄 DEBUG: Collection phase, checking for transition...
2025-05-31 00:49:26,139 - __main__ - INFO - ❌ DEBUG: No confirmation or question detected, staying in collection phase
2025-05-31 00:49:26,140 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-31 00:49:26,140 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-31 00:49:28,689 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-31 00:49:28,695 - __main__ - INFO - Chat response generated successfully - Length: 441 chars
2025-05-31 00:49:33,649 - __main__ - INFO - Chat request received - Phase: collection, Language: english
2025-05-31 00:49:33,650 - __main__ - INFO - message_lower: let's start collecting the information
2025-05-31 00:49:33,650 - __main__ - INFO - Skipping extraction - message appears to be from assistant: Let's start collecting the information
2025-05-31 00:49:33,650 - __main__ - INFO - Updated user info: first_name=None last_name=None id_number=None gender=None age=None hmo_name=None hmo_card_number=None insurance_tier=None
2025-05-31 00:49:33,650 - __main__ - INFO - 🔄 DEBUG: Collection phase, checking for transition...
2025-05-31 00:49:33,650 - __main__ - INFO - ❌ DEBUG: No confirmation or question detected, staying in collection phase
2025-05-31 00:49:33,650 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-31 00:49:33,650 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-31 00:49:35,429 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-31 00:49:35,430 - __main__ - INFO - Chat response generated successfully - Length: 428 chars
2025-05-31 00:49:42,421 - __main__ - INFO - Chat request received - Phase: collection, Language: english
2025-05-31 00:49:42,421 - __main__ - INFO - message_lower: or
2025-05-31 00:49:42,422 - __main__ - INFO - Extracted first name: Or
2025-05-31 00:49:42,422 - __main__ - INFO - Updated user info: first_name='Or' last_name=None id_number=None gender=None age=None hmo_name=None hmo_card_number=None insurance_tier=None
2025-05-31 00:49:42,422 - __main__ - INFO - 🔄 DEBUG: Collection phase, checking for transition...
2025-05-31 00:49:42,422 - __main__ - INFO - ❌ DEBUG: No confirmation or question detected, staying in collection phase
2025-05-31 00:49:42,422 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-31 00:49:42,422 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-31 00:49:43,512 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-31 00:49:43,514 - __main__ - INFO - Chat response generated successfully - Length: 85 chars
2025-05-31 00:49:49,088 - __main__ - INFO - Chat request received - Phase: collection, Language: english
2025-05-31 00:49:49,088 - __main__ - INFO - message_lower: meiri
2025-05-31 00:49:49,089 - __main__ - INFO - Extracted gender: זכר
2025-05-31 00:49:49,089 - __main__ - INFO - Extracted last name: Meiri
2025-05-31 00:49:49,089 - __main__ - INFO - Updated user info: first_name='Or' last_name='Meiri' id_number=None gender='זכר' age=None hmo_name=None hmo_card_number=None insurance_tier=None
2025-05-31 00:49:49,089 - __main__ - INFO - 🔄 DEBUG: Collection phase, checking for transition...
2025-05-31 00:49:49,089 - __main__ - INFO - ❌ DEBUG: No confirmation or question detected, staying in collection phase
2025-05-31 00:49:49,089 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-31 00:49:49,089 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-31 00:49:50,168 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-31 00:49:50,169 - __main__ - INFO - Chat response generated successfully - Length: 146 chars
2025-05-31 00:49:56,229 - __main__ - INFO - Chat request received - Phase: collection, Language: english
2025-05-31 00:49:56,229 - __main__ - INFO - message_lower: 123456789
2025-05-31 00:49:56,229 - __main__ - INFO - Extracted ID number: 123456789
2025-05-31 00:49:56,229 - __main__ - INFO - Updated user info: first_name='Or' last_name='Meiri' id_number='123456789' gender='זכר' age=None hmo_name=None hmo_card_number=None insurance_tier=None
2025-05-31 00:49:56,229 - __main__ - INFO - 🔄 DEBUG: Collection phase, checking for transition...
2025-05-31 00:49:56,229 - __main__ - INFO - ❌ DEBUG: No confirmation or question detected, staying in collection phase
2025-05-31 00:49:56,229 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-31 00:49:56,229 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-31 00:49:57,335 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-31 00:49:57,335 - __main__ - INFO - Chat response generated successfully - Length: 139 chars
2025-05-31 00:50:01,002 - __main__ - INFO - Chat request received - Phase: collection, Language: english
2025-05-31 00:50:01,002 - __main__ - INFO - message_lower: nale
2025-05-31 00:50:01,002 - __main__ - INFO - Updated user info: first_name='Or' last_name='Meiri' id_number='123456789' gender='זכר' age=None hmo_name=None hmo_card_number=None insurance_tier=None
2025-05-31 00:50:01,002 - __main__ - INFO - 🔄 DEBUG: Collection phase, checking for transition...
2025-05-31 00:50:01,002 - __main__ - INFO - ❌ DEBUG: No confirmation or question detected, staying in collection phase
2025-05-31 00:50:01,002 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-31 00:50:01,002 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-31 00:50:01,507 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-31 00:50:01,507 - __main__ - INFO - Chat response generated successfully - Length: 126 chars
2025-05-31 00:50:04,749 - __main__ - INFO - Chat request received - Phase: collection, Language: english
2025-05-31 00:50:04,749 - __main__ - INFO - message_lower: male
2025-05-31 00:50:04,749 - __main__ - INFO - Updated user info: first_name='Or' last_name='Meiri' id_number='123456789' gender='זכר' age=None hmo_name=None hmo_card_number=None insurance_tier=None
2025-05-31 00:50:04,749 - __main__ - INFO - 🔄 DEBUG: Collection phase, checking for transition...
2025-05-31 00:50:04,749 - __main__ - INFO - ❌ DEBUG: No confirmation or question detected, staying in collection phase
2025-05-31 00:50:04,749 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-31 00:50:04,749 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-31 00:50:05,310 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-31 00:50:05,312 - __main__ - INFO - Chat response generated successfully - Length: 117 chars
2025-05-31 00:50:07,373 - __main__ - INFO - Chat request received - Phase: collection, Language: english
2025-05-31 00:50:07,373 - __main__ - INFO - message_lower: 2
2025-05-31 00:50:07,373 - __main__ - INFO - Extracted age: 2
2025-05-31 00:50:07,373 - __main__ - INFO - Updated user info: first_name='Or' last_name='Meiri' id_number='123456789' gender='זכר' age=2 hmo_name=None hmo_card_number=None insurance_tier=None
2025-05-31 00:50:07,373 - __main__ - INFO - 🔄 DEBUG: Collection phase, checking for transition...
2025-05-31 00:50:07,373 - __main__ - INFO - ❌ DEBUG: No confirmation or question detected, staying in collection phase
2025-05-31 00:50:07,373 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-31 00:50:07,373 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-31 00:50:08,190 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-31 00:50:08,191 - __main__ - INFO - Chat response generated successfully - Length: 132 chars
2025-05-31 00:50:12,045 - __main__ - INFO - Chat request received - Phase: collection, Language: english
2025-05-31 00:50:12,045 - __main__ - INFO - message_lower: clalit
2025-05-31 00:50:12,045 - __main__ - INFO - Extracted HMO: כללית
2025-05-31 00:50:12,045 - __main__ - INFO - Updated user info: first_name='Or' last_name='Meiri' id_number='123456789' gender='זכר' age=2 hmo_name='כללית' hmo_card_number=None insurance_tier=None
2025-05-31 00:50:12,045 - __main__ - INFO - 🔄 DEBUG: Collection phase, checking for transition...
2025-05-31 00:50:12,045 - __main__ - INFO - ❌ DEBUG: No confirmation or question detected, staying in collection phase
2025-05-31 00:50:12,045 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-31 00:50:12,045 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-31 00:50:12,692 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-31 00:50:12,693 - __main__ - INFO - Chat response generated successfully - Length: 151 chars
2025-05-31 00:50:15,374 - __main__ - INFO - Chat request received - Phase: collection, Language: english
2025-05-31 00:50:15,374 - __main__ - INFO - message_lower: 123456789
2025-05-31 00:50:15,374 - __main__ - INFO - Updated user info: first_name='Or' last_name='Meiri' id_number='123456789' gender='זכר' age=2 hmo_name='כללית' hmo_card_number=None insurance_tier=None
2025-05-31 00:50:15,374 - __main__ - INFO - 🔄 DEBUG: Collection phase, checking for transition...
2025-05-31 00:50:15,374 - __main__ - INFO - ❌ DEBUG: No confirmation or question detected, staying in collection phase
2025-05-31 00:50:15,375 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-31 00:50:15,375 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-31 00:50:16,014 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-31 00:50:16,016 - __main__ - INFO - Chat response generated successfully - Length: 157 chars
2025-05-31 00:50:18,974 - __main__ - INFO - Chat request received - Phase: collection, Language: english
2025-05-31 00:50:18,974 - __main__ - INFO - message_lower: gold
2025-05-31 00:50:18,974 - __main__ - INFO - Extracted insurance tier: זהב
2025-05-31 00:50:18,974 - __main__ - INFO - Updated user info: first_name='Or' last_name='Meiri' id_number='123456789' gender='זכר' age=2 hmo_name='כללית' hmo_card_number=None insurance_tier='זהב'
2025-05-31 00:50:18,974 - __main__ - INFO - 🔄 DEBUG: Collection phase, checking for transition...
2025-05-31 00:50:18,974 - __main__ - INFO - ❌ DEBUG: No confirmation or question detected, staying in collection phase
2025-05-31 00:50:18,974 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-31 00:50:18,974 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-31 00:50:20,603 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-31 00:50:20,605 - __main__ - INFO - Chat response generated successfully - Length: 389 chars
2025-05-31 00:50:46,768 - __main__ - INFO - Chat request received - Phase: collection, Language: english
2025-05-31 00:50:46,769 - __main__ - INFO - message_lower: what can i get in the alternative services?
2025-05-31 00:50:46,769 - __main__ - INFO - Updated user info: first_name='Or' last_name='Meiri' id_number='123456789' gender='זכר' age=2 hmo_name='כללית' hmo_card_number=None insurance_tier='זהב'
2025-05-31 00:50:46,769 - __main__ - INFO - 🔄 DEBUG: Collection phase, checking for transition...
2025-05-31 00:50:46,769 - __main__ - INFO - 🎉 DEBUG: Transitioning to QA phase!
2025-05-31 00:50:46,769 - __main__ - INFO - 🚀 DEBUG: User asked question, proceeding to answer...
2025-05-31 00:50:46,769 - __main__ - INFO - 🤔 Hypothetical context detected: {'hmo': None, 'hmos': [], 'tier': None, 'tiers': [], 'is_comparison': False, 'multiple_hmos': False, 'multiple_tiers': False, 'is_followup_hypothetical': False}
2025-05-31 00:50:46,769 - __main__ - INFO - 📋 Identified relevant services: ['alternative']
2025-05-31 00:50:46,769 - __main__ - INFO - 🔍 Starting get_comprehensive_knowledge_context
2025-05-31 00:50:46,769 - __main__ - INFO - 👤 User info: HMO=כללית, Tier=זהב
2025-05-31 00:50:46,769 - __main__ - INFO - 🤔 Hypothetical context: {'hmo': None, 'hmos': [], 'tier': None, 'tiers': [], 'is_comparison': False, 'multiple_hmos': False, 'multiple_tiers': False, 'is_followup_hypothetical': False}
2025-05-31 00:50:46,769 - __main__ - INFO - 📋 Identified relevant services: ['alternative']
2025-05-31 00:50:46,770 - __main__ - INFO - 🎯 Final relevant services: ['alternative']
2025-05-31 00:50:46,770 - __main__ - INFO - 📚 Available services in knowledge base: ['dental', 'optometry', 'pregnancy', 'alternative', 'communication_clinic', 'workshops']
2025-05-31 00:50:46,770 - __main__ - INFO - 🔄 Processing service: alternative
2025-05-31 00:50:46,770 - __main__ - INFO - ✅ Found alternative in knowledge base
2025-05-31 00:50:46,770 - __main__ - INFO - 👤 Including user's HMO: כללית
2025-05-31 00:50:46,770 - __main__ - INFO - 👤 Including user's tier: זהב
2025-05-31 00:50:46,770 - __main__ - INFO - 📊 Final targets - HMOs: ['כללית'], Tiers: ['זהב']
2025-05-31 00:50:46,770 - __main__ - INFO - 📋 Processing 6 services
2025-05-31 00:50:46,770 - __main__ - INFO - 📝 Final comprehensive context length: 718 chars
2025-05-31 00:50:46,770 - __main__ - INFO - 📄 First 300 chars of context:
2025-05-31 00:50:46,770 - __main__ - INFO - 

=== רפואה משלימה (רפואה אלטרנטיבית) ===
תיאור: רפואה משלימה, הידועה גם כרפואה אלטרנטיבית, מתייחסת למגוון שיטות טיפול שאינן חלק מהרפואה הקונבנציונלית. שיטות אלו משלבות גישות טיפוליות מסורתיות ומודרניות, המתמקדות בטיפול הוליסטי בגוף ובנפש. קופות החולים בישראל מציעות מגוון טיפולים ברפואה משלימה כחלק 
2025-05-31 00:50:46,770 - __main__ - INFO - ==================================================
2025-05-31 00:50:46,770 - __main__ - INFO - 📝 Knowledge context length: 718
2025-05-31 00:50:46,770 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-31 00:50:46,770 - __main__ - INFO - Knowledge context length: 718 chars
2025-05-31 00:50:49,561 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-31 00:50:49,562 - __main__ - INFO - Chat response generated successfully - Length: 458 chars
2025-05-31 00:51:01,664 - __main__ - INFO - Chat request received - Phase: qa, Language: english
2025-05-31 00:51:01,665 - __main__ - INFO - Updated user info: first_name='Or' last_name='Meiri' id_number='123456789' gender='זכר' age=2 hmo_name='כללית' hmo_card_number=None insurance_tier='זהב'
2025-05-31 00:51:01,665 - __main__ - INFO - 🤔 Hypothetical context detected: {'hmo': 'כללית', 'hmos': ['כללית'], 'tier': None, 'tiers': [], 'is_comparison': True, 'multiple_hmos': False, 'multiple_tiers': False, 'is_followup_hypothetical': False}
2025-05-31 00:51:01,665 - __main__ - INFO - 📋 Identified relevant services: ['dental', 'optometry', 'pregnancy', 'alternative', 'communication_clinic', 'workshops']
2025-05-31 00:51:01,665 - __main__ - INFO - 🔍 Starting get_comprehensive_knowledge_context
2025-05-31 00:51:01,665 - __main__ - INFO - 👤 User info: HMO=כללית, Tier=זהב
2025-05-31 00:51:01,665 - __main__ - INFO - 🤔 Hypothetical context: {'hmo': 'כללית', 'hmos': ['כללית'], 'tier': None, 'tiers': [], 'is_comparison': True, 'multiple_hmos': False, 'multiple_tiers': False, 'is_followup_hypothetical': False}
2025-05-31 00:51:01,665 - __main__ - INFO - 🌐 Hypothetical/general context detected - loading ALL knowledge base
2025-05-31 00:51:01,666 - __main__ - INFO - 📋 Using ALL services: ['dental', 'optometry', 'pregnancy', 'alternative', 'communication_clinic', 'workshops']
2025-05-31 00:51:01,666 - __main__ - INFO - 🎯 Final relevant services: ['dental', 'optometry', 'pregnancy', 'alternative', 'communication_clinic', 'workshops']
2025-05-31 00:51:01,666 - __main__ - INFO - 📚 Available services in knowledge base: ['dental', 'optometry', 'pregnancy', 'alternative', 'communication_clinic', 'workshops']
2025-05-31 00:51:01,666 - __main__ - INFO - 🔄 Processing service: dental
2025-05-31 00:51:01,666 - __main__ - INFO - ✅ Found dental in knowledge base
2025-05-31 00:51:01,666 - __main__ - INFO - 🎯 Including specific HMO: כללית
2025-05-31 00:51:01,666 - __main__ - INFO - 🔄 Including all tiers for comparison
2025-05-31 00:51:01,666 - __main__ - INFO - 📊 Final targets - HMOs: ['כללית'], Tiers: ['זהב', 'כסף', 'ארד']
2025-05-31 00:51:01,666 - __main__ - INFO - 📋 Processing 6 services
2025-05-31 00:51:01,666 - __main__ - INFO - 🔄 Processing service: optometry
2025-05-31 00:51:01,666 - __main__ - INFO - ✅ Found optometry in knowledge base
2025-05-31 00:51:01,666 - __main__ - INFO - 🎯 Including specific HMO: כללית
2025-05-31 00:51:01,666 - __main__ - INFO - 🔄 Including all tiers for comparison
2025-05-31 00:51:01,666 - __main__ - INFO - 📊 Final targets - HMOs: ['כללית'], Tiers: ['זהב', 'כסף', 'ארד']
2025-05-31 00:51:01,666 - __main__ - INFO - 📋 Processing 6 services
2025-05-31 00:51:01,666 - __main__ - INFO - 🔄 Processing service: pregnancy
2025-05-31 00:51:01,666 - __main__ - INFO - ✅ Found pregnancy in knowledge base
2025-05-31 00:51:01,666 - __main__ - INFO - 🎯 Including specific HMO: כללית
2025-05-31 00:51:01,666 - __main__ - INFO - 🔄 Including all tiers for comparison
2025-05-31 00:51:01,666 - __main__ - INFO - 📊 Final targets - HMOs: ['כללית'], Tiers: ['זהב', 'כסף', 'ארד']
2025-05-31 00:51:01,666 - __main__ - INFO - 📋 Processing 6 services
2025-05-31 00:51:01,666 - __main__ - INFO - 🔄 Processing service: alternative
2025-05-31 00:51:01,666 - __main__ - INFO - ✅ Found alternative in knowledge base
2025-05-31 00:51:01,666 - __main__ - INFO - 🎯 Including specific HMO: כללית
2025-05-31 00:51:01,666 - __main__ - INFO - 🔄 Including all tiers for comparison
2025-05-31 00:51:01,667 - __main__ - INFO - 📊 Final targets - HMOs: ['כללית'], Tiers: ['זהב', 'כסף', 'ארד']
2025-05-31 00:51:01,667 - __main__ - INFO - 📋 Processing 6 services
2025-05-31 00:51:01,667 - __main__ - INFO - 🔄 Processing service: communication_clinic
2025-05-31 00:51:01,667 - __main__ - INFO - ✅ Found communication_clinic in knowledge base
2025-05-31 00:51:01,667 - __main__ - INFO - 🎯 Including specific HMO: כללית
2025-05-31 00:51:01,667 - __main__ - INFO - 🔄 Including all tiers for comparison
2025-05-31 00:51:01,667 - __main__ - INFO - 📊 Final targets - HMOs: ['כללית'], Tiers: ['זהב', 'כסף', 'ארד']
2025-05-31 00:51:01,667 - __main__ - INFO - 📋 Processing 6 services
2025-05-31 00:51:01,667 - __main__ - INFO - 🔄 Processing service: workshops
2025-05-31 00:51:01,667 - __main__ - INFO - ✅ Found workshops in knowledge base
2025-05-31 00:51:01,667 - __main__ - INFO - 🎯 Including specific HMO: כללית
2025-05-31 00:51:01,667 - __main__ - INFO - 🔄 Including all tiers for comparison
2025-05-31 00:51:01,667 - __main__ - INFO - 📊 Final targets - HMOs: ['כללית'], Tiers: ['זהב', 'כסף', 'ארד']
2025-05-31 00:51:01,667 - __main__ - INFO - 📋 Processing 6 services
2025-05-31 00:51:01,667 - __main__ - INFO - 📝 Final comprehensive context length: 6313 chars
2025-05-31 00:51:01,667 - __main__ - INFO - 📄 First 300 chars of context:
2025-05-31 00:51:01,667 - __main__ - INFO - 

=== מרפאות שיניים ===
תיאור: מרפאות שיניים מציעות מגוון רחב של שירותי בריאות הפה, כולל בדיקות שגרתיות, ניקויים, סתימות, טיפולי שורש, עקירות, והליכים קוסמטיים. מרפאות אלו מאוישות על ידי רופאי שיניים מורשים ושינניות המשתמשים בציוד מודרני כדי להבטיח טיפול איכותי לפציינטים מכל הגילאים.

** בדיקות וניק
2025-05-31 00:51:01,667 - __main__ - INFO - ==================================================
2025-05-31 00:51:01,667 - __main__ - INFO - 📝 Knowledge context length: 6313
2025-05-31 00:51:01,667 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-31 00:51:01,667 - __main__ - INFO - Knowledge context length: 6313 chars
2025-05-31 00:51:04,306 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-31 00:51:04,309 - __main__ - INFO - Chat response generated successfully - Length: 481 chars
2025-05-31 00:51:17,208 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-31 00:51:17,209 - __main__ - INFO - message_lower: בואו נתחיל באיסוף המידע
2025-05-31 00:51:17,209 - __main__ - INFO - Skipping extraction - message appears to be from assistant: בואו נתחיל באיסוף המידע
2025-05-31 00:51:17,209 - __main__ - INFO - Updated user info: first_name=None last_name=None id_number=None gender=None age=None hmo_name=None hmo_card_number=None insurance_tier=None
2025-05-31 00:51:17,209 - __main__ - INFO - 🔄 DEBUG: Collection phase, checking for transition...
2025-05-31 00:51:17,209 - __main__ - INFO - ❌ DEBUG: No confirmation or question detected, staying in collection phase
2025-05-31 00:51:17,209 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-31 00:51:17,209 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-31 00:51:19,551 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-31 00:51:19,553 - __main__ - INFO - Chat response generated successfully - Length: 416 chars
2025-05-31 00:51:36,065 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-31 00:51:36,065 - __main__ - INFO - message_lower: אור מאירי
2025-05-31 00:51:36,065 - __main__ - INFO - Extracted full name: אור מאירי
2025-05-31 00:51:36,065 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number=None gender=None age=None hmo_name=None hmo_card_number=None insurance_tier=None
2025-05-31 00:51:36,066 - __main__ - INFO - 🔄 DEBUG: Collection phase, checking for transition...
2025-05-31 00:51:36,066 - __main__ - INFO - ❌ DEBUG: No confirmation or question detected, staying in collection phase
2025-05-31 00:51:36,066 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-31 00:51:36,066 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-31 00:51:37,410 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-31 00:51:37,412 - __main__ - INFO - Chat response generated successfully - Length: 102 chars
2025-05-31 00:51:41,405 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-31 00:51:41,406 - __main__ - INFO - message_lower: 123456789
2025-05-31 00:51:41,406 - __main__ - INFO - Extracted ID number: 123456789
2025-05-31 00:51:41,406 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number='123456789' gender=None age=None hmo_name=None hmo_card_number=None insurance_tier=None
2025-05-31 00:51:41,406 - __main__ - INFO - 🔄 DEBUG: Collection phase, checking for transition...
2025-05-31 00:51:41,406 - __main__ - INFO - ❌ DEBUG: No confirmation or question detected, staying in collection phase
2025-05-31 00:51:41,406 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-31 00:51:41,406 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-31 00:51:42,020 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-31 00:51:42,022 - __main__ - INFO - Chat response generated successfully - Length: 63 chars
2025-05-31 00:51:45,024 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-31 00:51:45,025 - __main__ - INFO - message_lower: זכר
2025-05-31 00:51:45,025 - __main__ - INFO - Extracted gender: זכר
2025-05-31 00:51:45,025 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number='123456789' gender='זכר' age=None hmo_name=None hmo_card_number=None insurance_tier=None
2025-05-31 00:51:45,025 - __main__ - INFO - 🔄 DEBUG: Collection phase, checking for transition...
2025-05-31 00:51:45,025 - __main__ - INFO - ❌ DEBUG: No confirmation or question detected, staying in collection phase
2025-05-31 00:51:45,025 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-31 00:51:45,026 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-31 00:51:45,610 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-31 00:51:45,612 - __main__ - INFO - Chat response generated successfully - Length: 67 chars
2025-05-31 00:51:47,410 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-31 00:51:47,411 - __main__ - INFO - message_lower: 2
2025-05-31 00:51:47,411 - __main__ - INFO - Extracted age: 2
2025-05-31 00:51:47,411 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number='123456789' gender='זכר' age=2 hmo_name=None hmo_card_number=None insurance_tier=None
2025-05-31 00:51:47,411 - __main__ - INFO - 🔄 DEBUG: Collection phase, checking for transition...
2025-05-31 00:51:47,411 - __main__ - INFO - ❌ DEBUG: No confirmation or question detected, staying in collection phase
2025-05-31 00:51:47,411 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-31 00:51:47,411 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-31 00:51:48,030 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-31 00:51:48,032 - __main__ - INFO - Chat response generated successfully - Length: 79 chars
2025-05-31 00:51:51,710 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-31 00:51:51,711 - __main__ - INFO - message_lower: מאוחדת
2025-05-31 00:51:51,711 - __main__ - INFO - Extracted HMO: מאוחדת
2025-05-31 00:51:51,711 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number='123456789' gender='זכר' age=2 hmo_name='מאוחדת' hmo_card_number=None insurance_tier=None
2025-05-31 00:51:51,711 - __main__ - INFO - 🔄 DEBUG: Collection phase, checking for transition...
2025-05-31 00:51:51,711 - __main__ - INFO - ❌ DEBUG: No confirmation or question detected, staying in collection phase
2025-05-31 00:51:51,711 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-31 00:51:51,711 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-31 00:51:52,361 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-31 00:51:52,362 - __main__ - INFO - Chat response generated successfully - Length: 104 chars
2025-05-31 00:51:54,094 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-31 00:51:54,095 - __main__ - INFO - message_lower: 123456789
2025-05-31 00:51:54,095 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number='123456789' gender='זכר' age=2 hmo_name='מאוחדת' hmo_card_number=None insurance_tier=None
2025-05-31 00:51:54,095 - __main__ - INFO - 🔄 DEBUG: Collection phase, checking for transition...
2025-05-31 00:51:54,095 - __main__ - INFO - ❌ DEBUG: No confirmation or question detected, staying in collection phase
2025-05-31 00:51:54,095 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-31 00:51:54,095 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-31 00:51:54,677 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-31 00:51:54,679 - __main__ - INFO - Chat response generated successfully - Length: 75 chars
2025-05-31 00:51:56,739 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-31 00:51:56,740 - __main__ - INFO - message_lower: זהב
2025-05-31 00:51:56,740 - __main__ - INFO - Extracted insurance tier: זהב
2025-05-31 00:51:56,740 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number='123456789' gender='זכר' age=2 hmo_name='מאוחדת' hmo_card_number=None insurance_tier='זהב'
2025-05-31 00:51:56,740 - __main__ - INFO - 🔄 DEBUG: Collection phase, checking for transition...
2025-05-31 00:51:56,740 - __main__ - INFO - ❌ DEBUG: No confirmation or question detected, staying in collection phase
2025-05-31 00:51:56,740 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-31 00:51:56,740 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-31 00:51:58,066 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-31 00:51:58,068 - __main__ - INFO - Chat response generated successfully - Length: 257 chars
2025-05-31 00:52:04,228 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-31 00:52:04,229 - __main__ - INFO - message_lower: אשמח לדעת מה מגיע לי בהריון?
2025-05-31 00:52:04,229 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number='123456789' gender='זכר' age=2 hmo_name='מאוחדת' hmo_card_number=None insurance_tier='זהב'
2025-05-31 00:52:04,229 - __main__ - INFO - 🔄 DEBUG: Collection phase, checking for transition...
2025-05-31 00:52:04,229 - __main__ - INFO - 🎉 DEBUG: Transitioning to QA phase!
2025-05-31 00:52:04,229 - __main__ - INFO - 🚀 DEBUG: User asked question, proceeding to answer...
2025-05-31 00:52:04,229 - __main__ - INFO - 🤔 Hypothetical context detected: {'hmo': None, 'hmos': [], 'tier': None, 'tiers': [], 'is_comparison': False, 'multiple_hmos': False, 'multiple_tiers': False, 'is_followup_hypothetical': False}
2025-05-31 00:52:04,229 - __main__ - INFO - 📋 Identified relevant services: ['pregnancy']
2025-05-31 00:52:04,229 - __main__ - INFO - 🔍 Starting get_comprehensive_knowledge_context
2025-05-31 00:52:04,229 - __main__ - INFO - 👤 User info: HMO=מאוחדת, Tier=זהב
2025-05-31 00:52:04,229 - __main__ - INFO - 🤔 Hypothetical context: {'hmo': None, 'hmos': [], 'tier': None, 'tiers': [], 'is_comparison': False, 'multiple_hmos': False, 'multiple_tiers': False, 'is_followup_hypothetical': False}
2025-05-31 00:52:04,229 - __main__ - INFO - 📋 Identified relevant services: ['pregnancy']
2025-05-31 00:52:04,229 - __main__ - INFO - 🎯 Final relevant services: ['pregnancy']
2025-05-31 00:52:04,229 - __main__ - INFO - 📚 Available services in knowledge base: ['dental', 'optometry', 'pregnancy', 'alternative', 'communication_clinic', 'workshops']
2025-05-31 00:52:04,230 - __main__ - INFO - 🔄 Processing service: pregnancy
2025-05-31 00:52:04,230 - __main__ - INFO - ✅ Found pregnancy in knowledge base
2025-05-31 00:52:04,230 - __main__ - INFO - 👤 Including user's HMO: מאוחדת
2025-05-31 00:52:04,230 - __main__ - INFO - 👤 Including user's tier: זהב
2025-05-31 00:52:04,230 - __main__ - INFO - 📊 Final targets - HMOs: ['מאוחדת'], Tiers: ['זהב']
2025-05-31 00:52:04,230 - __main__ - INFO - 📋 Processing 6 services
2025-05-31 00:52:04,230 - __main__ - INFO - 📝 Final comprehensive context length: 691 chars
2025-05-31 00:52:04,230 - __main__ - INFO - 📄 First 300 chars of context:
2025-05-31 00:52:04,230 - __main__ - INFO - 

=== הריון ===
תיאור: תקופת ההריון היא זמן משמעותי בחייה של כל אישה, המלווה בשינויים פיזיים ורגשיים רבים. קופות החולים בישראל מציעות מגוון שירותים ותמיכה לנשים הרות, במטרה להבטיח הריון בריא ובטוח. השירותים כוללים מעקב רפואי, בדיקות שגרתיות, הדרכות והכנה ללידה.

** מעקב הריון **

מאוחדת:
  • זהב: חי
2025-05-31 00:52:04,230 - __main__ - INFO - ==================================================
2025-05-31 00:52:04,230 - __main__ - INFO - 📝 Knowledge context length: 691
2025-05-31 00:52:04,230 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-31 00:52:04,230 - __main__ - INFO - Knowledge context length: 691 chars
2025-05-31 00:52:06,736 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-31 00:52:06,738 - __main__ - INFO - Chat response generated successfully - Length: 482 chars
2025-05-31 00:52:19,767 - __main__ - INFO - Chat request received - Phase: qa, Language: hebrew
2025-05-31 00:52:19,768 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number='123456789' gender='זכר' age=2 hmo_name='מאוחדת' hmo_card_number=None insurance_tier='זהב'
2025-05-31 00:52:19,768 - __main__ - INFO - 🤔 Hypothetical context detected: {'hmo': 'מאוחדת', 'hmos': ['מאוחדת'], 'tier': 'ארד', 'tiers': ['ארד'], 'is_comparison': False, 'multiple_hmos': False, 'multiple_tiers': False, 'is_followup_hypothetical': False}
2025-05-31 00:52:19,768 - __main__ - INFO - 📋 Identified relevant services: ['pregnancy']
2025-05-31 00:52:19,768 - __main__ - INFO - 🔍 Starting get_comprehensive_knowledge_context
2025-05-31 00:52:19,768 - __main__ - INFO - 👤 User info: HMO=מאוחדת, Tier=זהב
2025-05-31 00:52:19,768 - __main__ - INFO - 🤔 Hypothetical context: {'hmo': 'מאוחדת', 'hmos': ['מאוחדת'], 'tier': 'ארד', 'tiers': ['ארד'], 'is_comparison': False, 'multiple_hmos': False, 'multiple_tiers': False, 'is_followup_hypothetical': False}
2025-05-31 00:52:19,768 - __main__ - INFO - 🌐 Hypothetical/general context detected - loading ALL knowledge base
2025-05-31 00:52:19,768 - __main__ - INFO - 📋 Using ALL services: ['dental', 'optometry', 'pregnancy', 'alternative', 'communication_clinic', 'workshops']
2025-05-31 00:52:19,768 - __main__ - INFO - 🎯 Final relevant services: ['dental', 'optometry', 'pregnancy', 'alternative', 'communication_clinic', 'workshops']
2025-05-31 00:52:19,769 - __main__ - INFO - 📚 Available services in knowledge base: ['dental', 'optometry', 'pregnancy', 'alternative', 'communication_clinic', 'workshops']
2025-05-31 00:52:19,769 - __main__ - INFO - 🔄 Processing service: dental
2025-05-31 00:52:19,769 - __main__ - INFO - ✅ Found dental in knowledge base
2025-05-31 00:52:19,769 - __main__ - INFO - 🎯 Including specific HMO: מאוחדת
2025-05-31 00:52:19,769 - __main__ - INFO - 🎯 Including specific tier: ארד
2025-05-31 00:52:19,769 - __main__ - INFO - 📊 Final targets - HMOs: ['מאוחדת'], Tiers: ['ארד']
2025-05-31 00:52:19,769 - __main__ - INFO - 📋 Processing 6 services
2025-05-31 00:52:19,769 - __main__ - INFO - 🔄 Processing service: optometry
2025-05-31 00:52:19,769 - __main__ - INFO - ✅ Found optometry in knowledge base
2025-05-31 00:52:19,769 - __main__ - INFO - 🎯 Including specific HMO: מאוחדת
2025-05-31 00:52:19,769 - __main__ - INFO - 🎯 Including specific tier: ארד
2025-05-31 00:52:19,769 - __main__ - INFO - 📊 Final targets - HMOs: ['מאוחדת'], Tiers: ['ארד']
2025-05-31 00:52:19,769 - __main__ - INFO - 📋 Processing 6 services
2025-05-31 00:52:19,769 - __main__ - INFO - 🔄 Processing service: pregnancy
2025-05-31 00:52:19,769 - __main__ - INFO - ✅ Found pregnancy in knowledge base
2025-05-31 00:52:19,769 - __main__ - INFO - 🎯 Including specific HMO: מאוחדת
2025-05-31 00:52:19,769 - __main__ - INFO - 🎯 Including specific tier: ארד
2025-05-31 00:52:19,769 - __main__ - INFO - 📊 Final targets - HMOs: ['מאוחדת'], Tiers: ['ארד']
2025-05-31 00:52:19,769 - __main__ - INFO - 📋 Processing 6 services
2025-05-31 00:52:19,769 - __main__ - INFO - 🔄 Processing service: alternative
2025-05-31 00:52:19,769 - __main__ - INFO - ✅ Found alternative in knowledge base
2025-05-31 00:52:19,769 - __main__ - INFO - 🎯 Including specific HMO: מאוחדת
2025-05-31 00:52:19,769 - __main__ - INFO - 🎯 Including specific tier: ארד
2025-05-31 00:52:19,769 - __main__ - INFO - 📊 Final targets - HMOs: ['מאוחדת'], Tiers: ['ארד']
2025-05-31 00:52:19,769 - __main__ - INFO - 📋 Processing 6 services
2025-05-31 00:52:19,769 - __main__ - INFO - 🔄 Processing service: communication_clinic
2025-05-31 00:52:19,769 - __main__ - INFO - ✅ Found communication_clinic in knowledge base
2025-05-31 00:52:19,770 - __main__ - INFO - 🎯 Including specific HMO: מאוחדת
2025-05-31 00:52:19,770 - __main__ - INFO - 🎯 Including specific tier: ארד
2025-05-31 00:52:19,770 - __main__ - INFO - 📊 Final targets - HMOs: ['מאוחדת'], Tiers: ['ארד']
2025-05-31 00:52:19,770 - __main__ - INFO - 📋 Processing 6 services
2025-05-31 00:52:19,770 - __main__ - INFO - 🔄 Processing service: workshops
2025-05-31 00:52:19,770 - __main__ - INFO - ✅ Found workshops in knowledge base
2025-05-31 00:52:19,770 - __main__ - INFO - 🎯 Including specific HMO: מאוחדת
2025-05-31 00:52:19,770 - __main__ - INFO - 🎯 Including specific tier: ארד
2025-05-31 00:52:19,770 - __main__ - INFO - 📊 Final targets - HMOs: ['מאוחדת'], Tiers: ['ארד']
2025-05-31 00:52:19,770 - __main__ - INFO - 📋 Processing 6 services
2025-05-31 00:52:19,770 - __main__ - INFO - 📝 Final comprehensive context length: 3879 chars
2025-05-31 00:52:19,770 - __main__ - INFO - 📄 First 300 chars of context:
2025-05-31 00:52:19,770 - __main__ - INFO - 

=== מרפאות שיניים ===
תיאור: מרפאות שיניים מציעות מגוון רחב של שירותי בריאות הפה, כולל בדיקות שגרתיות, ניקויים, סתימות, טיפולי שורש, עקירות, והליכים קוסמטיים. מרפאות אלו מאוישות על ידי רופאי שיניים מורשים ושינניות המשתמשים בציוד מודרני כדי להבטיח טיפול איכותי לפציינטים מכל הגילאים.

** בדיקות וניק
2025-05-31 00:52:19,770 - __main__ - INFO - ==================================================
2025-05-31 00:52:19,770 - __main__ - INFO - 📝 Knowledge context length: 3879
2025-05-31 00:52:19,770 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-31 00:52:19,770 - __main__ - INFO - Knowledge context length: 3879 chars
2025-05-31 00:52:22,336 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-31 00:52:22,338 - __main__ - INFO - Chat response generated successfully - Length: 386 chars
2025-05-31 16:51:45,716 - __main__ - INFO - Azure OpenAI client initialized successfully
2025-05-31 16:51:47,245 - __main__ - INFO - health check
2025-05-31 16:51:48,294 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-31 16:51:48,294 - __main__ - INFO - message_lower: בואו נתחיל באיסוף המידע
2025-05-31 16:51:48,294 - __main__ - INFO - Skipping extraction - message appears to be from assistant: בואו נתחיל באיסוף המידע
2025-05-31 16:51:48,294 - __main__ - INFO - Updated user info: first_name=None last_name=None id_number=None gender=None age=None hmo_name=None hmo_card_number=None insurance_tier=None
2025-05-31 16:51:48,294 - __main__ - INFO - 🔄 DEBUG: Collection phase, checking for transition...
2025-05-31 16:51:48,294 - __main__ - INFO - ❌ DEBUG: No confirmation or question detected, staying in collection phase
2025-05-31 16:51:48,294 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-31 16:51:48,294 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-31 16:51:50,500 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-31 16:51:50,506 - __main__ - INFO - Chat response generated successfully - Length: 445 chars
2025-05-31 16:51:56,346 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-31 16:51:56,346 - __main__ - INFO - message_lower: אור מאירי
2025-05-31 16:51:56,347 - __main__ - INFO - Extracted full name: אור מאירי
2025-05-31 16:51:56,347 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number=None gender=None age=None hmo_name=None hmo_card_number=None insurance_tier=None
2025-05-31 16:51:56,347 - __main__ - INFO - 🔄 DEBUG: Collection phase, checking for transition...
2025-05-31 16:51:56,347 - __main__ - INFO - ❌ DEBUG: No confirmation or question detected, staying in collection phase
2025-05-31 16:51:56,348 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-31 16:51:56,348 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-31 16:51:57,359 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-31 16:51:57,361 - __main__ - INFO - Chat response generated successfully - Length: 115 chars
2025-05-31 16:52:01,628 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-31 16:52:01,628 - __main__ - INFO - message_lower: 123456789
2025-05-31 16:52:01,628 - __main__ - INFO - Extracted ID number: 123456789
2025-05-31 16:52:01,628 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number='123456789' gender=None age=None hmo_name=None hmo_card_number=None insurance_tier=None
2025-05-31 16:52:01,628 - __main__ - INFO - 🔄 DEBUG: Collection phase, checking for transition...
2025-05-31 16:52:01,628 - __main__ - INFO - ❌ DEBUG: No confirmation or question detected, staying in collection phase
2025-05-31 16:52:01,628 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-31 16:52:01,628 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-31 16:52:02,187 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-31 16:52:02,188 - __main__ - INFO - Chat response generated successfully - Length: 107 chars
2025-05-31 16:52:04,687 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-31 16:52:04,687 - __main__ - INFO - message_lower: זכר
2025-05-31 16:52:04,687 - __main__ - INFO - Extracted gender: זכר
2025-05-31 16:52:04,687 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number='123456789' gender='זכר' age=None hmo_name=None hmo_card_number=None insurance_tier=None
2025-05-31 16:52:04,687 - __main__ - INFO - 🔄 DEBUG: Collection phase, checking for transition...
2025-05-31 16:52:04,687 - __main__ - INFO - ❌ DEBUG: No confirmation or question detected, staying in collection phase
2025-05-31 16:52:04,687 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-31 16:52:04,687 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-31 16:52:05,346 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-31 16:52:05,346 - __main__ - INFO - Chat response generated successfully - Length: 68 chars
2025-05-31 16:52:07,177 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-31 16:52:07,177 - __main__ - INFO - message_lower: 2
2025-05-31 16:52:07,177 - __main__ - INFO - Extracted age: 2
2025-05-31 16:52:07,177 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number='123456789' gender='זכר' age=2 hmo_name=None hmo_card_number=None insurance_tier=None
2025-05-31 16:52:07,177 - __main__ - INFO - 🔄 DEBUG: Collection phase, checking for transition...
2025-05-31 16:52:07,177 - __main__ - INFO - ❌ DEBUG: No confirmation or question detected, staying in collection phase
2025-05-31 16:52:07,177 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-31 16:52:07,178 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-31 16:52:08,010 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-31 16:52:08,011 - __main__ - INFO - Chat response generated successfully - Length: 109 chars
2025-05-31 16:52:10,332 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-31 16:52:10,332 - __main__ - INFO - message_lower: מכבי
2025-05-31 16:52:10,332 - __main__ - INFO - Extracted HMO: מכבי
2025-05-31 16:52:10,333 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number='123456789' gender='זכר' age=2 hmo_name='מכבי' hmo_card_number=None insurance_tier=None
2025-05-31 16:52:10,333 - __main__ - INFO - 🔄 DEBUG: Collection phase, checking for transition...
2025-05-31 16:52:10,333 - __main__ - INFO - ❌ DEBUG: No confirmation or question detected, staying in collection phase
2025-05-31 16:52:10,333 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-31 16:52:10,333 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-31 16:52:10,962 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-31 16:52:10,964 - __main__ - INFO - Chat response generated successfully - Length: 108 chars
2025-05-31 16:52:13,089 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-31 16:52:13,089 - __main__ - INFO - message_lower: 123456789
2025-05-31 16:52:13,089 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number='123456789' gender='זכר' age=2 hmo_name='מכבי' hmo_card_number=None insurance_tier=None
2025-05-31 16:52:13,089 - __main__ - INFO - 🔄 DEBUG: Collection phase, checking for transition...
2025-05-31 16:52:13,089 - __main__ - INFO - ❌ DEBUG: No confirmation or question detected, staying in collection phase
2025-05-31 16:52:13,089 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-31 16:52:13,089 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-31 16:52:13,666 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-31 16:52:13,668 - __main__ - INFO - Chat response generated successfully - Length: 103 chars
2025-05-31 16:52:15,371 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-31 16:52:15,371 - __main__ - INFO - message_lower: זהב
2025-05-31 16:52:15,371 - __main__ - INFO - Extracted insurance tier: זהב
2025-05-31 16:52:15,371 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number='123456789' gender='זכר' age=2 hmo_name='מכבי' hmo_card_number=None insurance_tier='זהב'
2025-05-31 16:52:15,371 - __main__ - INFO - 🔄 DEBUG: Collection phase, checking for transition...
2025-05-31 16:52:15,371 - __main__ - INFO - ❌ DEBUG: No confirmation or question detected, staying in collection phase
2025-05-31 16:52:15,371 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-31 16:52:15,371 - __main__ - INFO - Knowledge context length: 0 chars
2025-05-31 16:52:16,667 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-31 16:52:16,670 - __main__ - INFO - Chat response generated successfully - Length: 249 chars
2025-05-31 16:52:19,555 - __main__ - INFO - Chat request received - Phase: collection, Language: hebrew
2025-05-31 16:52:19,556 - __main__ - INFO - message_lower: נכון
2025-05-31 16:52:19,556 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number='123456789' gender='זכר' age=2 hmo_name='מכבי' hmo_card_number=None insurance_tier='זהב'
2025-05-31 16:52:19,556 - __main__ - INFO - 🔄 DEBUG: Collection phase, checking for transition...
2025-05-31 16:52:19,556 - __main__ - INFO - 🎉 DEBUG: Transitioning to QA phase!
2025-05-31 16:52:24,673 - __main__ - INFO - Chat request received - Phase: qa, Language: hebrew
2025-05-31 16:52:24,673 - __main__ - INFO - Updated user info: first_name='אור' last_name='מאירי' id_number='123456789' gender='זכר' age=2 hmo_name='מכבי' hmo_card_number=None insurance_tier='זהב'
2025-05-31 16:52:24,674 - __main__ - INFO - 🤔 Hypothetical context detected: {'hmo': None, 'hmos': [], 'tier': None, 'tiers': [], 'is_comparison': False, 'multiple_hmos': False, 'multiple_tiers': False, 'is_followup_hypothetical': False}
2025-05-31 16:52:24,674 - __main__ - INFO - 📋 Identified relevant services: ['pregnancy']
2025-05-31 16:52:24,674 - __main__ - INFO - 🔍 Starting get_comprehensive_knowledge_context
2025-05-31 16:52:24,674 - __main__ - INFO - 👤 User info: HMO=מכבי, Tier=זהב
2025-05-31 16:52:24,674 - __main__ - INFO - 🤔 Hypothetical context: {'hmo': None, 'hmos': [], 'tier': None, 'tiers': [], 'is_comparison': False, 'multiple_hmos': False, 'multiple_tiers': False, 'is_followup_hypothetical': False}
2025-05-31 16:52:24,674 - __main__ - INFO - 📋 Identified relevant services: ['pregnancy']
2025-05-31 16:52:24,674 - __main__ - INFO - 🎯 Final relevant services: ['pregnancy']
2025-05-31 16:52:24,674 - __main__ - INFO - 📚 Available services in knowledge base: ['dental', 'optometry', 'pregnancy', 'alternative', 'communication_clinic', 'workshops']
2025-05-31 16:52:24,674 - __main__ - INFO - 🔄 Processing service: pregnancy
2025-05-31 16:52:24,674 - __main__ - INFO - ✅ Found pregnancy in knowledge base
2025-05-31 16:52:24,674 - __main__ - INFO - 👤 Including user's HMO: מכבי
2025-05-31 16:52:24,674 - __main__ - INFO - 👤 Including user's tier: זהב
2025-05-31 16:52:24,674 - __main__ - INFO - 📊 Final targets - HMOs: ['מכבי'], Tiers: ['זהב']
2025-05-31 16:52:24,674 - __main__ - INFO - 📋 Processing 6 services
2025-05-31 16:52:24,674 - __main__ - INFO - 📝 Final comprehensive context length: 674 chars
2025-05-31 16:52:24,674 - __main__ - INFO - 📄 First 300 chars of context:
2025-05-31 16:52:24,674 - __main__ - INFO - 

=== הריון ===
תיאור: תקופת ההריון היא זמן משמעותי בחייה של כל אישה, המלווה בשינויים פיזיים ורגשיים רבים. קופות החולים בישראל מציעות מגוון שירותים ותמיכה לנשים הרות, במטרה להבטיח הריון בריא ובטוח. השירותים כוללים מעקב רפואי, בדיקות שגרתיות, הדרכות והכנה ללידה.

** מעקב הריון **

מכבי:
  • זהב: חינם
2025-05-31 16:52:24,674 - __main__ - INFO - ==================================================
2025-05-31 16:52:24,675 - __main__ - INFO - 📝 Knowledge context length: 674
2025-05-31 16:52:24,675 - __main__ - INFO - Calling Azure OpenAI with model: gpt-4o
2025-05-31 16:52:24,675 - __main__ - INFO - Knowledge context length: 674 chars
2025-05-31 16:52:26,952 - httpx - INFO - HTTP Request: POST https://oai-lab-test-eastus-001.openai.azure.com/openai/deployments/gpt-4o/chat/completions?api-version=2024-02-01 "HTTP/1.1 200 OK"
2025-05-31 16:52:26,952 - __main__ - INFO - Chat response generated successfully - Length: 534 chars
